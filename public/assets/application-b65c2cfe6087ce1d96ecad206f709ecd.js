function startOsc(e){oscillator=context.createOscillator(),oscillator.type=0,oscillator.frequency.value=e,oscillator.noteOn(now),gain=context.createGainNode(),gain.gain.value=.5,oscillator.connect(gain),gain.connect(context.destination),oscillatorCounter++}function off(){setTimeout(function(){oscillator.noteOff(now),oscillator.disconnect()},200)}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=st.type(e);return"function"===n||st.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(st.isFunction(t))return st.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return st.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(pt.test(t))return st.filter(t,e,n);t=st.filter(t,e)}return st.grep(e,function(e){return st.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function s(e){var t=xt[e]={};return st.each(e.match(_t)||[],function(e,n){t[n]=!0}),t}function a(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1)):(mt.detachEvent("onreadystatechange",o),e.detachEvent("onload",o))}function o(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(a(),st.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(At,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:St.test(n)?st.parseJSON(n):n}catch(r){}st.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!st.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(st.acceptData(e)){var r,s,a=st.expando,o=e.nodeType,u=o?st.cache:e,l=o?e[a]:e[a]&&a;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=o?e[a]=X.pop()||st.guid++:a),u[l]||(u[l]=o?{}:{toJSON:st.noop}),("object"==typeof t||"function"==typeof t)&&(i?u[l]=st.extend(u[l],t):u[l].data=st.extend(u[l].data,t)),s=u[l],i||(s.data||(s.data={}),s=s.data),void 0!==n&&(s[st.camelCase(t)]=n),"string"==typeof t?(r=s[t],null==r&&(r=s[st.camelCase(t)])):r=s,r}}function f(e,t,n){if(st.acceptData(e)){var i,r,s=e.nodeType,a=s?st.cache:e,o=s?e[st.expando]:st.expando;if(a[o]){if(t&&(i=n?a[o]:a[o].data)){st.isArray(t)?t=t.concat(st.map(t,st.camelCase)):t in i?t=[t]:(t=st.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!l(i):!st.isEmptyObject(i))return}(n||(delete a[o].data,l(a[o])))&&(s?st.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}function h(){return!0}function p(){return!1}function d(){try{return mt.activeElement}catch(e){}}function m(e){var t=Ft.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function v(e,t){var n,i,r=0,s=typeof e.getElementsByTagName!==Tt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Tt?e.querySelectorAll(t||"*"):void 0;if(!s)for(s=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||st.nodeName(i,t)?s.push(i):st.merge(s,v(i,t));return void 0===t||t&&st.nodeName(e,t)?st.merge([e],s):s}function g(e){jt.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return st.nodeName(e,"table")&&st.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==st.find.attr(e,"type"))+"/"+e.type,e}function _(e){var t=Xt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var n,i=0;null!=(n=e[i]);i++)st._data(n,"globalEval",!t||st._data(t[i],"globalEval"))}function w(e,t){if(1===t.nodeType&&st.hasData(e)){var n,i,r,s=st._data(e),a=st._data(t,s),o=s.events;if(o){delete a.handle,a.events={};for(n in o)for(i=0,r=o[n].length;r>i;i++)st.event.add(t,n,o[n][i])}a.data&&(a.data=st.extend({},a.data))}}function k(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[st.expando]){r=st._data(t);for(i in r.events)st.removeEvent(t,i,r.handle);t.removeAttribute(st.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,_(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!st.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&jt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i=st(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:st.css(i[0],"display");return i.detach(),r}function S(e){var t=mt,n=en[e];return n||(n=T(e,t),"none"!==n&&n||(Zt=(Zt||st("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Zt.detach()),en[e]=n),n}function A(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function I(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=dn.length;r--;)if(t=dn[r]+n,t in e)return t;return i}function D(e,t){for(var n,i,r,s=[],a=0,o=e.length;o>a;a++)i=e[a],i.style&&(s[a]=st._data(i,"olddisplay"),n=i.style.display,t?(s[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Rt(i)&&(s[a]=st._data(i,"olddisplay",S(i.nodeName)))):s[a]||(r=Rt(i),(n&&"none"!==n||!r)&&st._data(i,"olddisplay",r?n:st.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function R(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,r){for(var s=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===n&&(a+=st.css(e,n+Dt[s],!0,r)),i?("content"===n&&(a-=st.css(e,"padding"+Dt[s],!0,r)),"margin"!==n&&(a-=st.css(e,"border"+Dt[s]+"Width",!0,r))):(a+=st.css(e,"padding"+Dt[s],!0,r),"padding"!==n&&(a+=st.css(e,"border"+Dt[s]+"Width",!0,r)));return a}function j(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=tn(e),a=it.boxSizing()&&"border-box"===st.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=nn(e,t,s),(0>r||null==r)&&(r=e.style[t]),sn.test(r))return r;i=a&&(it.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+C(e,t,n||(a?"border":"content"),i,s)+"px"}function E(e,t,n,i,r){return new E.prototype.init(e,t,n,i,r)}function L(){return setTimeout(function(){mn=void 0}),mn=st.now()}function O(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Dt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e,t,n){for(var i,r=(xn[t]||[]).concat(xn["*"]),s=0,a=r.length;a>s;s++)if(i=r[s].call(n,t,e))return i}function N(e,t,n){var i,r,s,a,o,u,l,c,f=this,h={},p=e.style,d=e.nodeType&&Rt(e),m=st._data(e,"fxshow");n.queue||(o=st._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,u=o.empty.fire,o.empty.fire=function(){o.unqueued||u()}),o.unqueued++,f.always(function(){f.always(function(){o.unqueued--,st.queue(e,"fx").length||o.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],l=st.css(e,"display"),c=S(e.nodeName),"none"===l&&(l=c),"inline"===l&&"none"===st.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==c?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",it.shrinkWrapBlocks()||f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],gn.exec(r)){if(delete t[i],s=s||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;d=!0}h[i]=m&&m[i]||st.style(e,i)}if(!st.isEmptyObject(h)){m?"hidden"in m&&(d=m.hidden):m=st._data(e,"fxshow",{}),s&&(m.hidden=!d),d?st(e).show():f.done(function(){st(e).hide()}),f.done(function(){var t;st._removeData(e,"fxshow");for(t in h)st.style(e,t,h[t])});for(i in h)a=M(d?m[i]:0,i,f),i in m||(m[i]=a.start,d&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function F(e,t){var n,i,r,s,a;for(n in e)if(i=st.camelCase(n),r=t[i],s=e[n],st.isArray(s)&&(r=s[1],s=e[n]=s[0]),n!==i&&(e[i]=s,delete e[n]),a=st.cssHooks[i],a&&"expand"in a){s=a.expand(s),delete e[i];for(n in s)n in e||(e[n]=s[n],t[n]=r)}else t[i]=r}function q(e,t,n){var i,r,s=0,a=_n.length,o=st.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=mn||L(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,s=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(s);return o.notifyWith(e,[l,s,n]),1>s&&u?n:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:st.extend({},t),opts:st.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=st.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),c=l.props;for(F(c,l.opts.specialEasing);a>s;s++)if(i=_n[s].call(l,e,c,l.opts))return i;return st.map(c,M,l),st.isFunction(l.opts.start)&&l.opts.start.call(e,l),st.fx.timer(st.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function P(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,s=t.toLowerCase().match(_t)||[];if(st.isFunction(n))for(;i=s[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function B(e,t,n,i){function r(o){var u;return s[o]=!0,st.each(e[o]||[],function(e,o){var l=o(t,n,i);return"string"!=typeof l||a||s[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var s={},a=e===Gn;return r(t.dataTypes[0])||!s["*"]&&r("*")}function z(e,t){var n,i,r=st.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&st.extend(!0,e,n),e}function W(e,t,n){for(var i,r,s,a,o=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in o)if(o[a]&&o[a].test(r)){u.unshift(a);break}if(u[0]in n)s=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){s=a;break}i||(i=a)}s=s||i}return s?(s!==u[0]&&u.unshift(s),n[s]):void 0}function H(e,t,n,i){var r,s,a,o,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(s=c.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=s,s=c.shift())if("*"===s)s=u;else if("*"!==u&&u!==s){if(a=l[u+" "+s]||l["* "+s],!a)for(r in l)if(o=r.split(" "),o[1]===s&&(a=l[u+" "+o[0]]||l["* "+o[0]])){a===!0?a=l[r]:l[r]!==!0&&(s=o[0],c.unshift(o[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+s}}}return{state:"success",data:t}}function $(e,t,n,i){var r;if(st.isArray(t))st.each(t,function(t,r){n||Yn.test(e)?i(e,r):$(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==st.type(t))i(e,t);else for(r in t)$(e+"["+r+"]",t[r],n,i)}function G(){try{return new e.XMLHttpRequest}catch(t){}}function V(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function K(e){return st.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],Y=X.slice,U=X.concat,Q=X.push,J=X.indexOf,Z={},et=Z.toString,tt=Z.hasOwnProperty,nt="".trim,it={},rt="1.11.0",st=function(e,t){return new st.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ot=/^-ms-/,ut=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};st.fn=st.prototype={jquery:rt,constructor:st,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=st.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return st.each(this,e,t)},map:function(e){return this.pushStack(st.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:X.sort,splice:X.splice},st.extend=st.fn.extend=function(){var e,t,n,i,r,s,a=arguments[0]||{},o=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[o]||{},o++),"object"==typeof a||st.isFunction(a)||(a={}),o===u&&(a=this,o--);u>o;o++)if(null!=(r=arguments[o]))for(i in r)e=a[i],n=r[i],a!==n&&(l&&n&&(st.isPlainObject(n)||(t=st.isArray(n)))?(t?(t=!1,s=e&&st.isArray(e)?e:[]):s=e&&st.isPlainObject(e)?e:{},a[i]=st.extend(l,s,n)):void 0!==n&&(a[i]=n));return a},st.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===st.type(e)},isArray:Array.isArray||function(e){return"array"===st.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==st.type(e)||e.nodeType||st.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Z[et.call(e)]||"object":typeof e},globalEval:function(t){t&&st.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ot,"ms-").replace(ut,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,s=0,a=e.length,o=n(e);if(i){if(o)for(;a>s&&(r=t.apply(e[s],i),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],i),r===!1)break}else if(o)for(;a>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:nt&&!nt.call("\ufeff\xa0")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?st.merge(i,"string"==typeof e?[e]:e):Q.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(J)return J.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],s=0,a=e.length,o=!n;a>s;s++)i=!t(e[s],s),i!==o&&r.push(e[s]);return r},map:function(e,t,i){var r,s=0,a=e.length,o=n(e),u=[];if(o)for(;a>s;s++)r=t(e[s],s,i),null!=r&&u.push(r);else for(s in e)r=t(e[s],s,i),null!=r&&u.push(r);return U.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),st.isFunction(e)?(n=Y.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Y.call(arguments)))},i.guid=e.guid=e.guid||st.guid++,i):void 0},now:function(){return+new Date},support:it}),st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Z["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var r,s,a,o,u,l,f,d,m,v;if((t?t.ownerDocument||t:B)!==E&&j(t),t=t||E,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(O&&!i){if(r=yt.exec(e))if(a=r[1]){if(9===o){if(s=t.getElementById(a),!s||!s.parentNode)return n;if(s.id===a)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&q(t,s)&&s.id===a)return n.push(s),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&k.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!M||!M.test(e))){if(d=f=P,m=t,v=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(l=h(e),(f=t.getAttribute("id"))?d=f.replace(_t,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+p(l[u]);m=bt.test(e)&&c(t.parentNode)||t,v=l.join(",")}if(v)try{return Z.apply(n,m.querySelectorAll(v)),n}catch(g){}finally{f||t.removeAttribute("id")}}}return x(e.replace(ut,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[P]=!0,e}function r(e){var t=E.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,s=e([],n.length,t),a=s.length;a--;)n[r=s[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==K&&e}function f(){}function h(e,n){var i,r,s,a,o,u,l,c=$[e+" "];if(c)return n?0:c.slice(0);for(o=e,u=[],l=T.preFilter;o;){(!i||(r=lt.exec(o)))&&(r&&(o=o.slice(r[0].length)||o),u.push(s=[])),i=!1,(r=ct.exec(o))&&(i=r.shift(),s.push({value:i,type:r[0].replace(ut," ")}),o=o.slice(i.length));for(a in T.filter)!(r=dt[a].exec(o))||l[a]&&!(r=l[a](r))||(i=r.shift(),s.push({value:i,type:a,matches:r}),o=o.slice(i.length));if(!i)break}return n?o.length:o?t.error(e):$(e,u).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function d(e,t,n){var i=t.dir,r=n&&"parentNode"===i,s=W++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,a){var o,u,l=[z,s];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[P]||(t[P]={}),(o=u[i])&&o[0]===z&&o[1]===s)return l[2]=o[2];if(u[i]=l,l[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function v(e,t,n,i,r){for(var s,a=[],o=0,u=e.length,l=null!=t;u>o;o++)(s=e[o])&&(!n||n(s,i,r))&&(a.push(s),l&&t.push(o));return a}function g(e,t,n,r,s,a){return r&&!r[P]&&(r=g(r)),s&&!s[P]&&(s=g(s,a)),i(function(i,a,o,u){var l,c,f,h=[],p=[],d=a.length,m=i||_(t||"*",o.nodeType?[o]:o,[]),g=!e||!i&&t?m:v(m,h,e,o,u),y=n?s||(i?e:d||r)?[]:a:g;if(n&&n(g,y,o,u),r)for(l=v(y,p),r(l,[],o,u),c=l.length;c--;)(f=l[c])&&(y[p[c]]=!(g[p[c]]=f));if(i){if(s||e){if(s){for(l=[],c=y.length;c--;)(f=y[c])&&l.push(g[c]=f);s(null,y=[],l,u)}for(c=y.length;c--;)(f=y[c])&&(l=s?tt.call(i,f):h[c])>-1&&(i[l]=!(a[l]=f))}}else y=v(y===a?y.splice(d,y.length):y),s?s(null,a,y,u):Z.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,s=T.relative[e[0].type],a=s||T.relative[" "],o=s?1:0,u=d(function(e){return e===t},a,!0),l=d(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,i){return!s&&(i||n!==D)||((t=n).nodeType?u(e,n,i):l(e,n,i))}];r>o;o++)if(n=T.relative[e[o].type])c=[d(m(c),n)];else{if(n=T.filter[e[o].type].apply(null,e[o].matches),n[P]){for(i=++o;r>i&&!T.relative[e[i].type];i++);return g(o>1&&m(c),o>1&&p(e.slice(0,o-1).concat({value:" "===e[o-2].type?"*":""})).replace(ut,"$1"),n,i>o&&y(e.slice(o,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}c.push(n)}return m(c)}function b(e,n){var r=n.length>0,s=e.length>0,a=function(i,a,o,u,l){var c,f,h,p=0,d="0",m=i&&[],g=[],y=D,b=i||s&&T.find.TAG("*",l),_=z+=null==y?1:Math.random()||.1,x=b.length;for(l&&(D=a!==E&&a);d!==x&&null!=(c=b[d]);d++){if(s&&c){for(f=0;h=e[f++];)if(h(c,a,o)){u.push(c);break}l&&(z=_)}r&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=d,r&&d!==p){for(f=0;h=n[f++];)h(m,g,a,o);if(i){if(p>0)for(;d--;)m[d]||g[d]||(g[d]=Q.call(u));g=v(g)}Z.apply(u,g),l&&!i&&g.length>0&&p+n.length>1&&t.uniqueSort(u)}return l&&(z=_,D=y),m};return r?i(a):a}function _(e,n,i){for(var r=0,s=n.length;s>r;r++)t(e,n[r],i);return i}function x(e,t,n,i){var r,s,a,o,u,l=h(e);if(!i&&1===l.length){if(s=l[0]=l[0].slice(0),s.length>2&&"ID"===(a=s[0]).type&&k.getById&&9===t.nodeType&&O&&T.relative[s[1].type]){if(t=(T.find.ID(a.matches[0].replace(xt,wt),t)||[])[0],!t)return n;e=e.slice(s.shift().value.length)}for(r=dt.needsContext.test(e)?0:s.length;r--&&(a=s[r],!T.relative[o=a.type]);)if((u=T.find[o])&&(i=u(a.matches[0].replace(xt,wt),bt.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),e=i.length&&p(s),!e)return Z.apply(n,i),n;break}}return I(e,l)(i,t,!O,n,bt.test(e)&&c(t.parentNode)||t),n}var w,k,T,S,A,I,D,R,C,j,E,L,O,M,N,F,q,P="sizzle"+-new Date,B=e.document,z=0,W=0,H=n(),$=n(),G=n(),V=function(e,t){return e===t&&(C=!0),0},K="undefined",X=1<<31,Y={}.hasOwnProperty,U=[],Q=U.pop,J=U.push,Z=U.push,et=U.slice,tt=U.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=rt.replace("w","w#"),at="\\["+it+"*("+rt+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+it+"*\\]",ot=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ft=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ht=new RegExp(ot),pt=new RegExp("^"+st+"$"),dt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,_t=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),wt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{Z.apply(U=et.call(B.childNodes),B.childNodes),U[B.childNodes.length].nodeType}catch(kt){Z={apply:U.length?function(e,t){J.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},A=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},j=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:B,i=n.defaultView;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,L=n.documentElement,O=!A(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){j()},!1):i.attachEvent&&i.attachEvent("onunload",function(){j()})),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=gt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=r(function(e){return L.appendChild(e).id=P,!n.getElementsByName||!n.getElementsByName(P).length}),k.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==K&&O){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[r++];)1===n.nodeType&&i.push(n);return i}return s},T.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&O?t.getElementsByClassName(e):void 0},N=[],M=[],(k.qsa=gt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&M.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||M.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(k.matchesSelector=gt.test(F=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(e){k.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),N.push("!=",ot)}),M=M.length&&new RegExp(M.join("|")),N=N.length&&new RegExp(N.join("|")),t=gt.test(L.compareDocumentPosition),q=t||gt.test(L.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return C=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!k.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===B&&q(B,e)?-1:t===n||t.ownerDocument===B&&q(B,t)?1:R?tt.call(R,e)-tt.call(R,t):0:4&i?-1:1)}:function(e,t){if(e===t)return C=!0,0;var i,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===n?-1:t===n?1:s?-1:o?1:R?tt.call(R,e)-tt.call(R,t):0;if(s===o)return a(e,t);for(i=e;i=i.parentNode;)u.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;u[r]===l[r];)r++;return r?a(u[r],l[r]):u[r]===B?-1:l[r]===B?1:0},n):E},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==E&&j(e),n=n.replace(ft,"='$1']"),!(!k.matchesSelector||!O||N&&N.test(n)||M&&M.test(n)))try{var i=F.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,E,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==E&&j(e),q(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==E&&j(e);var n=T.attrHandle[t.toLowerCase()],i=n&&Y.call(T.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==i?i:k.attributes||!O?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(C=!k.detectDuplicates,R=!k.sortStable&&e.slice(0),e.sort(V),C){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return R=null,e},S=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=S(t);return n},T=t.selectors={cacheLength:50,createPseudo:i,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return dt.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&ht.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var s=t.attr(r,e);return null==s?"!="===n:n?(s+="","="===n?s===i:"!="===n?s!==i:"^="===n?i&&0===s.indexOf(i):"*="===n?i&&s.indexOf(i)>-1:"$="===n?i&&s.slice(-i.length)===i:"~="===n?(" "+s+" ").indexOf(i)>-1:"|="===n?s===i||s.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var s="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,h,p,d,m=s!==a?"nextSibling":"previousSibling",v=t.parentNode,g=o&&t.nodeName.toLowerCase(),y=!u&&!o;if(v){if(s){for(;m;){for(f=t;f=f[m];)if(o?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?v.firstChild:v.lastChild],a&&y){for(c=v[P]||(v[P]={}),l=c[e]||[],p=l[0]===z&&l[1],h=l[0]===z&&l[2],f=p&&v.childNodes[p];f=++p&&f&&f[m]||(h=p=0)||d.pop();)if(1===f.nodeType&&++h&&f===t){c[e]=[z,p,h];break}}else if(y&&(l=(t[P]||(t[P]={}))[e])&&l[0]===z)h=l[1];else for(;(f=++p&&f&&f[m]||(h=p=0)||d.pop())&&((o?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++h||(y&&((f[P]||(f[P]={}))[e]=[z,h]),f!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[P]?s(n):s.length>1?(r=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=s(e,n),a=r.length;a--;)i=tt.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return s(e,0,r)}):s}},pseudos:{not:i(function(e){var t=[],n=[],r=I(e.replace(ut,"$1"));return r[P]?i(function(e,t,n,i){for(var s,a=r(e,null,i,[]),o=e.length;o--;)(s=a[o])&&(e[o]=!(t[o]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:i(function(e){return pt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===L},focus:function(e){return e===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=o(w);
for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);return f.prototype=T.filters=T.pseudos,T.setFilters=new f,I=t.compile=function(e,t){var n,i=[],r=[],s=G[e+" "];if(!s){for(t||(t=h(e)),n=t.length;n--;)s=y(t[n]),s[P]?i.push(s):r.push(s);s=G(e,b(r,i))}return s},k.sortStable=P.split("").sort(V).join("")===P,k.detectDuplicates=!!C,j(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(E.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);st.find=ct,st.expr=ct.selectors,st.expr[":"]=st.expr.pseudos,st.unique=ct.uniqueSort,st.text=ct.getText,st.isXMLDoc=ct.isXML,st.contains=ct.contains;var ft=st.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,pt=/^.[^:#\[\.,]*$/;st.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?st.find.matchesSelector(i,e)?[i]:[]:st.find.matches(e,st.grep(t,function(e){return 1===e.nodeType}))},st.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(st(e).filter(function(){for(t=0;r>t;t++)if(st.contains(i[t],this))return!0}));for(t=0;r>t;t++)st.find(e,i[t],n);return n=this.pushStack(r>1?st.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ft.test(e)?st(e):e||[],!1).length}});var dt,mt=e.document,vt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=st.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:vt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||dt).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof st?t[0]:t,st.merge(this,st.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),ht.test(n[1])&&st.isPlainObject(t))for(n in t)st.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=mt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return dt.find(e);this.length=1,this[0]=i}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):st.isFunction(e)?"undefined"!=typeof dt.ready?dt.ready(e):e(st):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),st.makeArray(e,this))};gt.prototype=st.fn,dt=st(mt);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};st.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!st(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),st.fn.extend({has:function(e){var t,n=st(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(st.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,s=[],a=ft.test(e)||"string"!=typeof e?st(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&st.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?st.unique(s):s)},index:function(e){return e?"string"==typeof e?st.inArray(this[0],st(e)):st.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(st.unique(st.merge(this.get(),st(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),st.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return st.dir(e,"parentNode")},parentsUntil:function(e,t,n){return st.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return st.dir(e,"nextSibling")},prevAll:function(e){return st.dir(e,"previousSibling")},nextUntil:function(e,t,n){return st.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return st.dir(e,"previousSibling",n)},siblings:function(e){return st.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return st.sibling(e.firstChild)},contents:function(e){return st.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:st.merge([],e.childNodes)}},function(e,t){st.fn[e]=function(n,i){var r=st.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=st.filter(i,r)),this.length>1&&(bt[e]||(r=st.unique(r)),yt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var _t=/\S+/g,xt={};st.Callbacks=function(e){e="string"==typeof e?xt[e]||s(e):st.extend({},e);var t,n,i,r,a,o,u=[],l=!e.once&&[],c=function(s){for(n=e.memory&&s,i=!0,a=o||0,o=0,r=u.length,t=!0;u&&r>a;a++)if(u[a].apply(s[0],s[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:f.disable())},f={add:function(){if(u){var i=u.length;!function s(t){st.each(t,function(t,n){var i=st.type(n);"function"===i?e.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==i&&s(n)})}(arguments),t?r=u.length:n&&(o=i,c(n))}return this},remove:function(){return u&&st.each(arguments,function(e,n){for(var i;(i=st.inArray(n,u,i))>-1;)u.splice(i,1),t&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?st.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],r=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||f.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||i&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},st.extend({Deferred:function(e){var t=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return st.Deferred(function(n){st.each(t,function(t,s){var a=st.isFunction(e[t])&&e[t];r[s[1]](function(){var e=a&&a.apply(this,arguments);e&&st.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?st.extend(e,i):i}},r={};return i.pipe=i.then,st.each(t,function(e,s){var a=s[2],o=s[3];i[s[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?i:this,arguments),this},r[s[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,s=Y.call(arguments),a=s.length,o=1!==a||e&&st.isFunction(e.promise)?a:0,u=1===o?e:st.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Y.call(arguments):r,i===t?u.notifyWith(n,i):--o||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)s[r]&&st.isFunction(s[r].promise)?s[r].promise().done(l(r,i,s)).fail(u.reject).progress(l(r,n,t)):--o;return o||u.resolveWith(i,s),u.promise()}});var wt;st.fn.ready=function(e){return st.ready.promise().done(e),this},st.extend({isReady:!1,readyWait:1,holdReady:function(e){e?st.readyWait++:st.ready(!0)},ready:function(e){if(e===!0?!--st.readyWait:!st.isReady){if(!mt.body)return setTimeout(st.ready);st.isReady=!0,e!==!0&&--st.readyWait>0||(wt.resolveWith(mt,[st]),st.fn.trigger&&st(mt).trigger("ready").off("ready"))}}}),st.ready.promise=function(t){if(!wt)if(wt=st.Deferred(),"complete"===mt.readyState)setTimeout(st.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1);else{mt.attachEvent("onreadystatechange",o),e.attachEvent("onload",o);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!st.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}a(),st.ready()}}()}return wt.promise(t)};var kt,Tt="undefined";for(kt in st(it))break;it.ownLast="0"!==kt,it.inlineBlockNeedsLayout=!1,st(function(){var e,t,n=mt.getElementsByTagName("body")[0];n&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),st.acceptData=function(e){var t=st.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var St=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,At=/([A-Z])/g;st.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?st.cache[e[st.expando]]:e[st.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return f(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return f(e,t,!0)}}),st.fn.extend({data:function(e,t){var n,i,r,s=this[0],a=s&&s.attributes;if(void 0===e){if(this.length&&(r=st.data(s),1===s.nodeType&&!st._data(s,"parsedAttrs"))){for(n=a.length;n--;)i=a[n].name,0===i.indexOf("data-")&&(i=st.camelCase(i.slice(5)),u(s,i,r[i]));st._data(s,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){st.data(this,e)}):arguments.length>1?this.each(function(){st.data(this,e,t)}):s?u(s,e,st.data(s,e)):void 0},removeData:function(e){return this.each(function(){st.removeData(this,e)})}}),st.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=st._data(e,t),n&&(!i||st.isArray(n)?i=st._data(e,t,st.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=st.queue(e,t),i=n.length,r=n.shift(),s=st._queueHooks(e,t),a=function(){st.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete s.stop,r.call(e,a,s)),!i&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return st._data(e,n)||st._data(e,n,{empty:st.Callbacks("once memory").add(function(){st._removeData(e,t+"queue"),st._removeData(e,n)})})}}),st.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?st.queue(this[0],e):void 0===t?this:this.each(function(){var n=st.queue(this,e,t);st._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&st.dequeue(this,e)})},dequeue:function(e){return this.each(function(){st.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=st.Deferred(),s=this,a=this.length,o=function(){--i||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=st._data(s[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(o));return o(),r.promise(t)}});var It=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Dt=["Top","Right","Bottom","Left"],Rt=function(e,t){return e=t||e,"none"===st.css(e,"display")||!st.contains(e.ownerDocument,e)},Ct=st.access=function(e,t,n,i,r,s,a){var o=0,u=e.length,l=null==n;if("object"===st.type(n)){r=!0;for(o in n)st.access(e,t,o,n[o],!0,s,a)}else if(void 0!==i&&(r=!0,st.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(st(e),n)})),t))for(;u>o;o++)t(e[o],n,a?i:i.call(e[o],o,t(e[o],n)));return r?e:l?t.call(e):u?t(e[0],n):s},jt=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),n=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,i=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),it[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Et=/^(?:input|select|textarea)$/i,Lt=/^key/,Ot=/^(?:mouse|contextmenu)|click/,Mt=/^(?:focusinfocus|focusoutblur)$/,Nt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(e,t,n,i,r){var s,a,o,u,l,c,f,h,p,d,m,v=st._data(e);if(v){for(n.handler&&(u=n,n=u.handler,r=u.selector),n.guid||(n.guid=st.guid++),(a=v.events)||(a=v.events={}),(c=v.handle)||(c=v.handle=function(e){return typeof st===Tt||e&&st.event.triggered===e.type?void 0:st.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(_t)||[""],o=t.length;o--;)s=Nt.exec(t[o])||[],p=m=s[1],d=(s[2]||"").split(".").sort(),p&&(l=st.event.special[p]||{},p=(r?l.delegateType:l.bindType)||p,l=st.event.special[p]||{},f=st.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&st.expr.match.needsContext.test(r),namespace:d.join(".")},u),(h=a[p])||(h=a[p]=[],h.delegateCount=0,l.setup&&l.setup.call(e,i,d,c)!==!1||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,f),f.handler.guid||(f.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,f):h.push(f),st.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var s,a,o,u,l,c,f,h,p,d,m,v=st.hasData(e)&&st._data(e);if(v&&(c=v.events)){for(t=(t||"").match(_t)||[""],l=t.length;l--;)if(o=Nt.exec(t[l])||[],p=m=o[1],d=(o[2]||"").split(".").sort(),p){for(f=st.event.special[p]||{},p=(i?f.delegateType:f.bindType)||p,h=c[p]||[],o=o[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=s=h.length;s--;)a=h[s],!r&&m!==a.origType||n&&n.guid!==a.guid||o&&!o.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(s,1),a.selector&&h.delegateCount--,f.remove&&f.remove.call(e,a));u&&!h.length&&(f.teardown&&f.teardown.call(e,d,v.handle)!==!1||st.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)st.event.remove(e,p+t[l],n,i,!0);st.isEmptyObject(c)&&(delete v.handle,st._removeData(e,"events"))}},trigger:function(t,n,i,r){var s,a,o,u,l,c,f,h=[i||mt],p=tt.call(t,"type")?t.type:t,d=tt.call(t,"namespace")?t.namespace.split("."):[];if(o=c=i=i||mt,3!==i.nodeType&&8!==i.nodeType&&!Mt.test(p+st.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[st.expando]?t:new st.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=d.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:st.makeArray(n,[t]),l=st.event.special[p]||{},r||!l.trigger||l.trigger.apply(i,n)!==!1)){if(!r&&!l.noBubble&&!st.isWindow(i)){for(u=l.delegateType||p,Mt.test(u+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),c=o;c===(i.ownerDocument||mt)&&h.push(c.defaultView||c.parentWindow||e)}for(f=0;(o=h[f++])&&!t.isPropagationStopped();)t.type=f>1?u:l.bindType||p,s=(st._data(o,"events")||{})[t.type]&&st._data(o,"handle"),s&&s.apply(o,n),s=a&&o[a],s&&s.apply&&st.acceptData(o)&&(t.result=s.apply(o,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(h.pop(),n)===!1)&&st.acceptData(i)&&a&&i[p]&&!st.isWindow(i)){c=i[a],c&&(i[a]=null),st.event.triggered=p;try{i[p]()}catch(m){}st.event.triggered=void 0,c&&(i[a]=c)}return t.result}},dispatch:function(e){e=st.event.fix(e);var t,n,i,r,s,a=[],o=Y.call(arguments),u=(st._data(this,"events")||{})[e.type]||[],l=st.event.special[e.type]||{};if(o[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=st.event.handlers.call(this,e,u),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,s=0;(i=r.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((st.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,o),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,s,a=[],o=t.delegateCount,u=e.target;if(o&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],s=0;o>s;s++)i=t[s],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?st(n,this).index(u)>=0:st.find(n,this,null,[u]).length),r[n]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return o<t.length&&a.push({elem:this,handlers:t.slice(o)}),a},fix:function(e){if(e[st.expando])return e;var t,n,i,r=e.type,s=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ot.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new st.Event(s),t=i.length;t--;)n=i[t],e[n]=s[n];return e.target||(e.target=s.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,s=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||mt,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return st.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return st.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=st.extend(new st.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?st.event.trigger(r,null,t):st.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},st.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Tt&&(e[i]=null),e.detachEvent(i,n))},st.Event=function(e,t){return this instanceof st.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?h:p):this.type=e,t&&st.extend(this,t),this.timeStamp=e&&e.timeStamp||st.now(),void(this[st.expando]=!0)):new st.Event(e,t)},st.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=h,this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){st.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==i&&!st.contains(i,r))&&(e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(st.event.special.submit={setup:function(){return st.nodeName(this,"form")?!1:void st.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=st.nodeName(t,"input")||st.nodeName(t,"button")?t.form:void 0;n&&!st._data(n,"submitBubbles")&&(st.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),st._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&st.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return st.nodeName(this,"form")?!1:void st.event.remove(this,"._submit")}}),it.changeBubbles||(st.event.special.change={setup:function(){return Et.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(st.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),st.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),st.event.simulate("change",this,e,!0)})),!1):void st.event.add(this,"beforeactivate._change",function(e){var t=e.target;Et.test(t.nodeName)&&!st._data(t,"changeBubbles")&&(st.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||st.event.simulate("change",this.parentNode,e,!0)}),st._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return st.event.remove(this,"._change"),!Et.test(this.nodeName)}}),it.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){st.event.simulate(t,e.target,st.event.fix(e),!0)};st.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=st._data(i,t);r||i.addEventListener(e,n,!0),st._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=st._data(i,t)-1;r?st._data(i,t,r):(i.removeEventListener(e,n,!0),st._removeData(i,t))}}}),st.fn.extend({on:function(e,t,n,i,r){var s,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(s in e)this.on(s,t,n,e[s],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=p;else if(!i)return this;return 1===r&&(a=i,i=function(e){return st().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=st.guid++)),this.each(function(){st.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,st(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=p),this.each(function(){st.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){st.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?st.event.trigger(e,t,n,!0):void 0}});var Ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",qt=/ jQuery\d+="(?:null|\d+)"/g,Pt=new RegExp("<(?:"+Ft+")[\\s/>]","i"),Bt=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Wt=/<([\w:]+)/,Ht=/<tbody/i,$t=/<|&#?\w+;/,Gt=/<(?:script|style|link)/i,Vt=/checked\s*(?:[^=]|=\s*.checked.)/i,Kt=/^$|\/(?:java|ecma)script/i,Xt=/^true\/(.*)/,Yt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ut={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Qt=m(mt),Jt=Qt.appendChild(mt.createElement("div"));Ut.optgroup=Ut.option,Ut.tbody=Ut.tfoot=Ut.colgroup=Ut.caption=Ut.thead,Ut.th=Ut.td,st.extend({clone:function(e,t,n){var i,r,s,a,o,u=st.contains(e.ownerDocument,e);if(it.html5Clone||st.isXMLDoc(e)||!Pt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Jt.innerHTML=e.outerHTML,Jt.removeChild(s=Jt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||st.isXMLDoc(e)))for(i=v(s),o=v(e),a=0;null!=(r=o[a]);++a)i[a]&&k(r,i[a]);if(t)if(n)for(o=o||v(e),i=i||v(s),a=0;null!=(r=o[a]);a++)w(r,i[a]);else w(e,s);return i=v(s,"script"),i.length>0&&x(i,!u&&v(e,"script")),i=o=r=null,s},buildFragment:function(e,t,n,i){for(var r,s,a,o,u,l,c,f=e.length,h=m(t),p=[],d=0;f>d;d++)if(s=e[d],s||0===s)if("object"===st.type(s))st.merge(p,s.nodeType?[s]:s);else if($t.test(s)){for(o=o||h.appendChild(t.createElement("div")),u=(Wt.exec(s)||["",""])[1].toLowerCase(),c=Ut[u]||Ut._default,o.innerHTML=c[1]+s.replace(zt,"<$1></$2>")+c[2],r=c[0];r--;)o=o.lastChild;if(!it.leadingWhitespace&&Bt.test(s)&&p.push(t.createTextNode(Bt.exec(s)[0])),!it.tbody)for(s="table"!==u||Ht.test(s)?"<table>"!==c[1]||Ht.test(s)?0:o:o.firstChild,r=s&&s.childNodes.length;r--;)st.nodeName(l=s.childNodes[r],"tbody")&&!l.childNodes.length&&s.removeChild(l);for(st.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=h.lastChild}else p.push(t.createTextNode(s));for(o&&h.removeChild(o),it.appendChecked||st.grep(v(p,"input"),g),d=0;s=p[d++];)if((!i||-1===st.inArray(s,i))&&(a=st.contains(s.ownerDocument,s),o=v(h.appendChild(s),"script"),a&&x(o),n))for(r=0;s=o[r++];)Kt.test(s.type||"")&&n.push(s);return o=null,h},cleanData:function(e,t){for(var n,i,r,s,a=0,o=st.expando,u=st.cache,l=it.deleteExpando,c=st.event.special;null!=(n=e[a]);a++)if((t||st.acceptData(n))&&(r=n[o],s=r&&u[r])){if(s.events)for(i in s.events)c[i]?st.event.remove(n,i):st.removeEvent(n,i,s.handle);u[r]&&(delete u[r],l?delete n[o]:typeof n.removeAttribute!==Tt?n.removeAttribute(o):n[o]=null,X.push(r))}}}),st.fn.extend({text:function(e){return Ct(this,function(e){return void 0===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?st.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||st.cleanData(v(n)),n.parentNode&&(t&&st.contains(n.ownerDocument,n)&&x(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&st.cleanData(v(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&st.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return st.clone(this,e,t)})},html:function(e){return Ct(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(qt,""):void 0;if(!("string"!=typeof e||Gt.test(e)||!it.htmlSerialize&&Pt.test(e)||!it.leadingWhitespace&&Bt.test(e)||Ut[(Wt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(zt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(st.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,st.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=U.apply([],e);var n,i,r,s,a,o,u=0,l=this.length,c=this,f=l-1,h=e[0],p=st.isFunction(h);if(p||l>1&&"string"==typeof h&&!it.checkClone&&Vt.test(h))return this.each(function(n){var i=c.eq(n);p&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(l&&(o=st.buildFragment(e,this[0].ownerDocument,!1,this),n=o.firstChild,1===o.childNodes.length&&(o=n),n)){for(s=st.map(v(o,"script"),b),r=s.length;l>u;u++)i=o,u!==f&&(i=st.clone(i,!0,!0),r&&st.merge(s,v(i,"script"))),t.call(this[u],i,u);if(r)for(a=s[s.length-1].ownerDocument,st.map(s,_),u=0;r>u;u++)i=s[u],Kt.test(i.type||"")&&!st._data(i,"globalEval")&&st.contains(a,i)&&(i.src?st._evalUrl&&st._evalUrl(i.src):st.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Yt,"")));o=n=null}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){st.fn[e]=function(e){for(var n,i=0,r=[],s=st(e),a=s.length-1;a>=i;i++)n=i===a?this:this.clone(!0),st(s[i])[t](n),Q.apply(r,n.get());return this.pushStack(r)}});var Zt,en={};!function(){var e,t,n=mt.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,r,s;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;s="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=mt.createElement("div"),r=mt.createElement("div"),e.appendChild(n).appendChild(r),t=!1,typeof r.style.zoom!==Tt&&(r.style.cssText=i+";width:1px;padding:1px;zoom:1",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t=3!==r.offsetWidth),e.removeChild(n),e=n=r=null}return t}}();var tn,nn,rn=/^margin/,sn=new RegExp("^("+It+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var i,r,s,a,o=e.style;return n=n||tn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||st.contains(e.ownerDocument,e)||(a=st.style(e,t)),sn.test(a)&&rn.test(t)&&(i=o.width,r=o.minWidth,s=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=n.width,o.width=i,o.minWidth=r,o.maxWidth=s)),void 0===a?a:a+""}):mt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var i,r,s,a,o=e.style;return n=n||tn(e),a=n?n[t]:void 0,null==a&&o&&o[t]&&(a=o[t]),sn.test(a)&&!an.test(t)&&(i=o.left,r=e.runtimeStyle,s=r&&r.left,s&&(r.left=e.currentStyle.left),o.left="fontSize"===t?"1em":a,a=o.pixelLeft+"px",o.left=i,s&&(r.left=s)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i=mt.getElementsByTagName("body")[0];i&&(t=mt.createElement("div"),n=mt.createElement("div"),t.style.cssText=l,i.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",st.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){r=4===n.offsetWidth}),s=!0,a=!1,o=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,s="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(t),n=i=null)}var n,i,r,s,a,o,u=mt.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";
u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===u.style.backgroundClip,n=u=null,st.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,r=mt.createElement("div"),s=mt.getElementsByTagName("body")[0];if(s)return r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=l,s.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=r.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,s.removeChild(e),r=s=null,i},boxSizing:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==s&&t(),s},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,i,r;if(null==o&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;n=mt.createElement("div"),i=mt.createElement("div"),n.style.cssText=l,t.appendChild(n).appendChild(i),r=i.appendChild(mt.createElement("div")),r.style.cssText=i.style.cssText=c,r.style.marginRight=r.style.width="0",i.style.width="1px",o=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(n)}return o}})}(),st.swap=function(e,t,n,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=n.apply(e,i||[]);for(s in t)e.style[s]=a[s];return r};var on=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+It+")(.*)$","i"),fn=new RegExp("^([+-])=("+It+")","i"),hn={position:"absolute",visibility:"hidden",display:"block"},pn={letterSpacing:0,fontWeight:400},dn=["Webkit","O","Moz","ms"];st.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,a,o=st.camelCase(t),u=e.style;if(t=st.cssProps[o]||(st.cssProps[o]=I(u,o)),a=st.cssHooks[t]||st.cssHooks[o],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];if(s=typeof n,"string"===s&&(r=fn.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(st.css(e,t)),s="number"),null!=n&&n===n&&("number"!==s||st.cssNumber[o]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{u[t]="",u[t]=n}catch(l){}}},css:function(e,t,n,i){var r,s,a,o=st.camelCase(t);return t=st.cssProps[o]||(st.cssProps[o]=I(e.style,o)),a=st.cssHooks[t]||st.cssHooks[o],a&&"get"in a&&(s=a.get(e,!0,n)),void 0===s&&(s=nn(e,t,i)),"normal"===s&&t in pn&&(s=pn[t]),""===n||n?(r=parseFloat(s),n===!0||st.isNumeric(r)?r||0:s):s}}),st.each(["height","width"],function(e,t){st.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&ln.test(st.css(e,"display"))?st.swap(e,hn,function(){return j(e,t,i)}):j(e,t,i):void 0},set:function(e,n,i){var r=i&&tn(e);return R(e,n,i?C(e,t,i,it.boxSizing()&&"border-box"===st.css(e,"boxSizing",!1,r),r):0)}}}),it.opacity||(st.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=st.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===st.trim(s.replace(on,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=on.test(s)?s.replace(on,r):s+" "+r)}}),st.cssHooks.marginRight=A(it.reliableMarginRight,function(e,t){return t?st.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),st.each({margin:"",padding:"",border:"Width"},function(e,t){st.cssHooks[e+t]={expand:function(n){for(var i=0,r={},s="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Dt[i]+t]=s[i]||s[i-2]||s[0];return r}},rn.test(e)||(st.cssHooks[e+t].set=R)}),st.fn.extend({css:function(e,t){return Ct(this,function(e,t,n){var i,r,s={},a=0;if(st.isArray(t)){for(i=tn(e),r=t.length;r>a;a++)s[t[a]]=st.css(e,t[a],!1,i);return s}return void 0!==n?st.style(e,t,n):st.css(e,t)},e,t,arguments.length>1)},show:function(){return D(this,!0)},hide:function(){return D(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Rt(this)?st(this).show():st(this).hide()})}}),st.Tween=E,E.prototype={constructor:E,init:function(e,t,n,i,r,s){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=s||(st.cssNumber[n]?"":"px")},cur:function(){var e=E.propHooks[this.prop];return e&&e.get?e.get(this):E.propHooks._default.get(this)},run:function(e){var t,n=E.propHooks[this.prop];return this.pos=t=this.options.duration?st.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=st.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){st.fx.step[e.prop]?st.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[st.cssProps[e.prop]]||st.cssHooks[e.prop])?st.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},st.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},st.fx=E.prototype.init,st.fx.step={};var mn,vn,gn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+It+")([a-z%]*)$","i"),bn=/queueHooks$/,_n=[N],xn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=yn.exec(t),s=r&&r[3]||(st.cssNumber[e]?"":"px"),a=(st.cssNumber[e]||"px"!==s&&+i)&&yn.exec(st.css(n.elem,e)),o=1,u=20;if(a&&a[3]!==s){s=s||a[3],r=r||[],a=+i||1;do o=o||".5",a/=o,st.style(n.elem,e,a+s);while(o!==(o=n.cur()/i)&&1!==o&&--u)}return r&&(a=n.start=+a||+i||0,n.unit=s,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};st.Animation=st.extend(q,{tweener:function(e,t){st.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],xn[n]=xn[n]||[],xn[n].unshift(t)},prefilter:function(e,t){t?_n.unshift(e):_n.push(e)}}),st.speed=function(e,t,n){var i=e&&"object"==typeof e?st.extend({},e):{complete:n||!n&&t||st.isFunction(e)&&e,duration:e,easing:n&&t||t&&!st.isFunction(t)&&t};return i.duration=st.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in st.fx.speeds?st.fx.speeds[i.duration]:st.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){st.isFunction(i.old)&&i.old.call(this),i.queue&&st.dequeue(this,i.queue)},i},st.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Rt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=st.isEmptyObject(e),s=st.speed(t,n,i),a=function(){var t=q(this,st.extend({},e),s);(r||st._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||s.queue===!1?this.each(a):this.queue(s.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=st.timers,a=st._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&bn.test(r)&&i(a[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(n),t=!1,s.splice(r,1));(t||!n)&&st.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=st._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],s=st.timers,a=i?i.length:0;for(n.finish=!0,st.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),st.each(["toggle","show","hide"],function(e,t){var n=st.fn[t];st.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(O(t,!0),e,i,r)}}),st.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){st.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),st.timers=[],st.fx.tick=function(){var e,t=st.timers,n=0;for(mn=st.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||st.fx.stop(),mn=void 0},st.fx.timer=function(e){st.timers.push(e),e()?st.fx.start():st.timers.pop()},st.fx.interval=13,st.fx.start=function(){vn||(vn=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(vn),vn=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fn.delay=function(e,t){return e=st.fx?st.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r=mt.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],n=mt.createElement("select"),i=n.appendChild(mt.createElement("option")),t=r.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==r.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!mt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!i.disabled,t=mt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=i=r=null}();var wn=/\r/g;st.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=st.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,st(this).val()):e,null==r?r="":"number"==typeof r?r+="":st.isArray(r)&&(r=st.map(r,function(e){return null==e?"":e+""})),t=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=st.valHooks[r.type]||st.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(wn,""):null==n?"":n)}}}),st.extend({valHooks:{option:{get:function(e){var t=st.find.attr(e,"value");return null!=t?t:st.text(e)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,a=s?null:[],o=s?r+1:i.length,u=0>r?o:s?r:0;o>u;u++)if(n=i[u],!(!n.selected&&u!==r||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&st.nodeName(n.parentNode,"optgroup"))){if(t=st(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,s=st.makeArray(t),a=r.length;a--;)if(i=r[a],st.inArray(st.valHooks.option.get(i),s)>=0)try{i.selected=n=!0}catch(o){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(e,t){return st.isArray(t)?e.checked=st.inArray(st(e).val(),t)>=0:void 0}},it.checkOn||(st.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kn,Tn,Sn=st.expr.attrHandle,An=/^(?:checked|selected)$/i,In=it.getSetAttribute,Dn=it.input;st.fn.extend({attr:function(e,t){return Ct(this,st.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){st.removeAttr(this,e)})}}),st.extend({attr:function(e,t,n){var i,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Tt?st.prop(e,t,n):(1===s&&st.isXMLDoc(e)||(t=t.toLowerCase(),i=st.attrHooks[t]||(st.expr.match.bool.test(t)?Tn:kn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=st.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void st.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,s=t&&t.match(_t);if(s&&1===e.nodeType)for(;n=s[r++];)i=st.propFix[n]||n,st.expr.match.bool.test(n)?Dn&&In||!An.test(n)?e[i]=!1:e[st.camelCase("default-"+n)]=e[i]=!1:st.attr(e,n,""),e.removeAttribute(In?n:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&st.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tn={set:function(e,t,n){return t===!1?st.removeAttr(e,n):Dn&&In||!An.test(n)?e.setAttribute(!In&&st.propFix[n]||n,n):e[st.camelCase("default-"+n)]=e[n]=!0,n}},st.each(st.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Sn[t]||st.find.attr;Sn[t]=Dn&&In||!An.test(t)?function(e,t,i){var r,s;return i||(s=Sn[t],Sn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Sn[t]=s),r}:function(e,t,n){return n?void 0:e[st.camelCase("default-"+t)]?t.toLowerCase():null}}),Dn&&In||(st.attrHooks.value={set:function(e,t,n){return st.nodeName(e,"input")?void(e.defaultValue=t):kn&&kn.set(e,t,n)}}),In||(kn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Sn.id=Sn.name=Sn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},st.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kn.set},st.attrHooks.contenteditable={set:function(e,t,n){kn.set(e,""===t?!1:t,n)}},st.each(["width","height"],function(e,t){st.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(st.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Rn=/^(?:input|select|textarea|button|object)$/i,Cn=/^(?:a|area)$/i;st.fn.extend({prop:function(e,t){return Ct(this,st.prop,e,t,arguments.length>1)},removeProp:function(e){return e=st.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),st.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!st.isXMLDoc(e),s&&(t=st.propFix[t]||t,r=st.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=st.find.attr(e,"tabindex");return t?parseInt(t,10):Rn.test(e.nodeName)||Cn.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||st.each(["href","src"],function(e,t){st.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(st.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),it.enctype||(st.propFix.enctype="encoding");var jn=/[\t\r\n\f]/g;st.fn.extend({addClass:function(e){var t,n,i,r,s,a,o=0,u=this.length,l="string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_t)||[];u>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):" ")){for(s=0;r=t[s++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=st.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,s,a,o=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(st.isFunction(e))return this.each(function(t){st(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(_t)||[];u>o;o++)if(n=this[o],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(jn," "):"")){for(s=0;r=t[s++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?st.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(st.isFunction(e)?function(n){st(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=st(this),s=e.match(_t)||[];t=s[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&st._data(this,"__className__",this.className),this.className=this.className||e===!1?"":st._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(jn," ").indexOf(t)>=0)return!0;return!1}}),st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){st.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),st.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var En=st.now(),Ln=/\?/,On=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;st.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=st.trim(t+"");return r&&!st.trim(r.replace(On,function(e,t,r,s){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!s-!r,"")}))?Function("return "+r)():st.error("Invalid JSON: "+t)},st.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||st.error("Invalid XML: "+t),n};var Mn,Nn,Fn=/#.*$/,qn=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,zn=/^(?:GET|HEAD)$/,Wn=/^\/\//,Hn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$n={},Gn={},Vn="*/".concat("*");try{Nn=location.href}catch(Kn){Nn=mt.createElement("a"),Nn.href="",Nn=Nn.href}Mn=Hn.exec(Nn.toLowerCase())||[],st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:Bn.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,st.ajaxSettings),t):z(st.ajaxSettings,e)},ajaxPrefilter:P($n),ajaxTransport:P(Gn),ajax:function(e,t){function n(e,t,n,i){var r,c,g,y,_,w=t;2!==b&&(b=2,o&&clearTimeout(o),l=void 0,a=i||"",x.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=W(f,x,n)),y=H(f,y,x,r),r?(f.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(st.lastModified[s]=_),_=x.getResponseHeader("etag"),_&&(st.etag[s]=_)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=y.state,c=y.data,g=y.error,r=!g)):(g=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",r?d.resolveWith(h,[c,w,x]):d.rejectWith(h,[x,w,g]),x.statusCode(v),v=void 0,u&&p.trigger(r?"ajaxSuccess":"ajaxError",[x,f,r?c:g]),m.fireWith(h,[x,w]),u&&(p.trigger("ajaxComplete",[x,f]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,s,a,o,u,l,c,f=st.ajaxSetup({},t),h=f.context||f,p=f.context&&(h.nodeType||h.jquery)?st(h):st.event,d=st.Deferred(),m=st.Callbacks("once memory"),v=f.statusCode||{},g={},y={},b=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=Pn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return l&&l.abort(t),n(0,t),this}};if(d.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||Nn)+"").replace(Fn,"").replace(Wn,Mn[1]+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=st.trim(f.dataType||"*").toLowerCase().match(_t)||[""],null==f.crossDomain&&(i=Hn.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===Mn[1]&&i[2]===Mn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Mn[3]||("http:"===Mn[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=st.param(f.data,f.traditional)),B($n,f,t,x),2===b)return x;u=f.global,u&&0===st.active++&&st.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!zn.test(f.type),s=f.url,f.hasContent||(f.data&&(s=f.url+=(Ln.test(s)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=qn.test(s)?s.replace(qn,"$1_="+En++):s+(Ln.test(s)?"&":"?")+"_="+En++)),f.ifModified&&(st.lastModified[s]&&x.setRequestHeader("If-Modified-Since",st.lastModified[s]),st.etag[s]&&x.setRequestHeader("If-None-Match",st.etag[s])),(f.data&&f.hasContent&&f.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Vn+"; q=0.01":""):f.accepts["*"]);for(r in f.headers)x.setRequestHeader(r,f.headers[r]);if(f.beforeSend&&(f.beforeSend.call(h,x,f)===!1||2===b))return x.abort();_="abort";for(r in{success:1,error:1,complete:1})x[r](f[r]);if(l=B(Gn,f,t,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(o=setTimeout(function(){x.abort("timeout")},f.timeout));try{b=1,l.send(g,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return st.get(e,t,n,"json")},getScript:function(e,t){return st.get(e,void 0,t,"script")}}),st.each(["get","post"],function(e,t){st[t]=function(e,n,i,r){return st.isFunction(n)&&(r=r||i,i=n,n=void 0),st.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){st.fn[t]=function(e){return this.on(t,e)}}),st._evalUrl=function(e){return st.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},st.fn.extend({wrapAll:function(e){if(st.isFunction(e))return this.each(function(t){st(this).wrapAll(e.call(this,t))});if(this[0]){var t=st(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(st.isFunction(e)?function(t){st(this).wrapInner(e.call(this,t))}:function(){var t=st(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=st.isFunction(e);return this.each(function(n){st(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}}),st.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||st.css(e,"display"))},st.expr.filters.visible=function(e){return!st.expr.filters.hidden(e)};var Xn=/%20/g,Yn=/\[\]$/,Un=/\r?\n/g,Qn=/^(?:submit|button|image|reset|file)$/i,Jn=/^(?:input|select|textarea|keygen)/i;st.param=function(e,t){var n,i=[],r=function(e,t){t=st.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(e)||e.jquery&&!st.isPlainObject(e))st.each(e,function(){r(this.name,this.value)});else for(n in e)$(n,e[n],t,r);return i.join("&").replace(Xn,"+")},st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=st.prop(this,"elements");return e?st.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!st(this).is(":disabled")&&Jn.test(this.nodeName)&&!Qn.test(e)&&(this.checked||!jt.test(e))}).map(function(e,t){var n=st(this).val();return null==n?null:st.isArray(n)?st.map(n,function(e){return{name:t.name,value:e.replace(Un,"\r\n")}}):{name:t.name,value:n.replace(Un,"\r\n")}}).get()}}),st.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||V()}:G;var Zn=0,ei={},ti=st.ajaxSettings.xhr();e.ActiveXObject&&st(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&st.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,i){var r,s=e.xhr(),a=++Zn;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&s.setRequestHeader(r,n[r]+"");s.send(e.hasContent&&e.data||null),t=function(n,r){var o,u,l;if(t&&(r||4===s.readyState))if(delete ei[a],t=void 0,s.onreadystatechange=st.noop,r)4!==s.readyState&&s.abort();else{l={},o=s.status,"string"==typeof s.responseText&&(l.text=s.responseText);try{u=s.statusText}catch(c){u=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=l.text?200:404}l&&i(o,u,l,s.getAllResponseHeaders())},e.async?4===s.readyState?setTimeout(t):s.onreadystatechange=ei[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return st.globalEval(e),e}}}),st.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),st.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||st("head")[0]||mt.documentElement;return{send:function(i,r){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||st.expando+"_"+En++;return this[e]=!0,e}}),st.ajaxPrefilter("json jsonp",function(t,n,i){var r,s,a,o=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return o||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=st.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(ii,"$1"+r):t.jsonp!==!1&&(t.url+=(Ln.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||st.error(r+" was not called"),a[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=n.jsonpCallback,ni.push(r)),a&&st.isFunction(s)&&s(a[0]),a=s=void 0}),"script"):void 0}),st.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var i=ht.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=st.buildFragment([e],t,r),r&&r.length&&st(r).remove(),st.merge([],i.childNodes))};var ri=st.fn.load;st.fn.load=function(e,t,n){if("string"!=typeof e&&ri)return ri.apply(this,arguments);var i,r,s,a=this,o=e.indexOf(" ");return o>=0&&(i=e.slice(o,e.length),e=e.slice(0,o)),st.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(s="POST"),a.length>0&&st.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?st("<div>").append(st.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},st.expr.filters.animated=function(e){return st.grep(st.timers,function(t){return e===t.elem}).length};var si=e.document.documentElement;st.offset={setOffset:function(e,t,n){var i,r,s,a,o,u,l,c=st.css(e,"position"),f=st(e),h={};"static"===c&&(e.style.position="relative"),o=f.offset(),s=st.css(e,"top"),u=st.css(e,"left"),l=("absolute"===c||"fixed"===c)&&st.inArray("auto",[s,u])>-1,l?(i=f.position(),a=i.top,r=i.left):(a=parseFloat(s)||0,r=parseFloat(u)||0),st.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(h.top=t.top-o.top+a),null!=t.left&&(h.left=t.left-o.left+r),"using"in t?t.using.call(e,h):f.css(h)}},st.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){st.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],s=r&&r.ownerDocument;if(s)return t=s.documentElement,st.contains(t,r)?(typeof r.getBoundingClientRect!==Tt&&(i=r.getBoundingClientRect()),n=K(s),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===st.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),st.nodeName(e[0],"html")||(n=e.offset()),n.top+=st.css(e[0],"borderTopWidth",!0),n.left+=st.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-st.css(i,"marginTop",!0),left:t.left-n.left-st.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||si;e&&!st.nodeName(e,"html")&&"static"===st.css(e,"position");)e=e.offsetParent;return e||si})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);st.fn[e]=function(i){return Ct(this,function(e,i,r){var s=K(e);return void 0===r?s?t in s?s[t]:s.document.documentElement[i]:e[i]:void(s?s.scrollTo(n?st(s).scrollLeft():r,n?r:st(s).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),st.each(["top","left"],function(e,t){st.cssHooks[t]=A(it.pixelPosition,function(e,n){return n?(n=nn(e,t),sn.test(n)?st(e).position()[t]+"px":n):void 0})}),st.each({Height:"height",Width:"width"},function(e,t){st.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){st.fn[i]=function(i,r){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Ct(this,function(t,n,i){var r;return st.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?st.css(t,n,a):st.style(t,n,i,a)},t,s?i:void 0,s,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return st});var ai=e.jQuery,oi=e.$;return st.noConflict=function(t){return e.$===st&&(e.$=oi),t&&e.jQuery===st&&(e.jQuery=ai),st},typeof t===Tt&&(e.jQuery=e.$=st),st}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");
e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,s,a,o,u,l,c,f;if(n.fire(i,"ajax:before")){if(o=i.data("cross-domain"),u=o===t?null:o,l=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),s=i.attr("action"),a=i.serializeArray();var h=i.data("ujs:submit-button");h&&(a.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",s=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),s=n.href(i),a=i.data("params")||null);f={type:r||"GET",data:a,dataType:c,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:u},l&&(f.xhrFields={withCredentials:l}),s&&(f.url=s);var p=n.ajax(f);return i.trigger("ajax:send",p),p}return!1},handleMethod:function(i){var r=n.href(i),s=i.data("method"),a=i.attr("target"),o=e("meta[name=csrf-token]").attr("content"),u=e("meta[name=csrf-param]").attr("content"),l=e('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';u!==t&&o!==t&&(c+='<input name="'+u+'" value="'+o+'" type="hidden" />'),a&&l.attr("target",a),l.hide().append(c).appendTo("body"),l.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,s,a=e(),o=n||"input,textarea",u=t.find(o);return u.each(function(){if(r=e(this),s=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!s==!i){if(r.is("input[type=radio]")&&u.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),s=r.data("method"),a=r.data("params"),o=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!o&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(o&&(!s||"GET"===s)&&!a)return!0;var u=n.handleRemote(r);return u===!1?n.enableElement(r):u.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=e(this),s=r.data("remote")!==t,a=n.blankInputs(r,n.requiredInputSelector),o=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(a&&r.attr("novalidate")==t&&n.fire(r,"ajax:aborted:required",[a]))return n.stopEverything(i);if(s){if(o){setTimeout(function(){n.disableFormElements(r)},13);var u=n.fire(r,"ajax:aborted:file",[o]);return u||setTimeout(function(){n.enableFormElements(r)},13),u}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),s=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",s)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){"use strict";function t(){function e(e){for(var t,n=new Array(e.byteLength),i=e.BYTES_PER_ELEMENT,r=0,s=n.length;s>r;++r)t=r%i*8,n[r]=(e[r/i|0]&255<<t)>>>t;return n.__view=e,n}function t(t,n,o,u){var l,c,f,h,p;if(Array.isArray(n))if(n.__view)if("undefined"==typeof o&&(o=0),"undefined"==typeof u&&(u=n.length-o),f=t.bytes,t.type===r)l=n.__view.slice(o/f|0,(o+u)/f|0);else{for(c=n.slice(o,o+u),l=new Array(c.length/f|0),h=0,p=l.length;p>h;++h)l[h]=0;for(h=0,p=c.length;p>h;++h)l[h/f|0]+=(255&c[h])<<h%f*8}else l=n.slice();else l="number"==typeof n&&n>0?new Array(0|n):[];if(t.type!==r)for(h=0,p=l.length;p>h;++h)l[h]=65535&(+l[h]||0);else for(h=0,p=l.length;p>h;++h)l[h]=l[h]||0;if(t.type===i)for(h=0,p=l.length;p>h;++h)l[h]&1<<8*f-1&&(l[h]-=1<<8*f);return l.__klass=t,l.constructor=window[t.name],l.set=s,l.subarray=a,l.BYTES_PER_ELEMENT=t.bytes,l.byteLength=t.bytes*l.length,l.byteOffset=o||0,Object.defineProperty(l,"buffer",{get:function(){return new e(this)}}),l}var n=0,i=1,r=2,s=function(e,t){"undefined"==typeof t&&(t=0);var n,i=Math.min(this.length-t,e.length);for(n=0;i>n;++n)this[t+n]=e[n]},a=function(e,t){return"undefined"==typeof t&&(t=this.length),new this.constructor(this.slice(e,t))};[["Int8Array",1,i],["Uint8Array",1,n],["Int16Array",2,i],["Uint16Array",2,n],["Int32Array",4,i],["Uint32Array",4,n],["Float32Array",4,r],["Float64Array",8,r]].forEach(function(e){var n=e[0],i={bytes:e[1],type:e[2],name:n};window[n]=function(e,n,r){return t.call(this,i,e,n,r)}})}"undefined"==typeof Float32Array&&t();var n=function(){return y.apply(null,arguments)},i=Array.prototype.slice,r=0,s=1,a=2,o=3,u=[8e3,11025,12e3,16e3,22050,24e3,32e3,44100,48e3],l=[32,64,128,256],c="13.08.03",f=null,h={},p={},d="undefined"!=typeof module&&module.exports?"node":"undefined"!=typeof window?"browser":"unknown",m="browser"===d&&/(iPhone|iPad|iPod|Android)/i.test(navigator.userAgent),v=!1,g=120,y=function(){var t,n,r=i.call(arguments),s=r[0];switch(typeof s){case"string":h[s]?t=new h[s](r.slice(1)):p[s]?t=p[s](r.slice(1)):(n=/^(.+?)(?:\.(ar|kr))?$/.exec(s),n&&(s=n[1],h[s]?t=new h[s](r.slice(1)):p[s]&&(t=p[s](r.slice(1))),t&&n[2]&&t[n[2]]()));break;case"number":t=new R(r);break;case"boolean":t=new C(r);break;case"function":t=new j(r);break;case"object":if(null!==s){if(s instanceof A)return s;if(s.context instanceof A)return s.context;w(s)?t=new L(r):x(s)&&(t=new E(r))}}t===e&&(t=new D(r.slice(1)),console.warn('T("'+s+'") is not defined.'));var a=t._;return a.originkey=s,a.meta=b(t),a.emit("init"),t},b=function(e){for(var t,n,i=e._.meta,r=e;null!==r&&r.constructor!==Object;){t=Object.getOwnPropertyNames(r);for(var s=0,a=t.length;a>s;++s)i[t[s]]||(/^(constructor$|process$|_)/.test(t[s])?i[t[s]]="ignore":(n=Object.getOwnPropertyDescriptor(r,t[s]),"function"==typeof n.value?i[t[s]]="function":(n.get||n.set)&&(i[t[s]]="property")));r=Object.getPrototypeOf(r)}return i};Object.defineProperties(n,{version:{value:c},envtype:{value:d},envmobile:{value:m},env:{get:function(){return f.impl.env}},samplerate:{get:function(){return f.samplerate}},channels:{get:function(){return f.channels}},cellsize:{get:function(){return f.cellsize}},currentTime:{get:function(){return f.currentTime}},isPlaying:{get:function(){return f.status===s}},isRecording:{get:function(){return f.status===o}},amp:{set:function(e){"number"==typeof e&&(f.amp=e)},get:function(){return f.amp}},bpm:{set:function(e){"number"==typeof e&&e>=5&&300>=e&&(g=e)},get:function(){return g}}}),n.bind=function(e,t){return f.bind(e,t),n},n.setup=function(e){return f.setup(e),n},n.play=function(){return f.play(),n},n.pause=function(){return f.pause(),n},n.reset=function(){return f.reset(),f.events.emit("reset"),n},n.on=n.addListener=function(e,t){return f.on(e,t),n},n.once=function(e,t){return f.once(e,t),n},n.off=n.removeListener=function(e,t){return f.off(e,t),n},n.removeAllListeners=function(e){return f.removeAllListeners(e),n},n.listeners=function(e){return f.listeners(e)},n.rec=function(){return f.rec.apply(f,arguments)},n.timevalue=function(){var e=function(e){var t,n=g;return(t=/^bpm(\d+(?:\.\d+)?)/i.exec(e))&&(n=Math.max(5,Math.min(300,+(t[1]||0)))),n};return function(t){var i,r,s;if(i=/^(\d+(?:\.\d+)?)Hz$/i.exec(t))return 0===+i[1]?0:1e3/+i[1];if(i=/L(\d+)?(\.*)$/i.exec(t))return r=60/e(t)*(4/(i[1]||4))*1e3,r*=[1,1.5,1.75,1.875][(i[2]||"").length]||1;if(i=/^(\d+(?:\.\d+)?|\.(?:\d+))(min|sec|m)s?$/i.exec(t))switch(i[2]){case"min":return 60*+(i[1]||0)*1e3;case"sec":return 1e3*+(i[1]||0);case"m":return+(i[1]||0)}return(i=/^(?:([0-5]?[0-9]):)?(?:([0-5]?[0-9]):)(?:([0-5]?[0-9]))(?:\.([0-9]{1,3}))?$/.exec(t))?(s=3600*(i[1]||0)+60*(i[2]||0)+(i[3]||0),s=1e3*s+(0|((i[4]||"")+"00").substr(0,3))):(i=/(\d+)\.(\d+)\.(\d+)$/i.exec(t))?(s=480*(4*i[1]+ +i[2])+ +i[3],60/e(t)*(s/480)*1e3):(i=/(\d+)ticks$/i.exec(t))?60/e(t)*(i[1]/480)*1e3:(i=/^(\d+)samples(?:\/(\d+)Hz)?$/i.exec(t))?1e3*i[1]/(i[2]||n.samplerate):0}}();var _=n.fn={SignalArray:Float32Array,currentTimeIncr:0,emptycell:null,FINISHED_STATE:r,PLAYING_STATE:s,UNSCHEDULED_STATE:a,SCHEDULED_STATE:o},x=_.isArray=Array.isArray,w=_.isDictionary=function(e){return"object"==typeof e&&e.constructor===Object};_.nop=function(){return this},_.isSignalArray=function(e){return e instanceof _.SignalArray?!0:Array.isArray(e)&&e.__klass&&2===e.__klass.type?!0:!1},_.extend=function(e,t){function n(){this.constructor=e}t=t||A;for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},_.constructorof=function(e,t){for(var n=e&&e.prototype;n;){if(n===t.prototype)return!0;n=Object.getPrototypeOf(n)}return!1},_.register=function(e,t){_.constructorof(t,A)?h[e]=t:p[e]=t},_.alias=function(e,t){h[t]?h[e]=h[t]:p[t]&&(p[e]=p[t])},_.getClass=function(e){return h[e]},_.pointer=function(e,t,n){return t=e.byteOffset+t*e.constructor.BYTES_PER_ELEMENT,"number"==typeof n?new e.constructor(e.buffer,t,n):new e.constructor(e.buffer,t)},_.nextTick=function(e){return f.nextTick(e),n},_.fixAR=function(e){e._.ar=!0,e._.aronly=!0},_.fixKR=function(e){e._.ar=!1,e._.kronly=!0},_.changeWithValue=function(){var e=this._,t=e.value*e.mul+e.add;isNaN(t)&&(t=0);for(var n=this.cells[0],i=0,r=n.length;r>i;++i)n[i]=t},_.changeWithValue.unremovable=!0,_.clone=function(e){var t=new e.constructor([]);return t._.ar=e._.ar,t._.mul=e._.mul,t._.add=e._.add,t._.bypassed=e._.bypassed,t},_.timer=function(){var e=function(e){return function(){-1===f.timers.indexOf(e)&&(f.timers.push(e),f.events.emit("addObject"),e._.emit("start"),_.buddies_start(e))}},t=function(e){return function(){var t=f.timers.indexOf(e);-1!==t&&(f.timers.splice(t,1),e._.emit("stop"),f.events.emit("removeObject"),_.buddies_stop(e))}};return function(n){var i=e(n),r=t(n);return n.nodeType=A.TIMER,n.start=function(){return f.nextTick(i),n},n.stop=function(){return f.nextTick(r),n},n}}(),_.listener=function(){var e=function(e){return function(){-1===f.listeners.indexOf(e)&&(f.listeners.push(e),f.events.emit("addObject"),e._.emit("listen"),_.buddies_start(e))}},t=function(e){return function(){var t=f.listeners.indexOf(e);-1!==t&&(f.listeners.splice(t,1),e._.emit("unlisten"),f.events.emit("removeObject"),_.buddies_stop(e))}};return function(n){var i=e(n),r=t(n);return n.nodeType=A.LISTENER,n.listen=function(){return arguments.length&&n.append.apply(n,arguments),n.nodes.length&&f.nextTick(i),n},n.unlisten=function(){return arguments.length&&n.remove.apply(n,arguments),n.nodes.length||f.nextTick(r),n},n}}(),_.make_onended=function(e,t){return function(){if(e.playbackState=r,"number"==typeof t)for(var n=e.cells[0],i=e.cells[1],s=e.cells[2],a=0,o=i.length;o>a;++a)n[0]=i[a]=s[a]=t;e._.emit("ended")}},_.inputSignalAR=function(e){var t,n,i,r,a,o,u=e.cells[0],l=e.cells[1],c=e.cells[2],f=e.nodes,h=f.length,p=u.length,d=e.tickID;if(2===e.numChannels){if(i=!0,0!==h){for(t=0;h>t;++t)if(f[t].playbackState===s){f[t].process(d),l.set(f[t].cells[1]),c.set(f[t].cells[2]),i=!1,++t;break}for(;h>t;++t)if(f[t].playbackState===s)for(f[t].process(d),a=f[t].cells[1],o=f[t].cells[2],n=p;n;)n-=8,l[n]+=a[n],c[n]+=o[n],l[n+1]+=a[n+1],c[n+1]+=o[n+1],l[n+2]+=a[n+2],c[n+2]+=o[n+2],l[n+3]+=a[n+3],c[n+3]+=o[n+3],l[n+4]+=a[n+4],c[n+4]+=o[n+4],l[n+5]+=a[n+5],c[n+5]+=o[n+5],l[n+6]+=a[n+6],c[n+6]+=o[n+6],l[n+7]+=a[n+7],c[n+7]+=o[n+7]}i&&(l.set(_.emptycell),c.set(_.emptycell))}else{if(i=!0,0!==h){for(t=0;h>t;++t)if(f[t].playbackState===s){f[t].process(d),u.set(f[t].cells[0]),i=!1,++t;break}for(;h>t;++t)if(f[t].playbackState===s)for(r=f[t].process(d).cells[0],n=p;n;)n-=8,u[n]+=r[n],u[n+1]+=r[n+1],u[n+2]+=r[n+2],u[n+3]+=r[n+3],u[n+4]+=r[n+4],u[n+5]+=r[n+5],u[n+6]+=r[n+6],u[n+7]+=r[n+7]}i&&u.set(_.emptycell)}},_.inputSignalKR=function(e){var t,n=e.nodes,i=n.length,r=e.tickID,a=0;for(t=0;i>t;++t)n[t].playbackState===s&&(a+=n[t].process(r).cells[0][0]);return a},_.outputSignalAR=function(e){var t,n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.mul,a=e._.add;if(2===e.numChannels)for(t=n.length;t;)t-=8,i[t]=i[t]*s+a,r[t]=r[t]*s+a,i[t+1]=i[t+1]*s+a,r[t+1]=r[t+1]*s+a,i[t+2]=i[t+2]*s+a,r[t+2]=r[t+2]*s+a,i[t+3]=i[t+3]*s+a,r[t+3]=r[t+3]*s+a,i[t+4]=i[t+4]*s+a,r[t+4]=r[t+4]*s+a,i[t+5]=i[t+5]*s+a,r[t+5]=r[t+5]*s+a,i[t+6]=i[t+6]*s+a,r[t+6]=r[t+6]*s+a,i[t+7]=i[t+7]*s+a,r[t+7]=r[t+7]*s+a,n[t]=.5*(i[t]+r[t]),n[t+1]=.5*(i[t+1]+r[t+1]),n[t+2]=.5*(i[t+2]+r[t+2]),n[t+3]=.5*(i[t+3]+r[t+3]),n[t+4]=.5*(i[t+4]+r[t+4]),n[t+5]=.5*(i[t+5]+r[t+5]),n[t+6]=.5*(i[t+6]+r[t+6]),n[t+7]=.5*(i[t+7]+r[t+7]);else if(1!==s||0!==a)for(t=n.length;t;)t-=8,n[t]=n[t]*s+a,n[t+1]=n[t+1]*s+a,n[t+2]=n[t+2]*s+a,n[t+3]=n[t+3]*s+a,n[t+4]=n[t+4]*s+a,n[t+5]=n[t+5]*s+a,n[t+6]=n[t+6]*s+a,n[t+7]=n[t+7]*s+a},_.outputSignalKR=function(e){var t,n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.mul,a=e._.add,o=n[0]*s+a;if(2===e.numChannels)for(t=n.length;t;)t-=8,n[t]=n[t+1]=n[t+2]=n[t+3]=n[t+4]=n[t+5]=n[t+6]=n[t+7]=i[t]=i[t+1]=i[t+2]=i[t+3]=i[t+4]=i[t+5]=i[t+6]=i[t+7]=r[t]=r[t+1]=r[t+2]=r[t+3]=r[t+4]=r[t+5]=r[t+6]=r[t+7]=o;else for(t=n.length;t;)t-=8,n[t]=n[t+1]=n[t+2]=n[t+3]=n[t+4]=n[t+5]=n[t+6]=n[t+7]=o},_.buddies_start=function(e){var t,n,i,r=e._.buddies;for(n=0,i=r.length;i>n;++n)switch(t=r[n],t.nodeType){case A.DSP:t.play();break;case A.TIMER:t.start();break;case A.LISTENER:t.listen()}},_.buddies_stop=function(e){var t,n,i,r=e._.buddies;for(n=0,i=r.length;i>n;++n)switch(t=r[n],t.nodeType){case A.DSP:t.pause();break;case A.TIMER:t.stop();break;case A.LISTENER:t.unlisten()}},_.fix_iOS6_1_problem=function(e){f.fix_iOS6_1_problem(e)};var k=n.modules={},T=k.EventEmitter=function(){function e(e){this.context=e,this.events={}}var t=e.prototype;return t.emit=function(e){var t=this.events[e];if(!t)return!1;var n;if("function"==typeof t){switch(arguments.length){case 1:t.call(this.context);break;case 2:t.call(this.context,arguments[1]);break;case 3:t.call(this.context,arguments[1],arguments[2]);break;default:n=i.call(arguments,1),t.apply(this.context,n)}return!0}if(x(t)){n=i.call(arguments,1);for(var r=t.slice(),s=0,a=r.length;a>s;++s)r[s]instanceof A?r[s].bang.apply(r[s],n):r[s].apply(this.context,n);return!0}return t instanceof A?(n=i.call(arguments,1),void t.bang.apply(t,n)):!1},t.on=function(e,t){if("function"!=typeof t&&!(t instanceof A))throw new Error("addListener takes instances of Function or timbre.Object");var n=this.events;return n[e]?x(n[e])?n[e].push(t):n[e]=[n[e],t]:n[e]=t,this},t.once=function(e,t){var n,i=this;if("function"==typeof t)n=function(){i.off(e,n),t.apply(i.context,arguments)};else{if(!(t instanceof A))throw new Error("once takes instances of Function or timbre.Object");n=function(){i.off(e,n),t.bang.apply(t,arguments)}}return n.listener=t,i.on(e,n),this},t.off=function(e,t){if("function"!=typeof t&&!(t instanceof A))throw new Error("removeListener takes instances of Function or timbre.Object");var n=this.events;if(!n[e])return this;var i=n[e];if(x(i)){for(var r=-1,s=0,a=i.length;a>s;++s)if(i[s]===t||i[s].listener&&i[s].listener===t){r=s;break}if(0>r)return this;i.splice(r,1),0===i.length&&(n[e]=null)}else(i===t||i.listener&&i.listener===t)&&(n[e]=null);return this},t.removeAllListeners=function(e){var t=this.events,n=!1,i=t[e];if(x(i))for(var r=i.length;r--;){var s=i[r];s.unremovable?n=!0:this.off(e,s)}else i&&(i.unremovable?n=!0:this.off(e,i));return n||(t[e]=null),this},t.listeners=function(e){var t,n=this.events;if(!n[e])return[];if(n=n[e],!x(n))return n.unremovable?[]:[n];n=n.slice(),t=[];for(var i=0,r=n.length;r>i;++i)n[i].unremovable||t.push(n[i]);return t},e}(),S=k.Deferred=function(){function e(e){this.context=e||this,this._state="pending",this._doneList=[],this._failList=[],this._promise=new t(this)}function t(e){this.context=e.context,this.then=e.then,this.done=function(){return e.done.apply(e,arguments),this},this.fail=function(){return e.fail.apply(e,arguments),this},this.pipe=function(){return e.pipe.apply(e,arguments)},this.always=function(){return e.always.apply(e,arguments),this},this.promise=function(){return this},this.isResolved=function(){return e.isResolved()},this.isRejected=function(){return e.isRejected()}}var n=e.prototype,r=function(e,t,n,i){if("pending"===this._state){this._state=e;for(var r=0,s=t.length;s>r;++r)t[r].apply(n,i);this._doneList=this._failList=null}},s=function(e){return e&&"function"==typeof e.promise};return n.resolve=function(){var e=i.call(arguments,0);return r.call(this,"resolved",this._doneList,this.context||this,e),this},n.resolveWith=function(e){var t=i.call(arguments,1);return r.call(this,"resolved",this._doneList,e,t),this},n.reject=function(){var e=i.call(arguments,0);return r.call(this,"rejected",this._failList,this.context||this,e),this},n.rejectWith=function(e){var t=i.call(arguments,1);return r.call(this,"rejected",this._failList,e,t),this},n.promise=function(){return this._promise},n.done=function(){for(var e=i.call(arguments),t="resolved"===this._state,n="pending"===this._state,r=this._doneList,s=0,a=e.length;a>s;++s)"function"==typeof e[s]&&(t?e[s]():n&&r.push(e[s]));return this},n.fail=function(){for(var e=i.call(arguments),t="rejected"===this._state,n="pending"===this._state,r=this._failList,s=0,a=e.length;a>s;++s)"function"==typeof e[s]&&(t?e[s]():n&&r.push(e[s]));return this},n.always=function(){return this.done.apply(this,arguments),this.fail.apply(this,arguments),this},n.then=function(e,t){return this.done(e).fail(t)},n.pipe=function(t,n){var r=this,a=new e(this.context);return this.done(function(){var e=t.apply(r.context,arguments);s(e)?e.then(function(){var t=i.call(arguments);a.resolveWith.apply(a,[e].concat(t))}):a.resolveWith(r,e)}),this.fail(function(){if("function"==typeof n){var e=n.apply(r.context,arguments);s(e)&&e.fail(function(){var t=i.call(arguments);a.rejectWith.apply(a,[e].concat(t))})}else a.reject.apply(a,arguments)}),a.promise()},n.isResolved=function(){return"resolved"===this._state},n.isRejected=function(){return"rejected"===this._state},n.state=function(){return this._state},e.when=function(t){var n=0,r=i.call(arguments),a=r.length,o=a;1!==a||s(t)||(o=0);var u=1===o?t:new e,l=function(e,t){return function(n){t[e]=arguments.length>1?i.call(arguments):n,--o||u.resolve.apply(u,t)}};if(a>1)for(var c=new Array(a),f=function(){u.reject()};a>n;++n)r[n]&&s(r[n])?r[n].promise().done(l(n,c)).fail(f):(c[n]=r[n],--o);return o||u.resolve.apply(u,r),u.promise()},e}(),A=n.Object=function(){function t(e,i){this._={};var r=this._.events=new T(this);if(this._.emit=function(){return r.emit.apply(r,arguments)},w(i[0])){var a=i.shift(),o=a["in"];this.once("init",function(){this.set(a),o&&(x(o)?this.append.apply(this,o):o instanceof t&&this.append(o))})}switch(this.tickID=-1,this.nodes=i.map(n),this.cells=[],this.numChannels=e,e){case 0:this.L=this.R=new I(null),this.cells[0]=this.cells[1]=this.cells[2]=this.L.cell;break;case 1:this.L=this.R=new I(this),this.cells[0]=this.cells[1]=this.cells[2]=this.L.cell;break;case 2:this.L=new I(this),this.R=new I(this),this.cells[0]=new _.SignalArray(f.cellsize),this.cells[1]=this.L.cell,this.cells[2]=this.R.cell}this.playbackState=s,this.nodeType=t.DSP,this._.ar=!0,this._.mul=1,this._.add=0,this._.dac=null,this._.bypassed=!1,this._.meta={},this._.samplerate=f.samplerate,this._.cellsize=f.cellsize,this._.buddies=[]}t.DSP=1,t.TIMER=2,t.LISTENER=3;var r=t.prototype;return Object.defineProperties(r,{isAr:{get:function(){return this._.ar}},isKr:{get:function(){return!this._.ar}},isBypassed:{get:function(){return this._.bypassed}},isEnded:{get:function(){return!(1&this.playbackState)}},mul:{set:function(e){"number"==typeof e&&(this._.mul=e,this._.emit("setMul",e))},get:function(){return this._.mul}},add:{set:function(e){"number"==typeof e&&(this._.add=e,this._.emit("setAdd",e))},get:function(){return this._.add}},buddies:{set:function(e){x(e)||(e=[e]),this._.buddies=e.filter(function(e){return e instanceof t})},get:function(){return this._.buddies}}}),r.toString=function(){return this.constructor.name},r.valueOf=function(){return f.tickID!==this.tickID&&this.process(f.tickID),this.cells[0][0]},r.append=function(){if(arguments.length>0){var e=i.call(arguments).map(n);this.nodes=this.nodes.concat(e),this._.emit("append",e)}return this},r.appendTo=function(e){return e.append(this),this},r.remove=function(){if(arguments.length>0){for(var e,t=this.nodes,n=[],i=0,r=arguments.length;r>i;++i)-1!==(e=t.indexOf(arguments[i]))&&(n.push(t[e]),t.splice(e,1));n.length>0&&this._.emit("remove",n)}return this},r.removeFrom=function(e){return e.remove(this),this},r.removeAll=function(){var e=this.nodes.slice();return this.nodes=[],e.length>0&&this._.emit("remove",e),this},r.removeAtIndex=function(e){var t=this.nodes[e];return t&&(this.nodes.splice(e,1),this._.emit("remove",[t])),this},r.postMessage=function(e){return this._.emit("message",e),this},r.to=function(e){if(e instanceof t)e.append(this);else{var n=i.call(arguments);w(n[1])?n.splice(2,0,this):n.splice(1,0,this),e=y.apply(null,n)}return e},r.splice=function(e,n,i){var r;return n?n instanceof t&&(r=n.nodes.indexOf(i),-1!==r&&n.nodes.splice(r,1),e instanceof t?(e.nodes.push(this),n.nodes.push(e)):n.nodes.push(this)):this._.dac&&(e instanceof t?i instanceof t?i._.dac&&(i._.dac._.node=e,e._.dac=i._.dac,i._.dac=null,e.nodes.push(this)):this._.dac&&(this._.dac._.node=e,e._.dac=this._.dac,this._.dac=null,e.nodes.push(this)):i instanceof t&&i._.dac&&(i._.dac._.node=this,this._.dac=i._.dac,i._.dac=null)),this},r.on=r.addListener=function(e,t){return this._.events.on(e,t),this},r.once=function(e,t){return this._.events.once(e,t),this},r.off=r.removeListener=function(e,t){return this._.events.off(e,t),this},r.removeAllListeners=function(e){return this._.events.removeAllListeners(e),this},r.listeners=function(e){return this._.events.listeners(e)},r.set=function(e,t){var n,i,r=this._.meta;switch(typeof e){case"string":switch(r[e]){case"property":this[e]=t;break;case"function":this[e](t);break;default:for(n=this;null!==n;)i=Object.getOwnPropertyDescriptor(n,e),i&&("function"==typeof i.value?(r[e]="function",this[e](t)):(i.get||i.set)&&(r[e]="property",this[e]=t)),n=Object.getPrototypeOf(n)}break;case"object":for(n in e)this.set(n,e[n])}return this},r.get=function(e){return"property"===this._.meta[e]?this[e]:void 0},r.bang=function(){return this._.emit.apply(this,["bang"].concat(i.call(arguments))),this},r.process=_.nop,r.bypass=function(){return this._.bypassed=0===arguments.length?!0:!!arguments[0],this},r.play=function(){var e=this._.dac;return null===e&&(e=this._.dac=new O(this)),e.play()&&this._.emit.apply(this,["play"].concat(i.call(arguments))),_.buddies_start(this),this},r.pause=function(){var e=this._.dac;return e&&e.playbackState===s&&(e.pause(),this._.dac=null,this._.emit("pause")),_.buddies_stop(this),this},r.start=r.stop=r.listen=r.unlisten=function(){return this},r.ar=function(){return(0===arguments.length?0:!arguments[0])?this.kr(!0):this._.kronly||(this._.ar=!0,this._.emit("ar",!0)),this},r.kr=function(){return(0===arguments.length?0:!arguments[0])?this.ar(!0):this._.aronly||(this._.ar=!1,this._.emit("ar",!1)),this},r.plot="browser"===d?function(t){var n=this._,i=t.target;if(!i)return this;var r,s=t.width||i.width||320,a=t.height||i.height||240,o=(t.x||0)+.5,u=t.y||0,l=i.getContext("2d");r=t.foreground!==e?t.foreground:n.plotForeground||"rgb(  0, 128, 255)";var c;c=t.background!==e?t.background:n.plotBackground||"rgb(255, 255, 255)";var f,h,p,d,m,v=t.lineWidth||n.plotLineWidth||1,g=!!n.plotCyclic,y=n.plotData||this.cells[0],b=t.range||n.plotRange||[-1.2,1.2],_=b[0],x=a/(b[1]-_),w=s/y.length,k=y.length;if(l.save(),l.rect(o,u,s,a),null!==c&&(l.fillStyle=c,l.fillRect(o,u,s,a)),n.plotBefore&&n.plotBefore.call(this,l,o,u,s,a),n.plotBarStyle)for(l.fillStyle=r,f=0,m=0;k>m;++m)p=(y[m]-_)*x,h=a-p,l.fillRect(f+o,h+u,w,p),f+=w;else{for(l.strokeStyle=r,l.lineWidth=v,l.beginPath(),f=0,d=a-(y[0]-_)*x,l.moveTo(f+o,d+u),m=1;k>m;++m)f+=w,h=a-(y[m]-_)*x,l.lineTo(f+o,h+u);g?l.lineTo(f+w+o,d+u):l.lineTo(f+w+o,h+u),l.stroke()}n.plotAfter&&n.plotAfter.call(this,l,o,u,s,a);var T=t.border||n.plotBorder;return T&&(l.strokeStyle="string"==typeof T?T:"#000",l.lineWidth=1,l.strokeRect(o,u,s,a)),l.restore(),this}:_.nop,t}(),I=n.ChannelObject=function(){function e(e){n.Object.call(this,-1,[]),_.fixAR(this),this._.parent=e,this.cell=new _.SignalArray(f.cellsize),this.L=this.R=this,this.cells[0]=this.cells[1]=this.cells[2]=this.cell,this.numChannels=1}return _.extend(e),e.prototype.process=function(e){return this.tickID!==e&&(this.tickID=e,this._.parent&&this._.parent.process(e)),this},e}(),D=function(){function e(e){A.call(this,2,e)}return _.extend(e),e.prototype.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(_.inputSignalAR(this),_.outputSignalAR(this)):(this.cells[0][0]=_.inputSignalKR(this),_.outputSignalKR(this))),this},_.register("+",e),e}(),R=function(){function e(e){if(A.call(this,1,[]),_.fixKR(this),this.value=e[0],w(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",_.changeWithValue),this.on("setMul",_.changeWithValue)}_.extend(e);var t=e.prototype;return Object.defineProperties(t,{value:{set:function(e){"number"==typeof e&&(this._.value=isNaN(e)?0:e,_.changeWithValue.call(this))},get:function(){return this._.value}}}),e}(),C=function(){function e(e){if(A.call(this,1,[]),_.fixKR(this),this.value=e[0],w(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",_.changeWithValue),this.on("setMul",_.changeWithValue)}_.extend(e);var t=e.prototype;return Object.defineProperties(t,{value:{set:function(e){this._.value=e?1:0,_.changeWithValue.call(this)},get:function(){return!!this._.value}}}),e}(),j=function(){function e(e){if(A.call(this,1,[]),_.fixKR(this),this.func=e[0],this._.value=0,w(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}this.on("setAdd",_.changeWithValue),this.on("setMul",_.changeWithValue)}_.extend(e);var t=e.prototype;return Object.defineProperties(t,{func:{set:function(e){"function"==typeof e&&(this._.func=e)},get:function(){return this._.func}},args:{set:function(e){this._.args=x(e)?e:[e]},get:function(){return this._.args}}}),t.bang=function(){var e=this._,t=i.call(arguments).concat(e.args),n=e.func.apply(this,t);return"number"==typeof n&&(e.value=n,_.changeWithValue.call(this)),this._.emit("bang"),this},e}(),E=function(){function e(e){A.call(this,1,[]);var t,n;for(t=0,n=e[0].length;n>t;++t)this.append(e[0][t]);if(w(e[1])){var i=e[1];this.once("init",function(){this.set(i)})}}_.extend(e);var t=e.prototype;return Object.defineProperties(t,{}),t.bang=function(){var e,t,n=["bang"].concat(i.call(arguments)),r=this.nodes;for(e=0,t=r.length;t>e;++e)r[e].bang.apply(r[e],n);return this},t.postMessage=function(e){var t,n,i=this.nodes;for(t=0,n=i.length;n>t;++t)i[t].postMessage(e);return this},t.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(_.inputSignalAR(this),_.outputSignalAR(this)):(this.cells[0][0]=_.inputSignalKR(this),_.outputSignalKR(this))),this},e}(),L=function(){function e(e){if(A.call(this,1,[]),_.fixKR(this),w(e[1])){var t=e[1];this.once("init",function(){this.set(t)})}}_.extend(e);var t=e.prototype;return Object.defineProperties(t,{}),e}(),O=function(){function e(e){A.call(this,2,[]),this.playbackState=r;var i=this._;i.node=e,i.onplay=t(this),i.onpause=n(this)}_.extend(e);var t=function(e){return function(){-1===f.inlets.indexOf(e)&&(f.inlets.push(e),f.events.emit("addObject"),e.playbackState=s,e._.emit("play"))}},n=function(e){return function(){var t=f.inlets.indexOf(e);-1!==t&&(f.inlets.splice(t,1),e.playbackState=r,e._.emit("pause"),f.events.emit("removeObject"))}},i=e.prototype;return i.play=function(){return f.nextTick(this._.onplay),-1===f.inlets.indexOf(this)},i.pause=function(){f.nextTick(this._.onpause)},i.process=function(e){var t=this._.node;1&t.playbackState?(t.process(e),this.cells[1].set(t.cells[1]),this.cells[2].set(t.cells[2])):(this.cells[1].set(_.emptycell),this.cells[2].set(_.emptycell))},e}(),M=function(){function e(){this.context=this,this.tickID=0,this.impl=null,this.amp=.8,this.status=r,this.samplerate=44100,this.channels=2,this.cellsize=64,this.streammsec=20,this.streamsize=0,this.currentTime=0,this.nextTicks=[],this.inlets=[],this.timers=[],this.listeners=[],this.deferred=null,this.recStart=0,this.recBuffers=null,this.delayProcess=t(this),this.events=null,_.currentTimeIncr=1e3*this.cellsize/this.samplerate,_.emptycell=new _.SignalArray(this.cellsize),this.reset(!0)}var t=function(e){return function(){e.recStart=Date.now(),e.process()}},n=e.prototype;n.bind=function(e,t){if("function"==typeof e){var n=new e(this,t);this.impl=n,this.impl.defaultSamplerate&&(this.samplerate=this.impl.defaultSamplerate)}return this},n.setup=function(e){return"object"==typeof e&&(-1!==u.indexOf(e.samplerate)&&(this.samplerate=e.samplerate<=this.impl.maxSamplerate?e.samplerate:this.impl.maxSamplerate),-1!==l.indexOf(e.cellsize)&&(this.cellsize=e.cellsize),"undefined"!=typeof Float64Array&&"undefined"!=typeof e.f64&&(v=!!e.f64,_.SignalArray=v?Float64Array:Float32Array)),_.currentTimeIncr=1e3*this.cellsize/this.samplerate,_.emptycell=new _.SignalArray(this.cellsize),this},n.getAdjustSamples=function(e){var t,n;return e=e||this.samplerate,t=this.streammsec/1e3*e,n=Math.ceil(Math.log(t)*Math.LOG2E),n=8>n?8:n>14?14:n,1<<n},n.play=function(){return this.status===r&&(this.status=s,this.streamsize=this.getAdjustSamples(),this.strmL=new _.SignalArray(this.streamsize),this.strmR=new _.SignalArray(this.streamsize),this.impl.play(),this.events.emit("play")),this},n.pause=function(){return this.status===s&&(this.status=r,this.impl.pause(),this.events.emit("pause")),this},n.reset=function(e){return e&&(this.events=new T(this).on("addObject",function(){this.status===r&&this.play()}).on("removeObject",function(){this.status===s&&this.inlets.length+this.timers.length+this.listeners.length===0&&this.pause()})),this.currentTime=0,this.nextTicks=[],this.inlets=[],this.timers=[],this.listeners=[],this},n.process=function(){var e,t,n,i,r,s,a,u,l=this.tickID,c=this.strmL,f=this.strmR,h=this.amp,p=this.streamsize,d=0,m=this.cellsize,v=this.streamsize/this.cellsize,g=this.timers,y=this.inlets,b=this.listeners,x=_.currentTimeIncr;for(i=0;p>i;++i)c[i]=f[i]=0;for(;v--;){for(++l,r=0,s=g.length;s>r;++r)1&g[r].playbackState&&g[r].process(l);for(r=0,s=y.length;s>r;++r)if(e=y[r],e.process(l),1&e.playbackState)for(t=e.cells[1],n=e.cells[2],a=0,i=d;m>a;++a,++i)c[i]+=t[a],f[i]+=n[a];for(d+=m,r=0,s=b.length;s>r;++r)1&b[r].playbackState&&b[r].process(l);for(this.currentTime+=x,u=this.nextTicks.splice(0),r=0,s=u.length;s>r;++r)u[r]()}for(i=0;p>i;++i)e=c[i]*h,-1>e?e=-1:e>1&&(e=1),c[i]=e,e=f[i]*h,-1>e?e=-1:e>1&&(e=1),f[i]=e;
this.tickID=l;var w=this.currentTime;if(this.status===o){if(2===this.recCh)this.recBuffers.push(new _.SignalArray(c)),this.recBuffers.push(new _.SignalArray(f));else{var k=new _.SignalArray(c.length);for(i=0,p=k.length;p>i;++i)k[i]=.5*(c[i]+f[i]);this.recBuffers.push(k)}if(w>=this.maxDuration)this.deferred.sub.reject();else if(w>=this.recDuration)this.deferred.sub.resolve();else{var T=Date.now();T-this.recStart>20?setTimeout(this.delayProcess,10):this.process()}}},n.nextTick=function(e){this.status===r?e():this.nextTicks.push(e)},n.rec=function(){_.fix_iOS6_1_problem(!0);var e=new S(this);if(this.deferred)return console.warn("rec deferred is exists??"),e.reject().promise();if(this.status!==r)return console.log("status is not none",this.status),e.reject().promise();var t=0,n=arguments,s=w(n[t])?n[t++]:{},u=n[t];if("function"!=typeof u)return console.warn("no function"),e.reject().promise();this.deferred=e,this.status=o,this.reset();var l=new y("+"),c=new S(this),f={done:function(){c.resolve.apply(c,i.call(arguments))},send:function(){l.append.apply(l,arguments)}},h=this;return c.then(a,function(){_.fix_iOS6_1_problem(!1),a.call(h,!0)}),this.deferred.sub=c,this.savedSamplerate=this.samplerate,this.samplerate=s.samplerate||this.samplerate,this.recDuration=s.recDuration||1/0,this.maxDuration=s.maxDuration||6e5,this.recCh=s.ch||1,2!==this.recCh&&(this.recCh=1),this.recBuffers=[],this.streamsize=this.getAdjustSamples(),this.strmL=new _.SignalArray(this.streamsize),this.strmR=new _.SignalArray(this.streamsize),this.inlets.push(l),u(f),setTimeout(this.delayProcess,10),e.promise()};var a=function(){this.status=r,this.reset();var e,t=this.recBuffers,n=this.samplerate,i=this.streamsize;this.samplerate=this.savedSamplerate,e=1/0!==this.recDuration?this.recDuration*n*.001|0:(t.length>>this.recCh-1)*i;var s,a,o=e/i|0,u=0,l=0,c=e;if(2===this.recCh){var f=new _.SignalArray(e),h=new _.SignalArray(e),p=new _.SignalArray(e);for(a=0;o>a;++a)if(f.set(t[u++],l),h.set(t[u++],l),l+=i,c-=i,c>0&&i>c){f.set(t[u++].subarray(0,c),l),h.set(t[u++].subarray(0,c),l);break}for(a=0,o=e;o>a;++a)p[a]=.5*(f[a]+h[a]);s={samplerate:n,channels:2,buffer:[p,f,h]}}else{var d=new _.SignalArray(e);for(a=0;o>a;++a)if(d.set(t[u++],l),l+=i,c-=i,c>0&&i>c){d.set(t[u++].subarray(0,c),l);break}s={samplerate:n,channels:1,buffer:[d]}}var m=[].concat.apply([s],arguments);this.deferred.resolve.apply(this.deferred,m),this.deferred=null};return n.on=function(e,t){this.events.on(e,t)},n.once=function(e,t){this.events.once(e,t)},n.off=function(e,t){this.events.off(e,t)},n.removeAllListeners=function(e){this.events.removeListeners(e)},n.listeners=function(e){return this.events.listeners(e)},n.fix_iOS6_1_problem=function(e){this.impl.fix_iOS6_1_problem&&this.impl.fix_iOS6_1_problem(e)},e}(),N=null;N="undefined"!=typeof webkitAudioContext?function(e){var t,n,i=new webkitAudioContext;_._audioContext=i,this.maxSamplerate=i.sampleRate,this.defaultSamplerate=i.sampleRate,this.env="webkit";var r=navigator.userAgent;if(r.match(/linux/i)?e.streammsec*=8:r.match(/win(dows)?\s*(nt 5\.1|xp)/i)&&(e.streammsec*=4),this.play=function(){var r,s,a,o=e.getAdjustSamples(i.sampleRate),u=e.streamsize;e.samplerate===i.sampleRate?r=function(t){var n=t.outputBuffer;e.process(),n.getChannelData(0).set(e.strmL),n.getChannelData(1).set(e.strmR)}:2*e.samplerate===i.sampleRate?r=function(t){var n,i,r=e.strmL,s=e.strmR,a=t.outputBuffer,o=a.getChannelData(0),u=a.getChannelData(1),l=a.length;for(e.process(),n=i=0;l>n;n+=2,++i)o[n]=o[n+1]=r[i],u[n]=u[n+1]=s[i]}:(s=u,a=e.samplerate/i.sampleRate,r=function(t){var n,i=e.strmL,r=e.strmR,o=t.outputBuffer,l=o.getChannelData(0),c=o.getChannelData(1),f=o.length;for(n=0;f>n;++n)s>=u&&(e.process(),s-=u),l[n]=i[0|s],c[n]=r[0|s],s+=a}),t=i.createBufferSource(),n=i.createJavaScriptNode(o,2,e.channels),n.onaudioprocess=r,t.noteOn(0),t.connect(n),n.connect(i.destination)},this.pause=function(){t.disconnect(),n.disconnect()},m){var s=0,a=i.createBufferSource();this.fix_iOS6_1_problem=function(e){s+=e?1:-1,1===s?(a.noteOn(0),a.connect(i.destination)):0===s&&a.disconnect()}}}:"function"==typeof Audio&&"function"==typeof(new Audio).mozSetup?function(e){var t=function(){var e="var t=0;onmessage=function(e){if(t)t=clearInterval(t),0;if(typeof e.data=='number'&&e.data>0)t=setInterval(function(){postMessage(0);},e.data);};",t=new Blob([e],{type:"text/javascript"}),n=URL.createObjectURL(t);return new Worker(n)}();this.maxSamplerate=48e3,this.defaultSamplerate=44100,this.env="moz",this.play=function(){var n=new Audio,i=new Float32Array(e.streamsize*e.channels),r=e.streammsec,s=0,a=e.streamsize/e.samplerate*1e3,o=Date.now(),u=function(){if(!(s>Date.now()-o)){var t=e.strmL,r=e.strmR,u=i.length,l=t.length;for(e.process();l--;)i[--u]=r[l],i[--u]=t[l];n.mozWriteAudio(i),s+=a}};n.mozSetup(e.channels,e.samplerate),t.onmessage=u,t.postMessage(r)},this.pause=function(){t.postMessage(0)}}:function(){this.maxSamplerate=48e3,this.defaultSamplerate=44100,this.env="nop",this.play=function(){},this.pause=function(){}},f=(new M).bind(N);var F=n;"node"===d?module.exports=global.timbre=F:"browser"===d&&(F.noConflict=function(){var e=window.timbre,t=window.T;return function(n){return window.T===F&&(window.T=t),n&&window.timbre===F&&(window.timbre=e),F}}(),window.timbre=window.T=F),function(){function e(e){try{return t.plugins&&t.mimeTypes&&t.mimeTypes.length?t.plugins["Shockwave Flash"].description.match(/([0-9]+)/)[e]:new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").match(/([0-9]+)/)[e]}catch(n){return-1}}if("nop"===f.impl.env&&"browser"===d&&!m){var t=navigator;if(!(e(0)<10)){var n,i="TimbreFlashPlayerDiv",r=function(){var e=document.getElementsByTagName("script");if(e&&e.length)for(var t,n=0,i=e.length;i>n;++n)if(t=/^(.*\/)timbre(?:\.dev)?\.js$/i.exec(e[n].src))return t[1]+"timbre.swf"}();window.timbrejs_flashfallback_init=function(){function e(e){var t=0;this.maxSamplerate=44100,this.defaultSamplerate=44100,this.env="flash",this.play=function(){var i,s=new Array(e.streamsize*e.channels),a=e.streammsec,o=0,u=e.streamsize/e.samplerate*1e3,l=Date.now();i=function(){if(!(o>Date.now()-l)){var t=e.strmL,i=e.strmR,r=s.length,a=t.length;for(e.process();a--;)s[--r]=32768*i[a]|0,s[--r]=32768*t[a]|0;n.writeAudio(s.join(" ")),o+=u}},n.setup?(n.setup(e.channels,e.samplerate),t=setInterval(i,a)):console.warn("Cannot find "+r)},this.pause=function(){0!==t&&(n.cancel(),clearInterval(t),t=0)}}f.bind(e),delete window.timbrejs_flashfallback_init};var s,a,o=r,u=o+"?"+ +new Date,l="TimbreFlashPlayer",c=document.createElement("div");c.id=i,c.style.display="inline",c.width=c.height=1,t.plugins&&t.mimeTypes&&t.mimeTypes.length?(s=document.createElement("object"),s.id=l,s.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",s.width=s.height=1,s.setAttribute("data",u),s.setAttribute("type","application/x-shockwave-flash"),a=document.createElement("param"),a.setAttribute("name","allowScriptAccess"),a.setAttribute("value","always"),s.appendChild(a),c.appendChild(s)):c.innerHTML='<object id="'+l+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="1" height="1"><param name="movie" value="'+u+'" /><param name="bgcolor" value="#FFFFFF" /><param name="quality" value="high" /><param name="allowScriptAccess" value="always" /></object>',window.addEventListener("load",function(){document.body.appendChild(c),n=document[l]})}}}()}(),function(e){"use strict";function t(e){this.samplerate=e,this.frequency=340,this.Q=1,this.gain=0,this.x1L=this.x2L=this.y1L=this.y2L=0,this.x1R=this.x2R=this.y1R=this.y2R=0,this.b0=this.b1=this.b2=this.a1=this.a2=0,this.setType("lpf")}var n=t.prototype;n.process=function(e,t){var n,i,r,s,a,o,u=this.x1L,l=this.x2L,c=this.y1L,f=this.y2L,h=this.x1R,p=this.x2R,d=this.y1R,m=this.y2R,v=this.b0,g=this.b1,y=this.b2,b=this.a1,_=this.a2;for(a=0,o=e.length;o>a;++a)n=e[a],r=v*n+g*u+y*l-b*c-_*f,l=u,u=n,f=c,c=r,i=t[a],s=v*i+g*h+y*p-b*d-_*m,p=h,h=i,m=d,d=s,e[a]=r,t[a]=s;this.x1L=u,this.x2L=l,this.y1L=c,this.y2L=f,this.x1R=h,this.x2R=p,this.y1R=d,this.y2R=m},n.setType=function(e){var t;(t=i[e])&&(this.type=e,t.call(this,this.frequency,this.Q,this.gain))},n.setParams=function(e,t,n){this.frequency=e,this.Q=t,this.gain=n;var r=i[this.type];return r&&r.call(this,e,t,n),this};var i={lowpass:function(e,t){if(e/=.5*this.samplerate,e>=1)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=this.b1=this.b2=this.a1=this.a2=0;else{t=0>t?0:t;var n=Math.pow(10,.05*t),i=Math.sqrt(.5*(4-Math.sqrt(16-16/(n*n)))),r=Math.PI*e,s=.5*i*Math.sin(r),a=.5*(1-s)/(1+s),o=(.5+a)*Math.cos(r),u=.25*(.5+a-o);this.b0=2*u,this.b1=4*u,this.b2=this.b0,this.a1=2*-o,this.a2=2*a}},highpass:function(e,t){if(e/=.5*this.samplerate,e>=1)this.b0=this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else{t=0>t?0:t;var n=Math.pow(10,.05*t),i=Math.sqrt((4-Math.sqrt(16-16/(n*n)))/2),r=Math.PI*e,s=.5*i*Math.sin(r),a=.5*(1-s)/(1+s),o=(.5+a)*Math.cos(r),u=.25*(.5+a+o);this.b0=2*u,this.b1=-4*u,this.b2=this.b0,this.a1=2*-o,this.a2=2*a}},bandpass:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=i*s,this.b1=0,this.b2=-i*s,this.a1=-2*r*s,this.a2=(1-i)*s}else this.b0=this.b1=this.b2=this.a1=this.a2=0;else this.b0=this.b1=this.b2=this.a1=this.a2=0},lowshelf:function(e,t,n){e/=.5*this.samplerate;var i=Math.pow(10,n/40);if(e>=1)this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else{var r=Math.PI*e,s=1,a=.5*Math.sin(r)*Math.sqrt((i+1/i)*(1/s-1)+2),o=Math.cos(r),u=2*Math.sqrt(i)*a,l=i+1,c=i-1,f=1/(l+c*o+u);this.b0=i*(l-c*o+u)*f,this.b1=2*i*(c-l*o)*f,this.b2=i*(l-c*o-u)*f,this.a1=-2*(c+l*o)*f,this.a2=(l+c*o-u)*f}},highshelf:function(e,t,n){e/=.5*this.samplerate;var i=Math.pow(10,n/40);if(e>=1)this.b0=1,this.b1=this.b2=this.a1=this.a2=0;else if(0>=e)this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0;else{var r=Math.PI*e,s=1,a=.5*Math.sin(r)*Math.sqrt((i+1/i)*(1/s-1)+2),o=Math.cos(r),u=2*Math.sqrt(i)*a,l=i+1,c=i-1,f=1/(l-c*o+u);this.b0=i*(l+c*o+u)*f,this.b1=-2*i*(c+l*o)*f,this.b2=i*(l+c*o-u)*f,this.a1=2*(c-l*o)*f,this.a2=(l-c*o-u)*f}},peaking:function(e,t,n){if(e/=.5*this.samplerate,e>0&&1>e){var i=Math.pow(10,n/40);if(t>0){var r=Math.PI*e,s=Math.sin(r)/(2*t),a=Math.cos(r),o=1/(1+s/i);this.b0=(1+s*i)*o,this.b1=-2*a*o,this.b2=(1-s*i)*o,this.a1=this.b1,this.a2=(1-s/i)*o}else this.b0=i*i,this.b1=this.b2=this.a1=this.a2=0}else this.b0=1,this.b1=this.b2=this.a1=this.a2=0},notch:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=s,this.b1=-2*r*s,this.b2=s,this.a1=this.b1,this.a2=(1-i)*s}else this.b0=this.b1=this.b2=this.a1=this.a2=0;else this.b0=1,this.b1=this.b2=this.a1=this.a2=0},allpass:function(e,t){if(e/=.5*this.samplerate,e>0&&1>e)if(t>0){var n=Math.PI*e,i=Math.sin(n)/(2*t),r=Math.cos(n),s=1/(1+i);this.b0=(1-i)*s,this.b1=-2*r*s,this.b2=(1+i)*s,this.a1=this.b1,this.a2=this.b0}else this.b0=-1,this.b1=this.b2=this.a1=this.a2=0;else this.b0=1,this.b1=this.b2=this.a1=this.a2=0}};i.lpf=i.lowpass,i.hpf=i.highpass,i.bpf=i.bandpass,i.bef=i.notch,i.brf=i.notch,i.apf=i.allpass,e.modules.Biquad=t}(timbre),function(e){"use strict";function t(t){this.samplerate=t;var n=Math.round(Math.log(.1*t)*Math.LOG2E);this.buffersize=1<<n,this.bufferL=new e.fn.SignalArray(this.buffersize+1),this.bufferR=new e.fn.SignalArray(this.buffersize+1),this.wave=null,this._wave=null,this.writeIndex=this.buffersize>>1,this.readIndex=0,this.delayTime=20,this.rate=4,this.depth=20,this.feedback=.2,this.wet=.5,this.phase=0,this.phaseIncr=0,this.phaseStep=4,this.setWaveType("sin"),this.setDelayTime(this.delayTime),this.setRate(this.rate)}var n=t.prototype,i=[];i[0]=function(){for(var e=new Float32Array(512),t=0;512>t;++t)e[t]=Math.sin(2*Math.PI*(t/512));return e}(),i[1]=function(){for(var e,t=new Float32Array(512),n=0;512>n;++n)e=n/512-.25,t[n]=1-4*Math.abs(Math.round(e)-e);return t}(),n.setWaveType=function(e){"sin"===e?(this.wave=e,this._wave=i[0]):"tri"===e&&(this.wave=e,this._wave=i[1])},n.setDelayTime=function(e){this.delayTime=e;for(var t=this.writeIndex-(e*this.samplerate*.001|0);0>t;)t+=this.buffersize;this.readIndex=t},n.setRate=function(e){this.rate=e,this.phaseIncr=512*this.rate/this.samplerate*this.phaseStep},n.process=function(e,t){var n,i,r,s,a,o=this.bufferL,u=this.bufferR,l=this.buffersize,c=l-1,f=this._wave,h=this.phase,p=this.phaseIncr,d=this.writeIndex,m=this.readIndex,v=this.depth,g=this.feedback,y=this.wet,b=1-y,_=e.length,x=this.phaseStep;for(s=0;_>s;){for(r=f[0|h]*v,h+=p;h>512;)h-=512;for(a=0;x>a;++a,++s)i=m+l+r&c,n=.5*(o[i]+o[i+1]),o[d]=e[s]-n*g,e[s]=e[s]*b+n*y,n=.5*(u[i]+u[i+1]),u[d]=t[s]-n*g,t[s]=t[s]*b+n*y,d=d+1&c,m=m+1&c}this.phase=h,this.writeIndex=d,this.readIndex=m},e.modules.Chorus=t}(timbre),function(e){"use strict";function t(t,i){this.samplerate=t,this.channels=i,this.lastPreDelayFrames=0,this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.ratio=-1,this.slope=-1,this.linearThreshold=-1,this.dbThreshold=-1,this.dbKnee=-1,this.kneeThreshold=-1,this.kneeThresholdDb=-1,this.ykneeThresholdDb=-1,this.K=-1,this.attackTime=.003,this.releaseTime=.25,this.preDelayTime=.006,this.dbPostGain=0,this.effectBlend=1,this.releaseZone1=.09,this.releaseZone2=.16,this.releaseZone3=.42,this.releaseZone4=.98,this.detectorAverage=0,this.compressorGain=1,this.meteringGain=1,this.delayBufferL=new e.fn.SignalArray(n),this.delayBufferR=2===i?new e.fn.SignalArray(n):this.delayBufferL,this.preDelayTime=6,this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.maxAttackCompressionDiffDb=-1,this.meteringReleaseK=1-Math.exp(-1/(.325*this.samplerate)),this.setAttackTime(this.attackTime),this.setReleaseTime(this.releaseTime),this.setPreDelayTime(this.preDelayTime),this.setParams(-24,30,12)}var n=1024,i=n-1,r=256,s=5,a=t.prototype;a.clone=function(){var e=new t(this.samplerate,this.channels);return e.setAttackTime(this.attackTime),e.setReleaseTime(this.releaseTime),e.setPreDelayTime(this.preDelayTime),e.setParams(this.dbThreshold,this.dbKnee,this.ratio),e},a.setAttackTime=function(e){this.attackTime=Math.max(.001,e),this._attackFrames=this.attackTime*this.samplerate},a.setReleaseTime=function(e){this.releaseTime=Math.max(.001,e);var t=this.releaseTime*this.samplerate,n=.0025;this._satReleaseFrames=n*this.samplerate;var i=t*this.releaseZone1,r=t*this.releaseZone2,s=t*this.releaseZone3,a=t*this.releaseZone4;this._kA=.9999999999999998*i+1.8432219684323923e-16*r-1.9373394351676423e-16*s+8.824516011816245e-18*a,this._kB=-1.5788320352845888*i+2.3305837032074286*r-.9141194204840429*s+.1623677525612032*a,this._kC=.5334142869106424*i-1.272736789213631*r+.9258856042207512*s-.18656310191776226*a,this._kD=.08783463138207234*i-.1694162967925622*r+.08588057951595272*s-.00429891410546283*a,this._kE=-.042416883008123074*i+.1115693827987602*r-.09764676325265872*s+.028494263462021576*a},a.setPreDelayTime=function(e){this.preDelayTime=e;var t=e*this.samplerate;if(t>n-1&&(t=n-1),this.lastPreDelayFrames!==t){this.lastPreDelayFrames=t;for(var i=0,r=this.delayBufferL.length;r>i;++i)this.delayBufferL[i]=this.delayBufferR[i]=0;this.preDelayReadIndex=0,this.preDelayWriteIndex=t}},a.setParams=function(e,t,n){this._k=this.updateStaticCurveParameters(e,t,n);var i=this.saturate(1,this._k),r=1/i;r=Math.pow(r,.6),this._masterLinearGain=Math.pow(10,.05*this.dbPostGain)*r},a.kneeCurve=function(e,t){return e<this.linearThreshold?e:this.linearThreshold+(1-Math.exp(-t*(e-this.linearThreshold)))/t},a.saturate=function(e,t){var n;if(e<this.kneeThreshold)n=this.kneeCurve(e,t);else{var i=e?20*Math.log(e)*Math.LOG10E:-1e3,r=this.ykneeThresholdDb+this.slope*(i-this.kneeThresholdDb);n=Math.pow(10,.05*r)}return n},a.slopeAt=function(e,t){if(e<this.linearThreshold)return 1;var n=1.001*e,i=e?20*Math.log(e)*Math.LOG10E:-1e3,r=n?20*Math.log(n)*Math.LOG10E:-1e3,s=this.kneeCurve(e,t),a=this.kneeCurve(n,t),o=s?20*Math.log(s)*Math.LOG10E:-1e3,u=a?20*Math.log(a)*Math.LOG10E:-1e3;return(u-o)/(r-i)},a.kAtSlope=function(e){for(var t=this.dbThreshold+this.dbKnee,n=Math.pow(10,.05*t),i=.1,r=1e4,s=5,a=0;15>a;++a){var o=this.slopeAt(n,s);e>o?r=s:i=s,s=Math.sqrt(i*r)}return s},a.updateStaticCurveParameters=function(e,t,n){this.dbThreshold=e,this.linearThreshold=Math.pow(10,.05*e),this.dbKnee=t,this.ratio=n,this.slope=1/this.ratio,this.kneeThresholdDb=e+t,this.kneeThreshold=Math.pow(10,.05*this.kneeThresholdDb);var i=this.kAtSlope(1/this.ratio),r=this.kneeCurve(this.kneeThreshold,i);return this.ykneeThresholdDb=r?20*Math.log(r)*Math.LOG10E:-1e3,this._k=i,this._k},a.process=function(e,t){for(var n=1-this.effectBlend,r=this.effectBlend,a=this._k,o=this._masterLinearGain,u=this._satReleaseFrames,l=this._kA,c=this._kB,f=this._kC,h=this._kD,p=this._kE,d=64,m=e.length/d,v=0,g=this.detectorAverage,y=this.compressorGain,b=this.maxAttackCompressionDiffDb,_=1/this._attackFrames,x=this.preDelayReadIndex,w=this.preDelayWriteIndex,k=this.detectorAverage,T=this.delayBufferL,S=this.delayBufferR,A=this.meteringGain,I=this.meteringReleaseK,D=0;m>D;++D){var R,C=Math.asin(g)/(.5*Math.PI),j=C>y,E=y/C,L=E?20*Math.log(E)*Math.LOG10E:-1e3;if((1/0===L||isNaN(L))&&(L=-1),j){b=-1,E=L,E=-12>E?0:E>0?3:.25*(E+12);var O=E*E,M=O*E,N=O*O,F=l+c*E+f*O+h*M+p*N,q=s/F;R=Math.pow(10,.05*q)}else{(-1===b||L>b)&&(b=L);var P=Math.max(.5,b);E=.25/P,R=1-Math.pow(E,_)}for(var B=d;B--;){var z=0,W=.5*(e[v]+t[v]);T[w]=e[v],S[w]=t[v],0>W&&(W*=-1),W>z&&(z=W);var H=z;0>H&&(H*=-1);var $=this.saturate(H,a),G=1e-4>=H?1:$/H,V=G?-20*Math.log(G)*Math.LOG10E:1e3;2>V&&(V=2);var K=V/u,X=Math.pow(10,.05*K)-1,Y=G>k,U=Y?X:1;k+=(G-k)*U,k>1&&(k=1),1>R?y+=(C-y)*R:(y*=R,y>1&&(y=1));var Q=Math.sin(.5*Math.PI*y),J=n+r*o*Q,Z=20*Math.log(Q)*Math.LOG10E;A>Z?A=Z:A+=(Z-A)*I,e[v]=T[x]*J,t[v]=S[x]*J,v++,x=x+1&i,w=w+1&i}1e-6>k&&(k=1e-6),1e-6>y&&(y=1e-6)}this.preDelayReadIndex=x,this.preDelayWriteIndex=w,this.detectorAverage=k,this.compressorGain=y,this.maxAttackCompressionDiffDb=b,this.meteringGain=A},a.reset=function(){this.detectorAverage=0,this.compressorGain=1,this.meteringGain=1;for(var e=0,t=this.delayBufferL.length;t>e;++e)this.delayBufferL[e]=this.delayBufferR[e]=0;this.preDelayReadIndex=0,this.preDelayWriteIndex=r,this.maxAttackCompressionDiffDb=-1},e.modules.Compressor=t}(timbre),function(e){"use strict";function t(){}t.prototype.decode=function(e,n,i){if("string"==typeof e){if(/\.wav$/.test(e))return t.wav_decode(e,n,i);if(t.ogg_decode&&/\.ogg$/.test(e))return t.ogg_decode(e,n,i);if(t.mp3_decode&&/\.mp3$/.test(e))return t.mp3_decode(e,n,i)}else if("object"==typeof e){if("wav"===e.type)return t.wav_decode(e.data,n,i);if(t.ogg_decode&&"ogg"===e.type)return t.ogg_decode(e.data,n,i);if(t.mp3_decode&&"mp3"===e.type)return t.mp3_decode(e.data,n,i)}return t.webkit_decode?"object"==typeof e?t.webkit_decode(e.data||e,n,i):t.webkit_decode(e,n,i):t.moz_decode?t.moz_decode(e,n,i):void n(!1)},e.modules.Decoder=t,t.getBinaryWithPath="browser"===e.envtype?function(t,n){e.fn.fix_iOS6_1_problem(!0);var i=new XMLHttpRequest;i.open("GET",t),i.responseType="arraybuffer",i.onreadystatechange=function(){4===i.readyState&&(i.response?n(new Uint8Array(i.response)):void 0!==i.responseBody&&n(new Uint8Array(VBArray(i.responseBody).toArray())),e.fn.fix_iOS6_1_problem(!1))},i.send()}:function(e,t){t("no support")};var n=function(e){for(var t,n,i,r,s,a=new Int32Array(e.length/3),o=0,u=e.length,l=0;u>o;)t=e[o++],n=e[o++],i=e[o++],r=t+(n<<8)+(i<<16),s=8388608&r?r-16777216:r,a[l++]=s;return a};t.wav_decode=function(){var e=function(e,t,i){if("RIFF"!==String.fromCharCode(e[0],e[1],e[2],e[3]))return t(!1);var r=e[4]+(e[5]<<8)+(e[6]<<16)+(e[7]<<24);if(r+8!==e.length)return t(!1);if("WAVE"!==String.fromCharCode(e[8],e[9],e[10],e[11]))return t(!1);if("fmt "!==String.fromCharCode(e[12],e[13],e[14],e[15]))return t(!1);for(var s=e[22]+(e[23]<<8),a=e[24]+(e[25]<<8)+(e[26]<<16)+(e[27]<<24),o=e[34]+(e[35]<<8),u=36;u<e.length&&"data"!==String.fromCharCode(e[u],e[u+1],e[u+2],e[u+3]);)u+=1;if(u>=e.length)return t(!1);u+=4;var l=e[u]+(e[u+1]<<8)+(e[u+2]<<16)+(e[u+3]<<24),c=(l/s>>1)/a;if(u+=4,l>e.length-u)return t(!1);var f,h,p;f=new Float32Array(c*a|0),2===s&&(h=new Float32Array(f.length),p=new Float32Array(f.length)),t({samplerate:a,channels:s,buffer:[f,h,p],duration:c}),8===o?e=new Int8Array(e.buffer,u):16===o?e=new Int16Array(e.buffer,u):32===o?e=new Int32Array(e.buffer,u):24===o&&(e=n(new Uint8Array(e.buffer,u)));var d,m,v,g=1/((1<<o-1)-1);if(2===s)for(u=m=0,d=f.length;d>u;++u)v=h[u]=e[m++]*g,v+=p[u]=e[m++]*g,f[u]=.5*v;else for(u=0,d=f.length;d>u;++u)f[u]=e[u]*g;i()};return function(n,i,r){"string"==typeof n?t.getBinaryWithPath(n,function(t){e(t,i,r)}):e(n,i,r)}}(),t.webkit_decode=function(){if("undefined"!=typeof webkitAudioContext){var n=e.fn._audioContext,i=function(e,t,i){var r,s,a,o,u;if("string"==typeof e)return i(!1);var l;try{l=n.createBuffer(e.buffer,!1)}catch(c){return t(!1)}r=n.sampleRate,s=l.numberOfChannels,2===s?(a=l.getChannelData(0),o=l.getChannelData(1)):a=o=l.getChannelData(0),u=a.length/r;for(var f=new Float32Array(a),h=0,p=f.length;p>h;++h)f[h]=.5*(f[h]+o[h]);t({samplerate:r,channels:s,buffer:[f,a,o],duration:u}),i()};return function(e,n,r){if(e instanceof File){var s=new FileReader;s.onload=function(e){i(new Uint8Array(e.target.result),n,r)},s.readAsArrayBuffer(e)}else"string"==typeof e?t.getBinaryWithPath(e,function(e){i(e,n,r)}):i(e,n,r)}}}(),t.moz_decode=function(){return"function"==typeof Audio&&"function"==typeof(new Audio).mozSetup?function(e,t,n){var i,r,s,a,o,u,l=0,c=new Audio(e);c.volume=0,c.addEventListener("loadedmetadata",function(){i=c.mozSampleRate,r=c.mozChannels,u=c.duration,s=new Float32Array(c.duration*i|0),2===r&&(a=new Float32Array(c.duration*i|0),o=new Float32Array(c.duration*i|0)),2===r?c.addEventListener("MozAudioAvailable",function(e){for(var t,n=e.frameBuffer,i=0,r=n.length;r>i;i+=2)t=a[l]=n[i],t+=o[l]=n[i+1],s[l]=.5*t,l+=1},!1):c.addEventListener("MozAudioAvailable",function(e){for(var t=e.frameBuffer,n=0,i=t.length;i>n;++n)s[n]=t[n],l+=1},!1),c.play(),setTimeout(function(){t({samplerate:i,channels:r,buffer:[s,a,o],duration:u})},1e3)},!1),c.addEventListener("ended",function(){n()},!1),c.load()}:void 0}()}(timbre),function(e){"use strict";function t(e){this.samplerate=e||44100,this.value=i,this.status=h,this.curve="linear",this.step=1,this.releaseNode=null,this.loopNode=null,this.emit=null,this._envValue=new n(e),this._table=[],this._initValue=i,this._curveValue=0,this._defaultCurveType=s,this._index=0,this._counter=0}function n(e){this.samplerate=e,this.value=i,this.step=1,this._curveType=s,this._curveValue=0,this._grow=0,this._a2=0,this._b1=0,this._y1=0,this._y2=0}var i=t.ZERO=1e-6,r=t.CurveTypeSet=0,s=t.CurveTypeLin=1,a=t.CurveTypeExp=2,o=t.CurveTypeSin=3,u=t.CurveTypeWel=4,l=t.CurveTypeCurve=5,c=t.CurveTypeSqr=6,f=t.CurveTypeCub=7,h=t.StatusWait=0,p=t.StatusGate=1,d=t.StatusSustain=2,m=t.StatusRelease=3,v=t.StatusEnd=4,g={set:r,lin:s,linear:s,exp:a,exponential:a,sin:o,sine:o,wel:u,welch:u,sqr:c,squared:c,cub:f,cubed:f};t.CurveTypeDict=g;var y=t.prototype;y.clone=function(){var e=new t(this.samplerate);return e._table=this._table,e._initValue=this._initValue,e.setCurve(this.curve),null!==this.releaseNode&&e.setReleaseNode(this.releaseNode+1),null!==this.loopNode&&e.setLoopNode(this.loopNode+1),e.setStep(this.step),e.reset(),e},y.setTable=function(e){this._initValue=e[0],this._table=e.slice(1),this.value=this._envValue.value=this._initValue,this._index=0,this._counter=0,this.status=h},y.setCurve=function(e){"number"==typeof e?(this._defaultCurveType=l,this._curveValue=e,this.curve=e):(this._defaultCurveType=g[e]||null,this.curve=e)},y.setReleaseNode=function(e){"number"==typeof e&&e>0&&(this.releaseNode=e-1)},y.setLoopNode=function(e){"number"==typeof e&&e>0&&(this.loopNode=e-1)},y.setStep=function(e){this.step=this._envValue.step=e},y.reset=function(){this.value=this._envValue.value=this._initValue,this._index=0,this._counter=0,this.status=h},y.release=function(){null!==this.releaseNode&&(this._counter=0,this.status=m)},y.getInfo=function(e){var t,n,i=this._table,r=0,s=1/0,a=1/0,o=!1;for(t=0,n=i.length;n>t;++t){this.loopNode===t&&(s=r),this.releaseNode===t&&(e>r?r+=e:r=e,a=r);var u=i[t];Array.isArray(u)&&(r+=u[1])}return 1/0!==s&&1/0===a&&(r+=e,o=!0),{totalDuration:r,loopBeginTime:s,releaseBeginTime:a,isEndlessLoop:o}},y.calcStatus=function(){var e,t,n,i,a=this.status,o=this._table,u=this._index,c=this._counter,f=this._curveValue,g=this._defaultCurveType,y=this.loopNode,b=this.releaseNode,_=this._envValue,x=null;switch(a){case h:case v:break;case p:case m:for(;0>=c;)if(u>=o.length){if(a===p&&null!==y){u=y;continue}a=v,c=1/0,i=r,x="ended"}else if(a!==p||u!==b)e=o[u++],t=e[0],i=null===e[2]?g:e[2],i===l&&(f=e[3],Math.abs(f)<.001&&(i=s)),n=e[1],c=_.setNext(t,n,i,f);else{if(null!==y&&b>y){u=y;continue}a=d,c=1/0,i=r,x="sustained"}}return this.status=a,this.emit=x,this._index=u,this._counter=c,a},y.next=function(){return 1&this.calcStatus()&&(this.value=this._envValue.next()||i),this._counter-=1,this.value},y.process=function(e){var t,n=this._envValue,r=e.length;if(1&this.calcStatus())for(t=0;r>t;++t)e[t]=n.next()||i;else{var s=this.value||i;for(t=0;r>t;++t)e[t]=s}this.value=e[r-1],this._counter-=e.length},n.prototype.setNext=function(e,t,n,i){var h,p,d,m,v,g,y,_=this.step,x=this.value,w=.001*t*this.samplerate/_|0;switch(1>w&&(w=1,n=r),n){case r:this.value=e;break;case s:h=(e-x)/w;break;case a:h=0!==x?Math.pow(e/x,1/w):0;break;case o:p=Math.PI/w,m=.5*(e+x),v=2*Math.cos(p),g=.5*(e-x),y=g*Math.sin(.5*Math.PI-p),x=m-g;break;case u:p=.5*Math.PI/w,v=2*Math.cos(p),e>=x?(m=x,g=0,y=-Math.sin(p)*(e-x)):(m=e,g=x-e,y=Math.cos(p)*(x-e)),x=m+g;break;case l:d=(e-x)/(1-Math.exp(i)),m=x+d,v=d,h=Math.exp(i/w);break;case c:g=Math.sqrt(x),y=Math.sqrt(e),h=(y-g)/w;break;case f:g=Math.pow(x,.33333333),y=Math.pow(e,.33333333),h=(y-g)/w}return this.next=b[n],this._grow=h,this._a2=m,this._b1=v,this._y1=g,this._y2=y,w};var b=[];b[r]=function(){return this.value},b[s]=function(){return this.value+=this._grow,this.value},b[a]=function(){return this.value*=this._grow,this.value},b[o]=function(){var e=this._b1*this._y1-this._y2;return this.value=this._a2-e,this._y2=this._y1,this._y1=e,this.value},b[u]=function(){var e=this._b1*this._y1-this._y2;return this.value=this._a2+e,this._y2=this._y1,this._y1=e,this.value},b[l]=function(){return this._b1*=this._grow,this.value=this._a2-this._b1,this.value},b[c]=function(){return this._y1+=this._grow,this.value=this._y1*this._y1,this.value},b[f]=function(){return this._y1+=this._grow,this.value=this._y1*this._y1*this._y1,this.value},n.prototype.next=b[r],e.modules.Envelope=t,e.modules.EnvelopeValue=n}(timbre),function(e){"use strict";function t(t){t="number"==typeof t?t:512,t=1<<Math.ceil(Math.log(t)*Math.LOG2E),this.length=t,this.buffer=new e.fn.SignalArray(t),this.real=new e.fn.SignalArray(t),this.imag=new e.fn.SignalArray(t),this._real=new e.fn.SignalArray(t),this._imag=new e.fn.SignalArray(t),this.mag=new e.fn.SignalArray(t>>1),this.minDecibels=-30,this.maxDecibels=-100;var n=i.get(t);this._bitrev=n.bitrev,this._sintable=n.sintable,this._costable=n.costable}var n=t.prototype;n.setWindow=function(t){if("string"==typeof t){var n=/([A-Za-z]+)(?:\(([01]\.?\d*)\))?/.exec(t);if(null!==n){var i=n[1].toLowerCase(),s=void 0!==n[2]?+n[2]:.25,a=r[i];if(a){this._window||(this._window=new e.fn.SignalArray(this.length));var o=this._window,u=0,l=this.length;for(s=0>s?0:s>1?1:s;l>u;++u)o[u]=a(u,l,s);this.windowName=t}}}},n.forward=function(e){var t,n,i,r,s,a,o,u,l,c,f,h=this.buffer,p=this.real,d=this.imag,m=this._window,v=this._bitrev,g=this._sintable,y=this._costable,b=h.length;if(m)for(t=0;b>t;++t)h[t]=e[t]*m[t];else h.set(e);for(t=0;b>t;++t)p[t]=h[v[t]],d[t]=0;for(i=1;b>i;i=r)for(s=0,r=i+i,a=b/r,n=0;i>n;n++){for(o=y[s],u=g[s],t=n;b>t;t+=r)l=t+i,c=u*d[l]+o*p[l],f=o*d[l]-u*p[l],p[l]=p[t]-c,p[t]+=c,d[l]=d[t]-f,d[t]+=f;s+=a}var _,x,w=this.mag;for(t=0;b>t;++t)_=p[t],x=d[t],w[t]=Math.sqrt(_*_+x*x);return{real:p,imag:d}},n.inverse=function(e,t){var n,i,r,s,a,o,u,l,c,f,h,p=this.buffer,d=this._real,m=this._imag,v=this._bitrev,g=this._sintable,y=this._costable,b=p.length;for(n=0;b>n;++n)i=v[n],d[n]=+e[i],m[n]=-t[i];for(r=1;b>r;r=s)for(a=0,s=r+r,o=b/s,i=0;r>i;i++){for(u=y[a],l=g[a],n=i;b>n;n+=s)c=n+r,f=l*m[c]+u*d[c],h=u*m[c]-l*d[c],d[c]=d[n]-f,d[n]+=f,m[c]=m[n]-h,m[n]+=h;a+=o}for(n=0;b>n;++n)p[n]=d[n]/b;return p},n.getFrequencyData=function(e){var t,n=this.minDecibels,i=Math.min(this.mag.length,e.length);if(i){var r,s=this.mag,a=0;for(t=0;i>t;++t)r=s[t],e[t]=r?20*Math.log(r)*Math.LOG10E:n,a<e[t]&&(a=e[t])}return e};var i={get:function(t){return i[t]||function(){var n,r,s=function(){var e,n,i,r,s;for(e=new Int16Array(t),s=t>>1,n=i=0;e[n]=i,!(++n>=t);){for(r=s;i>=r;)i-=r,r>>=1;i+=r}return e}(),a=Math.floor(Math.log(t)/Math.LN2),o=new e.fn.SignalArray((1<<a)-1),u=new e.fn.SignalArray((1<<a)-1),l=2*Math.PI;for(n=0,r=o.length;r>n;++n)o[n]=Math.sin(l*(n/t)),u[n]=Math.cos(l*(n/t));return i[t]={bitrev:s,sintable:o,costable:u},i[t]}()}},r=function(){var e=Math.PI,t=2*Math.PI,n=Math.abs,i=Math.pow,r=Math.cos,s=Math.sin,a=function(t){return s(e*t)/(e*t)},o=Math.E;return{rectangular:function(){return 1},hann:function(e,n){return.5*(1-r(t*e/(n-1)))},hamming:function(e,n){return.54-.46*r(t*e/(n-1))},tukery:function(t,n,i){return i*(n-1)/2>t?.5*(1+r(e*(2*t/(i*(n-1))-1))):t>(n-1)*(1-i/2)?.5*(1+r(e*(2*t/(i*(n-1))-2/i+1))):1},cosine:function(t,n){return s(e*t/(n-1))},lanczos:function(e,t){return a(2*e/(t-1)-1)},triangular:function(e,t){return 2/(t+1)*((t+1)/2-n(e-(t-1)/2))},bartlett:function(e,t){return 2/(t-1)*((t-1)/2-n(e-(t-1)/2))},gaussian:function(e,t,n){return i(o,-.5*i((e-(t-1)/2)/(n*(t-1)/2),2))},bartlettHann:function(e,i){return.62-.48*n(e/(i-1)-.5)-.38*r(t*e/(i-1))},blackman:function(n,i,s){var a=(1-s)/2,o=.5,u=s/2;return a-o*r(t*n/(i-1))+u*r(4*e*n/(i-1))}}}();e.modules.FFT=t}(timbre),function(e){"use strict";function t(e){this.samplerate=e||44100,this.wave=null,this.step=1,this.frequency=0,this.value=0,this.phase=0,this.feedback=!1,this._x=0,this._lastouts=0,this._coeff=s/this.samplerate,this._radtoinc=s/(2*Math.PI)}function n(e,t,n,i){var r,s,a,o,u,l=c[t];if(void 0!==l){switch("function"==typeof l&&(l=l()),n){case"@1":for(s=512;1024>s;++s)l[s]=0;break;case"@2":for(s=512;1024>s;++s)l[s]=Math.abs(l[s]);break;case"@3":for(s=256;512>s;++s)l[s]=0;for(s=512;768>s;++s)l[s]=Math.abs(l[s]);for(s=768;1024>s;++s)l[s]=0;break;case"@4":for(r=new Float32Array(1024),s=0;512>s;++s)r[s]=l[s<<1];l=r;break;case"@5":for(r=new Float32Array(1024),s=0;512>s;++s)r[s]=Math.abs(l[s<<1]);l=r}if(void 0!==i&&50!==i){for(i*=.01,i=0>i?0:i>1?1:i,r=new Float32Array(1024),a=1024*i|0,s=0;a>s;++s)r[s]=l[s/a*512|0];for(u=1024-a,o=0;1024>s;++s,++o)r[s]=l[o/u*512+512|0];l=r}if("+"===e)for(s=0;1024>s;++s)l[s]=.5*l[s]+.5;else if("-"===e)for(s=0;1024>s;++s)l[s]*=-1;return l}}function i(e){var t=new Float32Array(1024),n=e.length>>1;if(-1!==[2,4,8,16,32,64,128,256,512,1024].indexOf(n))for(var i=0,r=0;n>i;++i){var s=parseInt(e.substr(2*i,2),16);s=128&s?(s-256)/128:s/127;for(var a=0,o=1024/n;o>a;++a)t[r++]=s}return t}function r(e){var t=new Float32Array(1024);if(8===e.length){var n,i,r=parseInt(e,16),s=new Float32Array(8);for(s[0]=1,n=0;7>n;++n)s[n+1]=.0625*(15&r),r>>=4;for(n=0;8>n;++n){var a=0,o=(n+1)/1024;for(i=0;1024>i;++i)t[i]+=Math.sin(2*Math.PI*a)*s[n],a+=o}var u,l=0;for(n=0;1024>n;++n)l<(u=Math.abs(t[n]))&&(l=u);if(l>0)for(n=0;1024>n;++n)t[n]/=l}return t}var s=1024,a=s-1,o=t.prototype;o.setWave=function(t){var n,i,r=this.wave;if(this.wave||(this.wave=new Float32Array(s+1)),"function"==typeof t)for(n=0;s>n;++n)r[n]=t(n/s);else if(e.fn.isSignalArray(t))if(t.length===r.length)r.set(t);else for(i=t.length/s,n=0;s>n;++n)r[n]=t[n*i|0];else"string"==typeof t&&void 0!==(i=u(t))&&this.wave.set(i);this.wave[s]=this.wave[0]},o.clone=function(){var e=new t(this.samplerate);return e.wave=this.wave,e.step=this.step,e.frequency=this.frequency,e.value=this.value,e.phase=this.phase,e.feedback=this.feedback,e},o.reset=function(){this._x=0},o.next=function(){var e=this._x,t=e+this.phase*this._radtoinc|0;return this.value=this.wave[t&a],e+=this.frequency*this._coeff*this.step,e>s&&(e-=s),this._x=e,this.value},o.process=function(e){var t,n,i,r,o,u,l=this.wave,c=this._radtoinc,f=this._x,h=this.frequency*this._coeff,p=this.step;if(this.feedback){var d=this._lastouts;for(c*=this.phase,u=0;p>u;++u)t=f+d*c,n=0|t,i=t-n,n&=a,r=l[n],o=l[n+1],e[u]=d=r+i*(o-r),f+=h;this._lastouts=d}else{var m=this.phase*c;for(u=0;p>u;++u)t=f+m,n=0|t,i=t-n,n&=a,r=l[n],o=l[n+1],e[u]=r+i*(o-r),f+=h}f>s&&(f-=s),this._x=f,this.value=e[e.length-1]},o.processWithFreqArray=function(e,t){var n,i,r,o,u,l,c=this.wave,f=this._radtoinc,h=this._x,p=this._coeff,d=this.step;if(this.feedback){var m=this._lastouts;
for(f*=this.phase,l=0;d>l;++l)n=h+m*f,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=m=o+r*(u-o),h+=t[l]*p;this._lastouts=m}else{var v=this.phase*this._radtoinc;for(l=0;d>l;++l)n=h+v,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=o+r*(u-o),h+=t[l]*p}h>s&&(h-=s),this._x=h,this.value=e[e.length-1]},o.processWithPhaseArray=function(e,t){var n,i,r,o,u,l,c=this.wave,f=this._radtoinc,h=this._x,p=this.frequency*this._coeff,d=this.step;if(this.feedback){var m=this._lastouts;for(f*=this.phase,l=0;d>l;++l)n=h+m*f,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=m=o+r*(u-o),h+=p;this._lastouts=m}else for(l=0;d>l;++l)n=h+t[l]*f,i=0|n,r=n-i,i&=a,o=c[i],u=c[i+1],e[l]=o+r*(u-o),h+=p;h>s&&(h-=s),this._x=h,this.value=e[e.length-1]},o.processWithFreqAndPhaseArray=function(e,t,n){var i,r,o,u,l,c,f=this.wave,h=this._radtoinc,p=this._x,d=this._coeff,m=this.step;if(this.feedback){var v=this._lastouts;for(h*=this.phase,c=0;m>c;++c)i=p+v*h,r=0|i,o=i-r,r&=a,u=f[r],l=f[r+1],e[c]=v=u+o*(l-u),p+=t[c]*d;this._lastouts=v}else for(c=0;m>c;++c)i=p+n[c]*s,r=0|i,o=i-r,r&=a,u=f[r],l=f[r+1],e[c]=u+o*(l-u),p+=t[c]*d;p>s&&(p-=s),this._x=p,this.value=e[e.length-1]};var u=function(e){var t=c[e];if(void 0!==t)return"function"==typeof t&&(t=t()),t;var s;if(s=/^([\-+]?)(\w+)(?:\((@[0-7])?:?(\d+)?\))?$/.exec(e),null!==s){var a=s[1],o=s[2],u=s[3],l=s[4];if(t=n(a,o,u,l),void 0!==t)return c[e]=t,t}return s=/^wavb\(((?:[0-9a-fA-F][0-9a-fA-F])+)\)$/.exec(e),null!==s?i(s[1]):(s=/^wavc\(([0-9a-fA-F]{8})\)$/.exec(e),null!==s?r(s[1]):void 0)};t.getWavetable=u;var l=function(t,n){var i,r,s=new Float32Array(1024);if("function"==typeof n)for(r=0;1024>r;++r)s[r]=n(r/1024);else if(e.fn.isSignalArray(n))if(n.length===s.length)s.set(n);else for(i=n.length/1024,r=0;1024>r;++r)s[r]=n[r*i|0];c[t]=s};t.setWavetable=l;var c={sin:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=Math.sin(2*Math.PI*(t/1024));return e},cos:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=Math.cos(2*Math.PI*(t/1024));return e},pulse:function(){for(var e=new Float32Array(1024),t=0;1024>t;++t)e[t]=512>t?1:-1;return e},tri:function(){for(var e,t=new Float32Array(1024),n=0;1024>n;++n)e=n/1024-.25,t[n]=1-4*Math.abs(Math.round(e)-e);return t},saw:function(){for(var e,t=new Float32Array(1024),n=0;1024>n;++n)e=n/1024,t[n]=2*(e-Math.round(e));return t},fami:function(){for(var e=[0,.125,.25,.375,.5,.625,.75,.875,.875,.75,.625,.5,.375,.25,.125,0,-.125,-.25,-.375,-.5,-.625,-.75,-.875,-1,-1,-.875,-.75,-.625,-.5,-.375,-.25,-.125],t=new Float32Array(1024),n=0;1024>n;++n)t[n]=e[n/1024*e.length|0];return t},konami:function(){for(var e=[-.625,-.875,-.125,.75,.5,.125,.5,.75,.25,-.125,.5,.875,.625,0,.25,.375,-.125,-.75,0,.625,.125,-.5,-.375,-.125,-.75,-1,-.625,0,-.375,-.875,-.625,-.25],t=new Float32Array(1024),n=0;1024>n;++n)t[n]=e[n/1024*e.length|0];return t}};e.modules.Oscillator=t}(timbre),function(e){"use strict";function t(t,a){this.samplerate=t;var o,u,l=t/44100;for(u=2*r.length,this.comb=new Array(u),this.combout=new Array(u),o=0;u>o;++o)this.comb[o]=new n(r[o%r.length]*l),this.combout[o]=new e.fn.SignalArray(a);for(u=2*s.length,this.allpass=new Array(u),o=0;u>o;++o)this.allpass[o]=new i(s[o%s.length]*l);this.outputs=[new e.fn.SignalArray(a),new e.fn.SignalArray(a)],this.damp=0,this.wet=.33,this.setRoomSize(.5),this.setDamp(.5)}function n(t){this.buffer=new e.fn.SignalArray(0|t),this.buffersize=this.buffer.length,this.bufidx=0,this.feedback=0,this.filterstore=0,this.damp=0}function i(t){this.buffer=new e.fn.SignalArray(0|t),this.buffersize=this.buffer.length,this.bufidx=0}var r=[1116,1188,1277,1356,1422,1491,1557,1617],s=[225,556,441,341],a=t.prototype;a.setRoomSize=function(e){var t=this.comb,n=.28*e+.7;this.roomsize=e,t[0].feedback=t[1].feedback=t[2].feedback=t[3].feedback=t[4].feedback=t[5].feedback=t[6].feedback=t[7].feedback=t[8].feedback=t[9].feedback=t[10].feedback=t[11].feedback=t[12].feedback=t[13].feedback=t[14].feedback=t[15].feedback=n},a.setDamp=function(e){var t=this.comb,n=.4*e;this.damp=e,t[0].damp=t[1].damp=t[2].damp=t[3].damp=t[4].damp=t[5].damp=t[6].damp=t[7].damp=t[8].damp=t[9].damp=t[10].damp=t[11].damp=t[12].damp=t[13].damp=t[14].damp=t[15].damp=n},a.process=function(e,t){var n,i=this.comb,r=this.combout,s=this.allpass,a=this.outputs[0],o=this.outputs[1],u=this.wet,l=1-u,c=e.length;for(i[0].process(e,r[0]),i[1].process(e,r[1]),i[2].process(e,r[2]),i[3].process(e,r[3]),i[4].process(e,r[4]),i[5].process(e,r[5]),i[6].process(e,r[6]),i[7].process(e,r[7]),i[8].process(t,r[8]),i[9].process(t,r[9]),i[10].process(t,r[10]),i[11].process(t,r[11]),i[12].process(t,r[12]),i[13].process(t,r[13]),i[14].process(t,r[14]),i[15].process(t,r[15]),n=0;c>n;++n)a[n]=r[0][n]+r[1][n]+r[2][n]+r[3][n]+r[4][n]+r[5][n]+r[6][n]+r[7][n],o[n]=r[8][n]+r[9][n]+r[10][n]+r[11][n]+r[12][n]+r[13][n]+r[14][n]+r[15][n];for(s[0].process(a,a),s[1].process(a,a),s[2].process(a,a),s[3].process(a,a),s[4].process(o,o),s[5].process(o,o),s[6].process(o,o),s[7].process(o,o),n=0;c>n;++n)e[n]=a[n]*u+e[n]*l,t[n]=o[n]*u+t[n]*l},n.prototype.process=function(e,t){var n,i,r,s=this.buffer,a=this.buffersize,o=this.bufidx,u=this.filterstore,l=this.feedback,c=this.damp,f=1-c,h=e.length;for(r=0;h>r;++r)n=.015*e[r],i=s[o],u=i*f+u*c,s[o]=n+u*l,++o>=a&&(o=0),t[r]=i;this.bufidx=o,this.filterstore=u},i.prototype.process=function(e,t){var n,i,r,s,a=this.buffer,o=this.buffersize,u=this.bufidx,l=e.length;for(s=0;l>s;++s)n=e[s],r=a[u],i=-n+r,a[u]=n+.5*r,++u>=o&&(u=0),t[s]=i;this.bufidx=u},e.modules.Reverb=t}(timbre),function(e){"use strict";function t(e){return new n(e)}function n(e){if(this.fragments=[],e){var t=e.samplerate||44100,n=e.buffer[0].length/t;this.fragments.push(new i(e,0,n))}}function i(e,t,n,i,r,s,o){e||(e=a),this.buffer=e.buffer[0],this.samplerate=e.samplerate||44100,this.start=t,this._duration=n,this.reverse=i||!1,this.pitch=r||100,this.stretch=s||!1,this.pan=o||50}function r(e,t){this.tape=e,this.fragments=e.fragments,this.samplerate=t||44100,this.isEnded=!1,this.buffer=null,this.bufferIndex=0,this.bufferIndexIncr=0,this.bufferBeginIndex=0,this.bufferEndIndex=0,this.fragment=null,this.fragmentIndex=0,this.panL=.5,this.panR=.5}var s=new Float32Array(60),a={buffer:s,samplerate:1};t.silence=function(e){return new t(a).slice(0,1).fill(e)},t.join=function(e){for(var t=new n,i=0;i<e.length;i++)e[i]instanceof n&&t.add_fragments(e[i].fragments);return t},t.Tape=n,n.prototype.add_fragment=function(e){return this.fragments.push(e),this},n.prototype.add_fragments=function(e){for(var t=0;t<e.length;t++)this.fragments.push(e[t]);return this},n.prototype.duration=function(){for(var e=0,t=0;t<this.fragments.length;t++)e+=this.fragments[t].duration();return e},n.prototype.slice=function(e,t){var i=this.duration();e+t>i&&(t=i-e);for(var r=new n,s=e,a=t,o=0;o<this.fragments.length;o++){var u=this.fragments[o],l=u.create(s,a),c=l[0];if(s=l[1],a=l[2],c&&r.add_fragment(c),0===a)break}return r},n.prototype.cut=n.prototype.slice,n.prototype.concat=function(e){var t=new n;return t.add_fragments(this.fragments),t.add_fragments(e.fragments),t},n.prototype.loop=function(e){var t,i=[];for(t=0;t<this.fragments.length;t++)i.push(this.fragments[t].clone());var r=new n;for(t=0;e>t;t++)r.add_fragments(i);return r},n.prototype.times=n.prototype.loop,n.prototype.split=function(e){for(var t=this.duration()/e,n=[],i=0;e>i;i++)n.push(this.slice(i*t,t));return n},n.prototype.fill=function(e){var t=this.duration();if(0===t)throw"EmptyFragment";var n=e/t|0,i=e%t;return this.loop(n).plus(this.slice(0,i))},n.prototype.replace=function(e,i,r){var s=new n,a=e+i;s=s.plus(this.slice(0,e));var o=s.duration();e>o&&(s=s.plus(t.silence(e-o))),s=s.plus(r);var u=this.duration();return u>a&&(s=s.plus(this.slice(a,u-a))),s},n.prototype.reverse=function(){for(var e=new n,t=this.fragments.length;t--;){var i=this.fragments[t].clone();i.reverse=!i.isReversed(),e.add_fragment(i)}return e},n.prototype.pitch=function(e,t){var i=new n;t=t||!1;for(var r=0;r<this.fragments.length;r++){var s=this.fragments[r].clone();s.pitch*=.01*e,s.stretch=t,i.add_fragment(s)}return i},n.prototype.stretch=function(e){var t=1/(.01*e)*100;return this.pitch(t,!0)},n.prototype.pan=function(e){var t=new n;e>100?e=100:0>e&&(e=0);for(var i=0;i<this.fragments.length;i++){var r=this.fragments[i].clone();r.pan=e,t.add_fragment(r)}return t},n.prototype.silence=function(){return t.silence(this.duration())},n.prototype.join=function(e){for(var t=new n,i=0;i<e.length;i++)e[i]instanceof n&&t.add_fragments(e[i].fragments);return t},n.prototype.getBuffer=function(){var e=44100;this.fragments.length>0&&(e=this.fragments[0].samplerate);var t=new r(this,e),n=this.duration()*e|0;return{samplerate:e,buffer:t.fetch(n)}},i.prototype.duration=function(){return this._duration*(100/this.pitch)},i.prototype.original_duration=function(){return this._duration},i.prototype.isReversed=function(){return this.reverse},i.prototype.isStretched=function(){return this.stretched},i.prototype.create=function(e,t){var n=this.duration();if(e>=n)return[null,e-n,t];var i,r=e+t>=n;r?(i=n-e,t-=i):(i=t,t=0);var s=this.clone();return s.start=this.start+e*this.pitch*.01,s._duration=i*this.pitch*.01,s.reverse=!1,[s,0,t]},i.prototype.clone=function(){var e=new i;return e.buffer=this.buffer,e.samplerate=this.samplerate,e.start=this.start,e._duration=this._duration,e.reverse=this.reverse,e.pitch=this.pitch,e.stretch=this.stretch,e.pan=this.pan,e},t.Fragment=i,t.TapeStream=r,r.prototype.reset=function(){return this.isEnded=!1,this.buffer=null,this.bufferIndex=0,this.bufferIndexIncr=0,this.bufferBeginIndex=0,this.bufferEndIndex=0,this.fragment=null,this.fragmentIndex=0,this.panL=.5,this.panR=.5,this.isLooped=!1,this},r.prototype.fetch=function(t){var n=new e.fn.SignalArray(t),i=new e.fn.SignalArray(t),r=this.fragments;if(0===r.length)return[n,i];for(var a,o=100*this.samplerate,u=this.buffer,l=this.bufferIndex,c=this.bufferIndexIncr,f=this.bufferBeginIndex,h=this.bufferEndIndex,p=this.fragment,d=this.fragmentIndex,m=this.panL,v=this.panR,g=0;t>g;g++){for(;!u||f>l||l>=h;)if(!p||d<r.length)p=r[d++],u=p.buffer,c=p.samplerate/o*p.pitch,f=p.start*p.samplerate,h=f+p.original_duration()*p.samplerate,a=.01*p.pan,m=1-a,v=a,p.reverse?(c*=-1,l=h+c):l=f;else{if(!this.isLooped){this.isEnded=!0,u=s,c=0,l=0;break}u=null,l=0,c=0,f=0,h=0,p=null,d=0}n[g]=u[0|l]*m,i[g]=u[0|l]*v,l+=c}return this.buffer=u,this.bufferIndex=l,this.bufferIndexIncr=c,this.bufferBeginIndex=f,this.bufferEndIndex=h,this.fragment=p,this.fragmentIndex=d,this.panL=m,this.panR=v,[n,i]},e.modules.Scissor=t}(timbre),function(e){"use strict";function t(t){this.samplerate=t;var n=Math.ceil(Math.log(1.5*t)*Math.LOG2E);this.buffersize=1<<n,this.buffermask=this.buffersize-1,this.writeBufferL=new e.fn.SignalArray(this.buffersize),this.writeBufferR=new e.fn.SignalArray(this.buffersize),this.readBufferL=this.writeBufferL,this.readBufferR=this.writeBufferR,this.delaytime=null,this.feedback=null,this.cross=null,this.mix=null,this.prevL=0,this.prevR=0,this.readIndex=0,this.writeIndex=0,this.setParams(125,.25,!1,.45)}var n=t.prototype;n.setParams=function(e,t,n,i){if(this.delaytime!==e){this.delaytime=e;var r=.001*e*this.samplerate|0;r>this.buffermask&&(r=this.buffermask),this.writeIndex=this.readIndex+r&this.buffermask}this.feedback!==t&&(this.feedback=t),this.cross!==n&&(this.cross=n,n?(this.readBufferL=this.writeBufferR,this.readBufferR=this.writeBufferL):(this.readBufferL=this.writeBufferL,this.readBufferR=this.writeBufferR)),this.mix!==i&&(this.mix=i)},n.process=function(e,t){var n,i,r=this.readBufferL,s=this.readBufferR,a=this.writeBufferL,o=this.writeBufferR,u=this.readIndex,l=this.writeIndex,c=this.buffermask,f=this.feedback,h=this.mix,p=1-h,d=this.prevL,m=this.prevR,v=e.length;for(i=0;v>i;++i)n=r[u],a[l]=e[i]-n*f,e[i]=d=.5*(e[i]*p+n*h+d),n=s[u],o[l]=t[i]-n*f,t[i]=m=.5*(t[i]*p+n*h+m),u+=1,l=l+1&c;this.readIndex=u&this.buffermask,this.writeIndex=l,this.prevL=d,this.prevR=m},e.modules.StereoDelay=t}(timbre),function(e){"use strict";var t=e.fn,n=e.modules;t.register("audio",function(e){var n=t.getClass("buffer"),s=new n(e);return s.playbackState=t.FINISHED_STATE,s._.isLoaded=!1,Object.defineProperties(s,{isLoaded:{get:function(){return this._.isLoaded}}}),s.load=i,s.loadthis=r,s});var i=function(i){var r=this,s=this._,a=new n.Deferred(this),o=arguments,u=1;a.done(function(){r._.emit("done")}),"function"==typeof o[u]&&(a.done(o[u++]),"function"==typeof o[u]&&a.fail(o[u++])),s.loadedTime=0;var l=function(n,i){var s=r._;n?(r.playbackState=t.PLAYING_STATE,s.samplerate=n.samplerate,s.channels=n.channels,s.bufferMix=null,s.buffer=n.buffer,s.phase=0,s.phaseIncr=n.samplerate/e.samplerate,s.duration=1e3*n.duration,s.currentTime=0,s.isReversed&&(s.phaseIncr*=-1,s.phase=n.buffer[0].length+s.phaseIncr),r._.emit("loadedmetadata")):a.reject(i)},c=function(){r._.isLoaded=!0,r._.plotFlush=!0,r._.emit("loadeddata"),a.resolveWith(r)};return(new n.Decoder).decode(i,l,c),a.promise()},r=function(){return i.apply(this,arguments),this}}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.biquad=new r(i.samplerate),i.freq=e(340),i.band=e(1),i.gain=e(0),i.plotBefore=a,i.plotRange=[-18,18],i.plotFlush=!0}var n=e.fn,i=e.modules.FFT,r=e.modules.Biquad,s=20;n.extend(t);var a=function(e,t,n,i,r){e.lineWidth=1,e.strokeStyle="rgb(192, 192, 192)";for(var a=.5*this._.samplerate,o=1;10>=o;++o)for(var u=1;4>=u;u++){var l=o*Math.pow(10,u);if(!(s>=l||l>=a)){e.beginPath();var c=Math.log(l/s)/Math.log(a/s);c=(c*i+t|0)+.5,e.moveTo(c,n),e.lineTo(c,n+r),e.stroke()}}var f=r/6;for(o=1;6>o;o++){e.beginPath();var h=(n+o*f|0)+.5;e.moveTo(t,h),e.lineTo(t+i,h),e.stroke()}},o=t.prototype;Object.defineProperties(o,{type:{set:function(e){var t=this._;e!==t.biquad.type&&(t.biquad.setType(e),t.plotFlush=!0)},get:function(){return this._.biquad.type}},freq:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}},cutoff:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}},res:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},Q:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},band:{set:function(t){this._.band=e(t)},get:function(){return this._.band}},gain:{set:function(t){this._.gain=e(t)},get:function(){return this._.gain}}}),o.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=t.freq.process(e).cells[0][0],r=t.band.process(e).cells[0][0],s=t.gain.process(e).cells[0][0];(t.prevFreq!==i||t.prevband!==r||t.prevGain!==s)&&(t.prevFreq=i,t.prevband=r,t.prevGain=s,t.biquad.setParams(i,r,s),t.plotFlush=!0),t.bypassed||t.biquad.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)}return this};var u=new i(2048),l=e.Object.prototype.plot;o.plot=function(e){if(this._.plotFlush){var t=new r(this._.samplerate);t.setType(this.type),t.setParams(this.freq.valueOf(),this.band.valueOf(),this.gain.valueOf());var n=new Float32Array(u.length);n[0]=1,t.process(n,n),u.forward(n);var i,a,o,c,f,h,p,d,m=512,v=new Float32Array(m),g=.5*this._.samplerate,y=new Float32Array(m);for(u.getFrequencyData(y),i=0;m>i;++i)o=Math.pow(g/s,i/m)*s,a=o/(g/y.length),c=0|a,f=a-c,0===c?p=h=d=y[c]:(h=y[c-1],p=y[c],d=(1-f)*h+f*p),v[i]=d;this._.plotData=v,this._.plotFlush=null}return l.call(this,e)},n.register("biquad",t),n.register("lowpass",function(e){return new t(e).set("type","lowpass")}),n.register("highpass",function(e){return new t(e).set("type","highpass")}),n.register("bandpass",function(e){return new t(e).set("type","bandpass")}),n.register("lowshelf",function(e){return new t(e).set("type","lowshelf")}),n.register("highshelf",function(e){return new t(e).set("type","highshelf")}),n.register("peaking",function(e){return new t(e).set("type","peaking")}),n.register("notch",function(e){return new t(e).set("type","notch")}),n.register("allpass",function(e){return new t(e).set("type","allpass")}),n.alias("lpf","lowpass"),n.alias("hpf","highpass"),n.alias("bpf","bandpass"),n.alias("bef","notch"),n.alias("brf","notch"),n.alias("apf","allpass")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._;i.pitch=e(1),i.samplerate=44100,i.channels=0,i.bufferMix=null,i.buffer=[],i.isLooped=!1,i.isReversed=!1,i.duration=0,i.currentTime=0,i.currentTimeObj=null,i.phase=0,i.phaseIncr=0,i.onended=n.make_onended(this,0),i.onlooped=s(this)}var n=e.fn,i=e.modules.Scissor.Tape,r=function(e){return n.isSignalArray(e)||e instanceof Float32Array};n.extend(t);var s=function(e){return function(){var t=e._;t.phase>=t.buffer[0].length?t.phase=0:t.phase<0&&(t.phase=t.buffer[0].length+t.phaseIncr),e._.emit("looped")}},a=t.prototype,o=function(t){var n=this._;if("object"==typeof t){var s,a,o=[];r(t)?(o[0]=t,a=1):"object"==typeof t&&(t instanceof e.Object?t=t.buffer:t instanceof i&&(t=t.getBuffer()),Array.isArray(t.buffer)?r(t.buffer[0])&&(r(t.buffer[1])&&r(t.buffer[2])?(a=2,o=t.buffer):(a=1,o=[t.buffer[0]])):r(t.buffer)&&(a=1,o=[t.buffer]),"number"==typeof t.samplerate&&(s=t.samplerate)),o.length&&(s>0&&(n.samplerate=t.samplerate),n.bufferMix=null,n.buffer=o,n.phase=0,n.phaseIncr=n.samplerate/e.samplerate,n.duration=1e3*n.buffer[0].length/n.samplerate,n.currentTime=0,n.plotFlush=!0,this.reverse(n.isReversed))}};Object.defineProperties(a,{buffer:{set:o,get:function(){var e=this._;return{samplerate:e.samplerate,channels:e.channels,buffer:e.buffer}}},pitch:{set:function(t){this._.pitch=e(t)},get:function(){return this._.pitch}},isLooped:{get:function(){return this._.isLooped}},isReversed:{get:function(){return this._.isReversed}},samplerate:{get:function(){return this._.samplerate}},duration:{get:function(){return this._.duration}},currentTime:{set:function(t){if("number"==typeof t){var n=this._;t>=0&&t<=n.duration&&(n.phase=t/1e3*n.samplerate,n.currentTime=t)}else t instanceof e.Object?this._.currentTimeObj=t:null===t&&(this._.currentTimeObj=null)},get:function(){return this._.currentTimeObj?this._.currentTimeObj:this._.currentTime}}}),a.clone=function(){var e=this._,t=n.clone(this);return e.buffer.length&&o.call(t,{buffer:e.buffer,samplerate:e.samplerate,channels:e.channels}),t.loop(e.isLooped),t.reverse(e.isReversed),t},a.slice=function(t,i){var r=this._,s=e(r.originkey),a=r.isReversed;if(r.buffer.length){if(t="number"==typeof t?.001*t*r.samplerate|0:0,i="number"==typeof i?.001*i*r.samplerate|0:r.buffer[0].length,t>i){var u=t;t=i,i=u,a=!a}2===r.channels?o.call(s,{buffer:[n.pointer(r.buffer[0],t,i-t),n.pointer(r.buffer[1],t,i-t),n.pointer(r.buffer[2],t,i-t)],samplerate:r.samplerate}):o.call(s,{buffer:n.pointer(r.buffer[0],t,i-t),samplerate:r.samplerate}),s.playbackState=n.PLAYING_STATE}return s.loop(r.isLooped),s.reverse(r.isReversed),s},a.reverse=function(e){var t=this._;return t.isReversed=!!e,t.isReversed?(t.phaseIncr>0&&(t.phaseIncr*=-1),0===t.phase&&t.buffer.length&&(t.phase=t.buffer[0].length+t.phaseIncr)):t.phaseIncr<0&&(t.phaseIncr*=-1),this},a.loop=function(e){return this._.isLooped=!!e,this},a.bang=function(e){return this.playbackState=e===!1?n.FINISHED_STATE:n.PLAYING_STATE,this._.phase=0,this._.emit("bang"),this},a.process=function(e){var t=this._;if(!t.buffer.length)return this;if(this.tickID!==e){this.tickID=e;var i,r,s,a=this.cells[1],o=this.cells[2],u=t.phase,l=t.cellsize;if(2===t.channels?(r=t.buffer[1],s=t.buffer[2]):r=s=t.buffer[0],t.currentTimeObj){var c,f=t.currentTimeObj.process(e).cells[0],h=.001*t.samplerate;for(i=0;l>i;++i)c=f[i],u=c*h,a[i]=r[0|u]||0,o[i]=s[0|u]||0;t.phase=u,t.currentTime=c}else{var p=t.pitch.process(e).cells[0][0],d=t.phaseIncr*p;for(i=0;l>i;++i)a[i]=r[0|u]||0,o[i]=s[0|u]||0,u+=d;u>=r.length?n.nextTick(t.isLooped?t.onlooped:t.onended):0>u&&n.nextTick(t.isLooped?t.onlooped:t.onended),t.phase=u,t.currentTime+=n.currentTimeIncr}n.outputSignalAR(this)}return this};var u=e.Object.prototype.plot;a.plot=function(e){var t,n,i=this._;if(i.plotFlush){2===i.channels?(t=i.buffer[1],n=i.buffer[2]):t=n=i.buffer[0];for(var r=new Float32Array(2048),s=0,a=t.length/2048,o=0;2048>o;o++)r[o]=.5*(t[0|s]+n[0|s]),s+=a;i.plotData=r,i.plotFlush=null}return u.call(this,e)},n.register("buffer",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var r=new i(this._.samplerate);r.setDelayTime(20),r.setRate(4),r.depth=20,r.feedback=.2,r.mix=.33,this._.chorus=r}var n=e.fn,i=e.modules.Chorus;n.extend(t);var r=t.prototype;Object.defineProperties(r,{type:{set:function(e){this._.chorus.setDelayTime(e)},get:function(){return this._.chorus.wave}},delay:{set:function(e){e>=.5&&80>=e&&this._.chorus.setDelayTime(e)},get:function(){return this._.chorus.delayTime}},rate:{set:function(e){"number"==typeof e&&e>0&&this._.chorus.setRate(e)},get:function(){return this._.chorus.rate}},depth:{set:function(e){"number"==typeof e&&e>=0&&100>=e&&(e*=this._.samplerate/44100,this._.chorus.depth=e)},get:function(){return this._.chorus.depth}},fb:{set:function(e){"number"==typeof e&&e>=-1&&1>=e&&(this._.chorus.feedback=.99996*e)},get:function(){return this._.chorus.feedback}},mix:{set:function(t){this._.mix=e(t)},get:function(){return this._.mix}}}),r.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,n.inputSignalAR(this),t.bypassed||t.chorus.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)),this},n.register("chorus",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.min=-.8,n.max=.8}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{minmax:{set:function(e){var t=this._;"number"==typeof e&&(t.min=-Math.abs(e),t.max=-t.min)},get:function(){return this._.max}},min:{set:function(e){var t=this._;"number"==typeof e&&(t.max<e?t.max=e:t.min=e)},get:function(){return this._.min}},max:{set:function(e){var t=this._;"number"==typeof e&&(e<t.min?t.min=e:t.max=e)},get:function(){return this._.max}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s=this.cells[1],a=this.cells[2],o=s.length,u=t.min,l=t.max;if(t.ar){for(n.inputSignalAR(this),i=0;o>i;++i)r=s[i],u>r?r=u:r>l&&(r=l),s[i]=r,r=a[i],u>r?r=u:r>l&&(r=l),a[i]=r;n.outputSignalAR(this)}else r=n.inputSignalKR(this),u>r?r=u:r>l&&(r=l),this.cells[0][0]=r,n.outputSignalKR(this)}return this},n.register("clip",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.prevThresh=-24,i.prevKnee=30,i.prevRatio=12,i.thresh=e(i.prevThresh),i.knee=e(i.prevKnee),i.ratio=e(i.prevRatio),i.postGain=6,i.reduction=0,i.attack=3,i.release=25,i.comp=new r(i.samplerate),i.comp.dbPostGain=i.postGain,i.comp.setAttackTime(.001*i.attack),i.comp.setReleaseTime(.001*i.release),i.comp.setPreDelayTime(6),i.comp.setParams(i.prevThresh,i.prevKnee,i.prevRatio)}var n=e.fn,i=e.timevalue,r=e.modules.Compressor;n.extend(t);var s=t.prototype;Object.defineProperties(s,{thresh:{set:function(t){this._.thresh=e(t)},get:function(){return this._.thresh}},thre:{set:function(t){this._.thresh=e(t)},get:function(){return this._.thre}},knee:{set:function(t){this._.kne=e(t)},get:function(){return this._.knee}},ratio:{set:function(t){this._.ratio=e(t)},get:function(){return this._.ratio}},gain:{set:function(e){"number"==typeof e&&(this._.comp.dbPostGain=e)},get:function(){return this._.comp.dbPostGain}},attack:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&(e=0>e?0:e>1e3?1e3:e,this._.attack=e,this._.comp.setAttackTime(.001*e))},get:function(){return this._.attack}},release:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&(e=0>e?0:e>1e3?1e3:e,this._.release=e,this._.comp.setReleaseTime(.001*e))},get:function(){return this._.release}},reduction:{get:function(){return this._.reduction}}}),s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=t.thresh.process(e).cells[0][0],r=t.knee.process(e).cells[0][0],s=t.ratio.process(e).cells[0][0];(t.prevThresh!==i||t.prevKnee!==r||t.prevRatio!==s)&&(t.prevThresh=i,t.prevKnee=r,t.prevRatio=s,t.comp.setParams(i,r,s)),t.bypassed||(t.comp.process(this.cells[1],this.cells[2]),t.reduction=t.comp.meteringGain),n.outputSignalAR(this)}return this},n.register("comp",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.time=e(100),i.fb=e(.2),i.cross=e(!1),i.mix=.33,i.delay=new r(i.samplerate)}var n=e.fn,i=e.timevalue,r=e.modules.StereoDelay;n.extend(t);var s=t.prototype;Object.defineProperties(s,{time:{set:function(t){"string"==typeof t&&(t=i(t)),this._.time=e(t)},get:function(){return this._.time}},fb:{set:function(t){this._.fb=e(t)},get:function(){return this._.fb}},cross:{set:function(t){this._.cross=e(t)},get:function(){return this._.cross}},mix:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.mix=e)},get:function(){return this._.mix}}}),s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.time.process(e).cells[0][0],r=t.fb.process(e).cells[0][0],s=0!==t.cross.process(e).cells[0][0],a=t.mix;(t.prevTime!==i||t.prevFb!==r||t.prevCross!==s||t.prevMix!==a)&&(t.prevTime=i,t.prevFb=r,t.prevCross=s,t.prevMix=a,t.delay.setParams(i,r,s,a)),n.inputSignalAR(this),t.bypassed||t.delay.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)}return this},n.register("delay",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.pre=e(60),i.post=e(-18),i.x1L=i.x2L=i.y1L=i.y2L=0,i.x1R=i.x2R=i.y1R=i.y2R=0,i.b0=i.b1=i.b2=i.a1=i.a2=0,i.cutoff=0,i.Q=1,i.preScale=0,i.postScale=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{cutoff:{set:function(e){"number"==typeof e&&e>0&&(this._.cutoff=e)},get:function(){return this._.cutoff}},pre:{set:function(t){this._.pre=e(t)},get:function(){return this._.pre}},post:{set:function(t){this._.post=e(t)},get:function(){return this._.post}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i=-t.pre.process(e).cells[0][0],s=-t.post.process(e).cells[0][0];if((t.prevPreGain!==i||t.prevPostGain!==s)&&(t.prevPreGain=i,t.prevPostGain=s,t.preScale=Math.pow(10,.05*-i),t.postScale=Math.pow(10,.05*-s)),!t.bypassed){var a,o,u,l,c,f=this.cells[1],h=this.cells[2],p=t.preScale,d=t.postScale;if(t.cutoff){t.prevCutoff!==t.cutoff&&(t.prevCutoff=t.cutoff,r(t));var m=t.x1L,v=t.x2L,g=t.y1L,y=t.y2L,b=t.x1R,_=t.x2R,x=t.y1R,w=t.y2R,k=t.b0,T=t.b1,S=t.b2,A=t.a1,I=t.a2;for(a=0,o=f.length;o>a;++a)l=f[a]*p,c=k*l+T*m+S*v-A*g-I*y,u=c*d,-1>u?u=-1:u>1&&(u=1),f[a]=u,v=m,m=l,y=g,g=c,l=h[a]*p,c=k*l+T*b+S*_-A*x-I*w,u=c*d,-1>u?u=-1:u>1&&(u=1),h[a]=u,_=b,b=l,w=x,x=c;t.x1L=m,t.x2L=v,t.y1L=g,t.y2L=y,t.x1R=b,t.x2R=_,t.y1R=x,t.y2R=w}else for(a=0,o=f.length;o>a;++a)u=f[a]*p*d,-1>u?u=-1:u>1&&(u=1),f[a]=u,u=h[a]*p*d,-1>u?u=-1:u>1&&(u=1),h[a]=u}n.outputSignalAR(this)}return this};var r=function(e){var t=2*Math.PI*e.cutoff/e.samplerate,n=Math.cos(t),i=Math.sin(t),r=i/(2*e.Q),s=1/(1+r);e.b0=.5*(1-n)*s,e.b1=1-n*s,e.b2=.5*(1-n)*s,e.a1=-2*n*s,e.a2=1-r*s};n.register("dist",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u,l=this.nodes,c=this.cells[0],f=this.cells[1],h=this.cells[2],p=l.length,d=c.length;if(t.ar){if(l.length>0)for(l[0].process(e),a=l[0].cells[1],o=l[0].cells[2],f.set(a),h.set(o),i=1;p>i;++i)for(l[i].process(e),a=l[i].cells[1],o=l[i].cells[2],r=0;d>r;++r)u=a[r],f[r]=0===u?0:f[r]/u,u=o[r],h[r]=0===u?0:h[r]/u;else for(r=0;d>r;++r)f[r]=h[i]=0;n.outputSignalAR(this)}else{if(l.length>0)for(s=l[0].process(e).cells[0][0],i=1;p>i;++i)u=l[i].process(e).cells[0][0],s=0===u?0:s/u;else s=0;c[0]=s,n.outputSignalKR(this)}}return this},n.register("/",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.env=new s(n.samplerate),n.env.setStep(n.cellsize),n.tmp=new i.SignalArray(n.cellsize),n.ar=!1,n.plotFlush=!0,n.onended=u(this),this.on("ar",o)}function n(e,t,n,i,r,s){var a=n;return"number"==typeof e[i]?a=e[i]:"number"==typeof e[r]?a=e[r]:s&&("string"==typeof e[i]?a=s(e[i]):"string"==typeof e[r]&&(a=s(e[r]))),t>a&&(a=t),a}var i=e.fn,r=e.timevalue,s=e.modules.Envelope,a=i.isDictionary;i.extend(t);var o=function(e){this._.env.setStep(e?1:this._.cellsize)},u=function(e){return function(){e._.emit("ended")}},l=t.prototype;Object.defineProperties(l,{table:{set:function(e){Array.isArray(e)&&(c.call(this,e),this._.plotFlush=!0)},get:function(){return this._.env.table}},curve:{set:function(e){this._.env.setCurve(e)},get:function(){return this._.env.curve}},releaseNode:{set:function(e){this._.env.setReleaseNode(e),this._.plotFlush=!0},get:function(){return this._.env.releaseNode+1}},loopNode:{set:function(e){this._.env.setLoopNode(e),this._.plotFlush=!0},get:function(){return this._.env.loopNode+1}}}),l.clone=function(){var e=i.clone(this);return e._.env=this._.env.clone(),e},l.reset=function(){return this._.env.reset(),this},l.release=function(){var e=this._;return e.env.release(),e.emit("released"),this},l.bang=function(){var e=this._;return e.env.reset(),e.env.status=s.StatusGate,e.emit("bang"),this},l.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var n,r=this.cells[1],s=this.cells[2],a=t.cellsize;if(this.nodes.length)i.inputSignalAR(this);else for(n=0;a>n;++n)r[n]=s[n]=1;var o,u=null;if(t.ar){var l=t.tmp;for(t.env.process(l),n=0;a>n;++n)r[n]*=l[n],s[n]*=l[n];u=t.env.emit}else{for(o=t.env.next(),n=0;a>n;++n)r[n]*=o,s[n]*=o;u=t.env.emit}i.outputSignalAR(this),u&&("ended"===u?i.nextTick(t.onended):this._.emit(u,t.value))}return this};var c=function(e){for(var t,n,i,a,o=this._.env,u=[e[0]||h],l=1,c=e.length;c>l;++l)t=e[l][0]||h,n=e[l][1],i=e[l][2],"number"!=typeof n&&(n="string"==typeof n?r(n):10),10>n&&(n=10),"number"==typeof i?(a=i,i=s.CurveTypeCurve):(i=s.CurveTypeDict[i]||null,a=0),u.push([t,n,i,a]);o.setTable(u)},f=e.Object.prototype.plot;l.plot=function(e){if(this._.plotFlush){var t,n,i=this._.env.clone(),r=i.getInfo(1e3),a=r.totalDuration,o=r.loopBeginTime,u=r.releaseBeginTime,l=new Float32Array(256),c=0,h=a/l.length,p=!1,d=.001*a*this._.samplerate|0;for(d/=l.length,i.setStep(d),i.status=s.StatusGate,t=0,n=l.length;n>t;++t)l[t]=i.next(),c+=h,!p&&c>=u&&(i.release(),p=!0);this._.plotData=l,this._.plotBefore=function(e,t,n,i,r){var s,l;1/0!==o&&1/0!==u&&(s=t+i*(o/a),l=t+i*(u/a),l-=s,e.fillStyle="rgba(224, 224, 224, 0.8)",e.fillRect(s,0,l,r)),1/0!==u&&(s=t+i*(u/a),l=i-s,e.fillStyle="rgba(212, 212, 212, 0.8)",e.fillRect(s,0,l,r))};var m=1/0,v=-1/0;for(t=0;n>t;++t)l[t]<m?m=l[t]:l[t]>v&&(v=l[t]);1>v&&(v=1),this._.plotRange=[m,v],this._.plotData=l,this._.plotFlush=null}return f.call(this,e)},i.register("env",t);var h=s.ZERO;i.register("perc",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,1e3,"r","releaseTime",r),u=n(i,h,1,"lv","level");return i.table=[h,[u,s],[h,o]],new t(e)}),i.register("adsr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,300,"d","decayTime",r),u=n(i,h,.5,"s","sustainLevel"),l=n(i,10,1e3,"r","decayTime",r),c=n(i,h,1,"lv","level");return i.table=[h,[c,s],[u,o],[h,l]],i.releaseNode=3,new t(e)}),i.register("adshr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,300,"d","decayTime",r),u=n(i,h,.5,"s","sustainLevel"),l=n(i,10,500,"h","holdTime",r),c=n(i,10,1e3,"r","decayTime",r),f=n(i,h,1,"lv","level");return i.table=[h,[f,s],[u,o],[u,l],[h,c]],new t(e)}),i.register("asr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,h,.5,"s","sustainLevel"),u=n(i,10,1e3,"r","releaseTime",r);return i.table=[h,[o,s],[h,u]],i.releaseNode=2,new t(e)}),i.register("dadsr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,100,"dl","delayTime",r),o=n(i,10,10,"a","attackTime",r),u=n(i,10,300,"d","decayTime",r),l=n(i,h,.5,"s","sustainLevel"),c=n(i,10,1e3,"r","relaseTime",r),f=n(i,h,1,"lv","level");return i.table=[h,[h,s],[f,o],[l,u],[h,c]],i.releaseNode=4,new t(e)}),i.register("ahdsfr",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,10,"h","holdTime",r),u=n(i,10,300,"d","decayTime",r),l=n(i,h,.5,"s","sustainLevel"),c=n(i,10,5e3,"f","fadeTime",r),f=n(i,10,1e3,"r","relaseTime",r),p=n(i,h,1,"lv","level");return i.table=[h,[p,s],[p,o],[l,u],[h,c],[h,f]],i.releaseNode=5,new t(e)}),i.register("linen",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,10,10,"a","attackTime",r),o=n(i,10,1e3,"s","sustainTime",r),u=n(i,10,1e3,"r","releaseTime",r),l=n(i,h,1,"lv","level");return i.table=[h,[l,s],[l,o],[h,u]],new t(e)}),i.register("env.tri",function(e){a(e[0])||e.unshift({});var i=e[0],s=n(i,20,1e3,"dur","duration",r),o=n(i,h,1,"lv","level");return s*=.5,i.table=[h,[o,s],[h,s]],new t(e)}),i.register("env.cutoff",function(e){a(e[0])||e.unshift({});
var i=e[0],s=n(i,10,100,"r","relaseTime",r),o=n(i,h,1,"lv","level");return i.table=[o,[h,s]],new t(e)})}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.biquads=new Array(7),i.plotBefore=o,i.plotRange=[-18,18],i.plotFlush=!0}var n=e.fn,i=e.modules.FFT,r=e.modules.Biquad,s=20,a={hpf:0,lf:1,lmf:2,mf:3,hmf:4,hf:5,lpf:6};n.extend(t);var o=function(e,t,n,i,r){e.lineWidth=1,e.strokeStyle="rgb(192, 192, 192)";for(var a=.5*this._.samplerate,o=1;10>=o;++o)for(var u=1;4>=u;u++){var l=o*Math.pow(10,u);if(!(s>=l||l>=a)){e.beginPath();var c=Math.log(l/s)/Math.log(a/s);c=(c*i+t|0)+.5,e.moveTo(c,n),e.lineTo(c,n+r),e.stroke()}}var f=r/6;for(o=1;6>o;o++){e.beginPath();var h=(n+o*f|0)+.5;e.moveTo(t,h),e.lineTo(t+i,h),e.stroke()}},u=t.prototype;Object.defineProperties(u,{params:{set:function(e){if("object"==typeof e)for(var t=Object.keys(e),n=0,i=t.length;i>n;++n){var r=e[t[n]];Array.isArray(r)?this.setParams(t[n],r[0],r[1],r[2]):this.setParams(t[n])}}}}),u.setParams=function(e,t,n,i){var s=this._;if("string"==typeof e&&(e=a[e]),e>=0&&e<s.biquads.length){if(e|=0,"number"==typeof t&&"number"==typeof n){"number"!=typeof i&&(i=0);var o=s.biquads[e];if(!o)switch(o=s.biquads[e]=new r(s.samplerate),e){case 0:o.setType("highpass");break;case s.biquads.length-1:o.setType("lowpass");break;default:o.setType("peaking")}o.setParams(t,n,i)}else s.biquads[e]=void 0;s.plotFlush=!0}return this},u.getParams=function(e){var t=this._,n=t.biquads[0|e];return n?{freq:n.frequency,Q:n.Q,gain:n.gain}:void 0},u.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),!t.bypassed)for(var i=this.cells[1],r=this.cells[2],s=t.biquads,a=0,o=s.length;o>a;++a)s[a]&&s[a].process(i,r);n.outputSignalAR(this)}return this};var l=new i(2048),c=e.Object.prototype.plot;u.plot=function(e){if(this._.plotFlush){var t=this._,n=new Float32Array(l.length);n[0]=1;for(var i=0,a=t.biquads.length;a>i;++i){var o=this.getParams(i);if(o){var u=new r(t.samplerate);u.setType(0===i?"highpass":i===a-1?"lowpass":"peaking"),u.setParams(o.freq,o.Q,o.gain),u.process(n,n)}}l.forward(n);var f,h,p,d,m,v,g,y=512,b=new Float32Array(y),_=.5*t.samplerate,x=new Float32Array(y);for(l.getFrequencyData(x),i=0;y>i;++i)h=Math.pow(_/s,i/y)*s,f=h/(_/x.length),p=0|f,d=f-p,0===p?v=m=g=x[p]:(m=x[p-1],v=x[p],g=(1-d)*m+d*v),b[i]=g;this._.plotData=b,this._.plotFlush=null}return c.call(this,e)},n.register("eq",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this),this.real=new e.ChannelObject(this),this.imag=new e.ChannelObject(this),this.cells[3]=this.real.cell,this.cells[4]=this.imag.cell;var r=this._;r.fft=new i(2*r.cellsize),r.fftCell=new n.SignalArray(r.fft.length),r.prevCell=new n.SignalArray(r.cellsize),r.freqs=new n.SignalArray(r.fft.length>>1),r.plotFlush=!0,r.plotRange=[0,32],r.plotBarStyle=!0}var n=e.fn,i=e.modules.FFT;n.extend(t);var r=t.prototype;Object.defineProperties(r,{window:{set:function(e){this._.fft.setWindow(e)},get:function(){return this._.fft.windowName}},spectrum:{get:function(){return this._.fft.getFrequencyData(this._.freqs)}}}),r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i=this.cells[0],r=t.cellsize;t.fftCell.set(t.prevCell),t.fftCell.set(i,r),t.fft.forward(t.fftCell),t.prevCell.set(i),t.plotFlush=!0,this.cells[3].set(t.fft.real.subarray(0,r)),this.cells[4].set(t.fft.imag.subarray(0,r))}return this};var s=e.Object.prototype.plot;r.plot=function(e){return this._.plotFlush&&(this._.plotData=this.spectrum,this._.plotFlush=null),s.call(this,e)},n.register("fft",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._;i.freq=e(440),i.reg=32768,i.shortFlag=!1,i.phase=0,i.lastValue=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{shortFlag:{set:function(e){this._.shortFlag=!!e},get:function(){return this._.shortFlag}},freq:{set:function(t){this._.freq=e(t)},get:function(){return this._.freq}}}),i.process=function(e){var t=this._,n=this.cells[0];if(this.tickID!==e){this.tickID=e;var i,r,s=t.lastValue,a=t.phase,o=t.freq.process(e).cells[0][0]/t.samplerate,u=t.reg,l=t.mul,c=t.add;if(t.shortFlag)for(i=0,r=n.length;r>i;++i)a>=1&&(u>>=1,u|=(1&(u^u>>6))<<15,s=(1&u)-.5,a-=1),n[i]=s*l+c,a+=o;else for(i=0,r=n.length;r>i;++i)a>=1&&(u>>=1,u|=(1&(u^u>>1))<<15,s=(1&u)-.5,a-=1),n[i]=s*l+c,a+=o;t.reg=u,t.phase=a,t.lastValue=s}return this},n.register("fnoise",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this),this._.selected=0,this._.outputs=[]}var n=e.fn,i=function(){function t(t){e.Object.call(this,2,[]),n.fixAR(this),this._.parent=t}return n.extend(t),t.prototype.process=function(e){return this.tickID!==e&&(this.tickID=e,this._.parent.process(e)),this},t}();n.extend(t);var r=t.prototype;Object.defineProperties(r,{selected:{set:function(e){var t=this._;if("number"==typeof e){t.selected=e;for(var i=t.outputs,r=0,s=i.length;s>r;++r)i[r]&&(i[r].cells[0].set(n.emptycell),i[r].cells[1].set(n.emptycell),i[r].cells[2].set(n.emptycell))}},get:function(){return this._.selected}}}),r.at=function(e){var t=this._,n=t.outputs[e];return n||(t.outputs[e]=n=new i(this)),n},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i=t.outputs[t.selected];i&&(i.cells[0].set(this.cells[0]),i.cells[1].set(this.cells[1]),i.cells[2].set(this.cells[2]))}return this},n.register("gate",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var r=this._;r.fft=new i(2*r.cellsize),r.fftCell=new n.SignalArray(this._.fft.length),r.realBuffer=new n.SignalArray(this._.fft.length),r.imagBuffer=new n.SignalArray(this._.fft.length)}var n=e.fn,i=e.modules.FFT;n.extend(t);var r=t.prototype;Object.defineProperties(r,{real:{set:function(t){this._.real=e(t)},get:function(){return this._.real}},imag:{set:function(t){this._.imag=e(t)},get:function(){return this._.imag}}}),r.process=function(e){var t=this._;if(this.tickID!==e&&(this.tickID=e,t.real&&t.imag)){var i=this.cells[0],r=t.realBuffer,s=t.imagBuffer,a=t.real.process(e).cells[0],o=t.imag.process(e).cells[0];r.set(a),s.set(o),i.set(t.fft.inverse(r,s).subarray(0,t.cellsize)),n.outputSignalAR(this)}return this},n.register("ifft",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.timer(this),n.fixKR(this);var i=this._;i.interval=e(1e3),i.count=0,i.delay=0,i.timeout=1/0,i.currentTime=0,i.delaySamples=0,i.countSamples=0,i.onended=n.make_onended(this),this.on("start",r)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){var e=this._;this.playbackState=n.PLAYING_STATE,e.delaySamples=.001*e.samplerate*e.delay|0,e.countSamples=e.count=e.currentTime=0};Object.defineProperty(r,"unremovable",{value:!0,writable:!1});var s=t.prototype;Object.defineProperties(s,{interval:{set:function(t){"string"==typeof t&&(t=i(t),0>=t&&(t=0)),this._.interval=e(t)},get:function(){return this._.interval}},delay:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this._.delay=e,this._.delaySamples=.001*this._.samplerate*e|0)},get:function(){return this._.delay}},count:{set:function(e){"number"==typeof e&&(this._.count=e)},get:function(){return this._.count}},timeout:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this._.timeout=e)},get:function(){return this._.timeout}},currentTime:{get:function(){return this._.currentTime}}}),s.bang=function(){var e=this._;return this.playbackState=n.PLAYING_STATE,e.delaySamples=.001*e.samplerate*e.delay|0,e.countSamples=e.count=e.currentTime=0,e.emit("bang"),this},s.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e,i.delaySamples>0&&(i.delaySamples-=t.length);var r=i.interval.process(e).cells[0][0];if(i.delaySamples<=0&&(i.countSamples-=t.length,i.countSamples<=0)){i.countSamples+=i.samplerate*r*.001|0;for(var s=this.nodes,a=i.count,o=a*i.mul+i.add,u=0,l=t.length;l>u;++u)t[u]=o;for(var c=0,f=s.length;f>c;++c)s[c].bang(a);i.count+=1}i.currentTime+=n.currentTimeIncr,i.currentTime>=i.timeout&&n.nextTick(i.onended)}return this},n.register("interval",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this);var i=this._,r=Math.ceil(Math.log(i.samplerate)*Math.LOG2E);i.buffersize=1<<r,i.buffermask=i.buffersize-1,i.buffer=new n.SignalArray(i.buffersize),i.time=0,i.readIndex=0,i.writeIndex=0}var n=e.fn,i=e.timevalue;n.extend(t);var r=t.prototype;Object.defineProperties(r,{time:{set:function(e){if("string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0){var t=this._;t.time=e;var n=.001*e*t.samplerate|0;n>t.buffermask&&(n=t.buffermask),t.writeIndex=t.readIndex+n&t.buffermask}},get:function(){return this._.time}}}),r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this);var i,r=this.cells[0],s=t.buffer,a=t.buffermask,o=t.readIndex,u=t.writeIndex,l=r.length;for(i=0;l>i;++i)s[u]=r[i],r[i]=s[o],o+=1,u=u+1&a;t.readIndex=o&a,t.writeIndex=u,n.outputSignalAR(this)}return this},n.register("lag",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.input=0,n.value=0,n.prev=null,n.ar=!1,n.map=i}var n=e.fn;n.extend(t);var i=function(e){return e},r=t.prototype;Object.defineProperties(r,{input:{set:function(e){"number"==typeof e&&(this._.input=e)},get:function(){return this._.input}},map:{set:function(e){"function"==typeof e&&(this._.map=e)},get:function(){return this._.map}}}),r.bang=function(){return this._.prev=null,this._.emit("bang"),this},r.at=function(e){return this._.map?this._.map(e):0},r.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s=this.nodes.length,a=t.length;if(i.ar&&s){n.inputSignalAR(this);var o=i.map;if(o)for(r=0;a>r;++r)t[r]=o(t[r]);i.value=t[a-1],n.outputSignalAR(this)}else{var u=s?n.inputSignalKR(this):i.input;i.map&&i.prev!==u&&(i.prev=u,i.value=i.map(u));var l=i.value*i.mul+i.add;for(r=0;a>r;++r)t[r]=l}}return this},n.register("map",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u=this.nodes,l=u.length,c=t.length;if(i.ar){if(u.length>0)for(a=u[0].process(e).cells[0],t.set(a),r=1;l>r;++r)for(a=u[r].process(e).cells[0],s=0;c>s;++s)o=a[s],t[s]<o&&(t[s]=o);else for(s=0;c>s;++s)t[s]=0;n.outputSignalAR(this)}else{if(u.length>0)for(a=u[0].process(e).cells[0][0],r=1;l>r;++r)o=u[r].process(e).cells[0][0],o>a&&(a=o);else a=0;t[0]=a,n.outputSignalKR(this)}}return this},n.register("max",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var r=this._;r.src=r.func=null,r.bufferL=new n.SignalArray(i),r.bufferR=new n.SignalArray(i),r.readIndex=0,r.writeIndex=0,r.totalRead=0,r.totalWrite=0}if("browser"===e.envtype){var n=e.fn,i=4096,r=i-1;n.extend(t);var s=t.prototype;s.listen=function(t){var n=a[e.env];n&&(n.set.call(this,t),n.listen.call(this))},s.unlisten=function(){var t=a[e.env];t&&t.unlisten.call(this),this.cells[0].set(n.emptycell),this.cells[1].set(n.emptycell),this.cells[2].set(n.emptycell);for(var i=this._,r=i.bufferL,s=i.bufferR,o=0,u=r.length;u>o;++o)r[o]=s[o]=0},s.process=function(e){var t=this._;if(null===t.src)return this;if(this.tickID!==e){this.tickID=e;var i=t.cellsize;if(t.totalWrite>t.totalRead+i){var s=t.readIndex,a=s+i;this.cells[1].set(t.bufferL.subarray(s,a)),this.cells[2].set(t.bufferR.subarray(s,a)),t.readIndex=a&r,t.totalRead+=i}n.outputSignalAR(this)}return this};var a={};a.webkit={set:function(e){var t=this._;if(e instanceof HTMLMediaElement){var i=n._audioContext;t.src=i.createMediaElementSource(e)}},listen:function(){var e=this._,t=n._audioContext;e.gain=t.createGainNode(),e.gain.gain.value=0,e.node=t.createJavaScriptNode(1024,2,2),e.node.onaudioprocess=o(this),e.src.connect(e.node),e.node.connect(e.gain),e.gain.connect(t.destination)},unlisten:function(){var e=this._;e.src&&e.src.disconnect(),e.gain&&e.gain.disconnect(),e.node&&e.node.disconnect()}};var o=function(e){return function(t){var n=e._,i=t.inputBuffer,s=i.length,a=n.writeIndex;n.bufferL.set(i.getChannelData(0),a),n.bufferR.set(i.getChannelData(1),a),n.writeIndex=a+s&r,n.totalWrite+=s}};a.moz={set:function(e){var t=this._;e instanceof HTMLAudioElement&&(t.src=e,t.istep=t.samplerate/e.mozSampleRate)},listen:function(){var e=this._,t=e.bufferL,n=e.bufferR,i=0,s=0;2===e.src.mozChannels?(e.x=0,e.func=function(a){var o,u,l=e.writeIndex,c=e.totalWrite,f=a.frameBuffer,h=e.istep,p=f.length;for(o=e.x,u=0;p>u;u+=2){for(o+=h;o>0;)t[l]=.5*(f[u]+i),n[l]=.5*(f[u+1]+s),l=l+1&r,++c,o-=1;i=f[u],s=f[u+1]}e.x=o,e.writeIndex=l,e.totalWrite=c}):(e.x=0,e.func=function(s){var a,o,u=e.writeIndex,l=e.totalWrite,c=s.frameBuffer,f=e.istep,h=c.length;for(a=e.x,o=0;h>o;++o){for(a+=f;a>=0;)t[u]=n[u]=.5*(c[o]+i),u=u+1&r,++l,a-=1;i=c[o]}e.x=a,e.writeIndex=u,e.totalWrite=l}),e.src.addEventListener("MozAudioAvailable",e.func)},unlisten:function(){var e=this._;e.func&&(e.src.removeEventListener("MozAudioAvailable",e.func),e.func=null)}},n.register("mediastream",t)}}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.midi=0,n.value=0,n.prev=null,n.a4=440,n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{midi:{set:function(e){"number"==typeof e&&(this._.midi=e)},get:function(){return this._.midi}},a4:{set:function(e){"number"==typeof e&&(this._.a4=e,this._.prev=null)},get:function(){return this._.a4}}}),i.bang=function(){return this._.prev=null,this._.emit("bang"),this},i.at=function(e){var t=this._;return t.a4*Math.pow(2,(e-69)/12)},i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.cells[0],s=this.nodes.length,a=r.length;if(t.ar&&s){n.inputSignalAR(this);var o=t.a4;for(i=0;a>i;++i)r[i]=o*Math.pow(2,(r[i]-69)/12);t.value=r[a-1],n.outputSignalAR(this)}else{var u=s?n.inputSignalKR(this):t.midi;t.prev!==u&&(t.prev=u,t.value=t.a4*Math.pow(2,(u-69)/12)),r[0]=t.value,n.outputSignalKR(this)}}return this},n.register("midicps",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.midi=0,n.value=0,n.prev=null,n.range=12,n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{midi:{set:function(e){"number"==typeof e&&(this._.midi=e)},get:function(){return this._.midi}},range:{set:function(e){"number"==typeof e&&e>0&&(this._.range=e)},get:function(){return this._.range}}}),i.bang=function(){return this._.prev=null,this._.emit("bang"),this},i.at=function(e){var t=this._;return Math.pow(2,e/t.range)},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s=this.nodes.length,a=t.length;if(i.ar&&s){n.inputSignalAR(this);var o=i.range;for(r=0;a>r;++r)t[r]=Math.pow(2,t[r]/o);i.value=t[a-1],n.outputSignalAR(this)}else{var u=this.nodes.length?n.inputSignalKR(this):i.midi;i.prev!==u&&(i.prev=u,i.value=Math.pow(2,u/i.range));var l=i.value*i.mul+i.add;for(r=0;a>r;++r)t[r]=l}}return this},n.register("midiratio",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u=this.nodes,l=u.length,c=t.length;if(i.ar){if(u.length>0)for(a=u[0].process(e).cells[0],t.set(a),r=1;l>r;++r)for(a=u[r].process(e).cells[0],s=0;c>s;++s)o=a[s],t[s]>o&&(t[s]=o);else for(s=0;c>s;++s)t[s]=0;n.outputSignalAR(this)}else{if(u.length>0)for(a=u[0].process(e).cells[0][0],r=1;l>r;++r)o=u[r].process(e).cells[0][0],a>o&&(a=o);else a=0;t[0]=a,n.outputSignalKR(this)}}return this},n.register("min",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var r=this._;r.tracks=[],r.onended=n.make_onended(this),r.currentTime=0,this.on("start",i)}var n=e.fn;n.extend(t);var i=function(){var e=this,t=this._,i=t.mml;"string"==typeof i&&(i=[i]),t.tracks=i.map(function(t,n){return new s(e,n,t)}),t.currentTime=0,this.playbackState=n.PLAYING_STATE};Object.defineProperty(i,"unremoved",{value:!0,writable:!1});var r=t.prototype;Object.defineProperties(r,{mml:{set:function(e){var t=this._;("string"==typeof e||Array.isArray(e))&&(t.mml=e)},get:function(){return this._.mml}},currentTime:{get:function(){return this._.currentTime}}}),r.on=r.addListener=function(e,t){return"mml"===e&&(e="data",console.warn("A 'mml' event listener was deprecated in ~v13.03.01. use 'data' event listener.")),this._.events.on(e,t),this},r.once=function(e,t){return"mml"===e&&(e="data",console.warn("A 'mml' event listener was deprecated in ~v13.03.01. use 'data' event listener.")),this._.events.once(e,t),this},r.off=r.removeListener=function(e,t){return"mml"===e&&(e="data",console.warn("A 'mml' event listener was deprecated in ~v13.03.01. use 'data' event listener.")),this._.events.off(e,t),this},r.removeAllListeners=function(e){return"mml"===e&&(console.warn("A 'mml' event listener was deprecated in ~v13.03.01. use 'data' event listener."),e="data"),this._.events.removeAllListeners(e),this},r.listeners=function(e){return"mml"===e&&(console.warn("A 'mml' event listener was deprecated in ~v13.03.01. use 'data' event listener."),e="data"),this._.events.listeners(e)},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s=t.tracks;for(i=0,r=s.length;r>i;++i)s[i].process();for(;i--;)s[i].ended&&s.splice(i,1);0===s.length&&n.nextTick(t.onended),t.currentTime+=n.currentTimeIncr}return this},n.register("mml",t);var s=function(){function e(e,t,n){var i=this._={};i.sequencer=e,i.trackNum=t,i.commands=c(n),i.status={t:120,l:4,o:4,v:12,q:6,dot:0,tie:!1},i.index=0,i.queue=[],i.currentTime=0,i.queueTime=0,i.segnoIndex=-1,i.loopStack=[],i.prevNote=0,i.remain=1/0,this.ended=!1,l(this)}var t=0,i=1,r=2,s=3;e.prototype.process=function(){var e=this._,c=e.sequencer,f=e.trackNum,h=e.queue,p=!1;if(h.length)for(;h[0][0]<=e.currentTime;){var d=e.queue.shift();switch(d[1]){case i:a(c,f,d[2],d[3]),e.remain=d[4],l(this);break;case r:o(c,f,d[2],d[3]);break;case s:u(c,d[2]);break;case t:p=!0}if(0===h.length)break}e.remain-=n.currentTimeIncr,p&&(this.ended=!0),e.currentTime+=n.currentTimeIncr};var a=function(e,t,n,i){var r,s,a,o=e.nodes;for(s=0,a=o.length;a>s;++s)r=o[s],r.noteOn?r.noteOn(n,i):r.bang();e._.emit("data","noteOn",{trackNum:t,noteNum:n,velocity:i})},o=function(e,t,n,i){var r,s,a,o=e.nodes;for(s=0,a=o.length;a>s;++s)r=o[s],r.noteOff?r.noteOff(n,i):r.release&&r.release();e._.emit("data","noteOff",{trackNum:t,noteNum:n,velocity:i})},u=function(e,t){e._.emit("data","command",{command:t})},l=function(e){var n,a,o,u,l,c,f,h,p,d,m,v,g,y=e._,b=(y.sequencer,y.commands),_=y.queue,x=y.index,w=y.status,k=y.queueTime,T=y.loopStack;p=[];e:for(;;){if(b.length<=x){if(!(y.segnoIndex>=0))break;x=y.segnoIndex}switch(n=b[x++],n.name){case"@":_.push([k,s,n.val]);break;case"n":if(a=w.t||120,null!==n.len?(u=n.len,l=n.dot||0):(u=w.l,l=n.dot||w.dot),f=60/a*(4/u)*1e3,f*=[1,1.5,1.75,1.875][l]||1,c=w.v<<3,w.tie){for(v=_.length;v--;)if(_[v][2]){_.splice(v,1);break}o=y.prevNote}else o=y.prevNote=n.val+12*(w.o+1),_.push([k,i,o,c,f]);if(u>0){if(h=w.q/8,1>h)for(d=k+f*h,_.push([d,r,o,c]),v=0,g=p.length;g>v;++v)_.push([d,r,p[v],c]);if(p=[],k+=f,!w.tie)break e}else p.push(o);w.tie=!1;break;case"r":a=w.t||120,null!==n.len?(u=n.len,l=n.dot||0):(u=w.l,l=n.dot||w.dot),u>0&&(f=60/a*(4/u)*1e3,f*=[1,1.5,1.75,1.875][l]||1,k+=f);break;case"l":w.l=n.val,w.dot=n.dot;break;case"o":w.o=n.val;break;case"<":w.o<9&&(w.o+=1);break;case">":w.o>0&&(w.o-=1);break;case"v":w.v=n.val;break;case"(":w.v<15&&(w.v+=1);break;case")":w.v>0&&(w.v-=1);break;case"q":w.q=n.val;break;case"&":w.tie=!0;break;case"$":y.segnoIndex=x;break;case"[":T.push([x,null,null]);break;case"|":m=T[T.length-1],m&&1===m[1]&&(T.pop(),x=m[2]);break;case"]":m=T[T.length-1],m&&(null===m[1]&&(m[1]=n.count,m[2]=x),m[1]-=1,0===m[1]?T.pop():x=m[0]);break;case"t":w.t=null===n.val?120:n.val;break;case"EOF":_.push([k,t])}}y.index=x,y.queueTime=k},c=function(e){var t,n,i,r,s,a,o,u,l=new Array(e.length),c=[];for(s=0,a=f.length;a>s;++s)for(t=f[s],n=t.re;i=n.exec(e);){if(!l[i.index]){for(o=0,u=i[0].length;u>o;++o)l[i.index+o]=!0;r=t.func?t.func(i):{name:i[0]},r&&(r.index=i.index,r.origin=i[0],c.push(r))}for(;n.lastIndex<e.length&&l[n.lastIndex];)++n.lastIndex}return c.sort(function(e,t){return e.index-t.index}),c.push({name:"EOF"}),c},f=[{re:/@(\d*)/g,func:function(e){return{name:"@",val:e[1]||null}}},{re:/([cdefgab])([\-+]?)(\d*)(\.*)/g,func:function(e){return{name:"n",val:{c:0,d:2,e:4,f:5,g:7,a:9,b:11}[e[1]]+({"-":-1,"+":1}[e[2]]||0),len:""===e[3]?null:Math.min(0|e[3],64),dot:e[4].length}}},{re:/r(\d*)(\.*)/g,func:function(e){return{name:"r",len:""===e[1]?null:Math.max(1,Math.min(0|e[1],64)),dot:e[2].length}}},{re:/&/g},{re:/l(\d*)(\.*)/g,func:function(e){return{name:"l",val:""===e[1]?4:Math.min(0|e[1],64),dot:e[2].length}}},{re:/o([0-9])/g,func:function(e){return{name:"o",val:""===e[1]?4:0|e[1]}}},{re:/[<>]/g},{re:/v(\d*)/g,func:function(e){return{name:"v",val:""===e[1]?12:Math.min(0|e[1],15)}}},{re:/[()]/g},{re:/q([0-8])/g,func:function(e){return{name:"q",val:""===e[1]?6:Math.min(0|e[1],8)}}},{re:/\[/g},{re:/\|/g},{re:/\](\d*)/g,func:function(e){return{name:"]",count:0|e[1]||2}}},{re:/t(\d*)/g,func:function(e){return{name:"t",val:""===e[1]?null:Math.max(5,Math.min(0|e[1],300))}}},{re:/\$/g}];return e}()}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t),t.prototype.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,t.ar?(n.inputSignalAR(this),n.outputSignalAR(this)):(this.cells[0][0]=n.inputSignalKR(this),n.outputSignalKR(this))),this},n.register("mono",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u=this.nodes,l=this.cells[0],c=this.cells[1],f=this.cells[2],h=u.length,p=l.length;if(t.ar){if(u.length>0)for(u[0].process(e),a=u[0].cells[1],o=u[0].cells[2],c.set(a),f.set(o),i=1;h>i;++i)for(u[i].process(e),a=u[i].cells[1],o=u[i].cells[2],r=0;p>r;++r)c[r]*=a[r],f[r]*=o[r];else for(r=0;p>r;++r)c[r]=f[r]=0;n.outputSignalAR(this)}else{if(u.length>0)for(s=u[0].process(e).cells[0][0],i=1;h>i;++i)s*=u[i].process(e).cells[0][0];else s=0;l[0]=s,n.outputSignalKR(this)}}return this},n.register("*",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.defaultValue=0,n.index=0,n.dict={},n.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{dict:{set:function(e){if("object"==typeof e)this._.dict=e;else if("function"==typeof e){for(var t={},n=0;128>n;++n)t[n]=e(n);this._.dict=t}},get:function(){return this._.dict}},defaultValue:{set:function(e){"number"==typeof e&&(this._.defaultValue=e)},get:function(){return this._.defaultValue}},index:{set:function(e){"number"==typeof e&&(this._.index=e)},get:function(){return this._.index}}}),i.at=function(e){var t=this._;return(t.dict[0|e]||t.defaultValue)*t.mul+t.add},i.clear=function(){return this._.dict={},this},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o=this.nodes.length,u=i.dict,l=i.defaultValue,c=i.mul,f=i.add,h=t.length;if(i.ar&&o){for(n.inputSignalAR(this),a=0;h>a;++a)r=t[a],r=0>r?r-.5|0:r+.5|0,t[a]=(u[r]||l)*c+f;n.outputSignalAR(this)}else for(r=this.nodes.length?n.inputSignalKR(this):i.index,r=0>r?r-.5|0:r+.5|0,s=(u[r]||l)*c+f,a=0;h>a;++a)t[a]=s}return this},n.register("ndict",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t)}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this.cells[0],n=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a=n.mul,o=n.add;if(n.ar)for(i=0,r=t.length;r>i;++i)t[i]=(2*Math.random()-1)*a+o;else for(s=(2*Math.random()+1)*a+o,i=0,r=t.length;r>i;++i)t[i]=s}return this},n.register("noise",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var i=this._;i.freq=e(440),i.phase=e(0),i.osc=new r(i.samplerate),i.tmp=new n.SignalArray(i.cellsize),i.osc.step=i.cellsize,this.once("init",s)}var n=e.fn,i=e.timevalue,r=e.modules.Oscillator;n.extend(t);var s=function(){var e=this._;this.wave||(this.wave="sin"),e.plotData=e.osc.wave,e.plotLineWidth=2,e.plotCyclic=!0,e.plotBefore=o},a=t.prototype;Object.defineProperties(a,{wave:{set:function(e){this._.osc.setWave(e)},get:function(){return this._.osc.wave}},freq:{set:function(t){"string"==typeof t&&(t=i(t),t=0>=t?0:1e3/t),this._.freq=e(t)},get:function(){return this._.freq}},phase:{set:function(t){this._.phase=e(t),this._.osc.feedback=!1},get:function(){return this._.phase}},fb:{set:function(t){this._.phase=e(t),this._.osc.feedback=!0},get:function(){return this._.phase}}}),a.clone=function(){var e=n.clone(this);return e._.osc=this._.osc.clone(),e._.freq=this._.freq,e._.phase=this._.phase,e},a.bang=function(){return this._.osc.reset(),this._.emit("bang"),this},a.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.cells[1],s=this.cells[2],a=t.cellsize;if(this.nodes.length)n.inputSignalAR(this);else for(i=0;a>i;++i)r[i]=s[i]=1;var o=t.osc,u=t.freq.process(e).cells[0],l=t.phase.process(e).cells[0];if(o.frequency=u[0],o.phase=l[0],t.ar){var c=t.tmp;for(t.freq.isAr?t.phase.isAr?o.processWithFreqAndPhaseArray(c,u,l):o.processWithFreqArray(c,u):t.phase.isAr?o.processWithPhaseArray(c,l):o.process(c),i=0;a>i;++i)r[i]*=c[i],s[i]*=c[i]}else{var f=o.next();for(i=0;a>i;++i)r[i]*=f,s[i]*=f}n.outputSignalAR(this)}return this};var o;"browser"===e.envtype&&(o=function(e,t,n,i,r){var s=(r>>1)+.5;e.strokeStyle="#ccc",e.lineWidth=1,e.beginPath(),e.moveTo(t,s+n),e.lineTo(t+i,s+n),e.stroke()}),n.register("osc",t),n.register("sin",function(e){return new t(e).set("wave","sin")}),n.register("cos",function(e){return new t(e).set("wave","cos")}),n.register("pulse",function(e){return new t(e).set("wave","pulse")}),n.register("tri",function(e){return new t(e).set("wave","tri")}),n.register("saw",function(e){return new t(e).set("wave","saw")}),n.register("fami",function(e){return new t(e).set("wave","fami")}),n.register("konami",function(e){return new t(e).set("wave","konami")}),n.register("+sin",function(e){return new t(e).set("wave","+sin").kr()}),n.register("+pulse",function(e){return new t(e).set("wave","+pulse").kr()}),n.register("+tri",function(e){return new t(e).set("wave","+tri").kr()}),n.register("+saw",function(e){return new t(e).set("wave","+saw").kr()}),n.alias("square","pulse")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.pos=e(0),i.panL=.5,i.panR=.5}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{pos:{set:function(t){this._.pos=e(t)},get:function(){return this._.pos}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.pos.process(e).cells[0][0];if(t.prevPos!==i){t.panL=1-i,t.panR=t.prevPos=i}var r,s,a,o=this.nodes,u=this.cells[1],l=this.cells[2],c=o.length,f=u.length;if(c){for(a=o[0].process(e).cells[0],s=0;f>s;++s)u[s]=l[s]=a[s];for(r=1;c>r;++r)for(a=o[r].process(e).cells[0],s=0;f>s;++s)u[s]=l[s]+=a[s];var h=t.panL,p=t.panR;for(s=0;f>s;++s)u[s]=u[s]*h,l[s]=l[s]*p}else u.set(n.emptycell),l.set(n.emptycell);n.outputSignalAR(this)}return this},n.register("pan",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t);var n=this._;n.value=0,n.env=new s(n.samplerate),n.env.step=n.cellsize,n.curve="lin",n.counter=0,n.ar=!1,n.onended=a(this),this.on("ar",o)}var n=e.fn,i=e.timevalue,r=e.modules.Envelope,s=e.modules.EnvelopeValue;n.extend(t);var a=function(e,t){return function(){if("number"==typeof t)for(var n=e.cells[0],i=e.cells[1],r=e.cells[2],s=e._.env.value,a=0,o=i.length;o>a;++a)n[0]=i[a]=r[a]=s;e._.emit("ended")}},o=function(e){this._.env.step=e?1:this._.cellsize},u=t.prototype;Object.defineProperties(u,{value:{set:function(e){"number"==typeof e&&(this._.env.value=e)},get:function(){return this._.env.value}}}),u.to=function(e,t,n){var s=this._,a=s.env;if("string"==typeof t?t=i(t):"undefined"==typeof t&&(t=0),"undefined"==typeof n)s.counter=a.setNext(e,t,r.CurveTypeLin),s.curve="lin";else{var o=r.CurveTypeDict[n];s.counter="undefined"==typeof o?a.setNext(e,t,r.CurveTypeCurve,n):a.setNext(e,t,o),s.curve=n}return s.plotFlush=!0,this},u.setAt=function(e,t){var n=this._;return this.to(n.env.value,t,"set"),n.atValue=e,this},u.linTo=function(e,t){return this.to(e,t,"lin")},u.expTo=function(e,t){return this.to(e,t,"exp")},u.sinTo=function(e,t){return this.to(e,t,"sin")},u.welTo=function(e,t){return this.to(e,t,"wel")},u.sqrTo=function(e,t){return this.to(e,t,"sqr")},u.cubTo=function(e,t){return this.to(e,t,"cub")},u.cancel=function(){var e=this._;return e.counter=e.env.setNext(e.env.value,0,r.CurveTypeSet),this},u.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,s,a=this.cells[1],o=this.cells[2],u=t.cellsize,l=t.env,c=t.counter;if(this.nodes.length)n.inputSignalAR(this);else for(i=0;u>i;++i)a[i]=o[i]=1;if(0>=c&&("set"===t.curve?l.setNext(t.atValue,0,r.CurveTypeSet):l.setNext(l.value,0,r.CurveTypeSet),n.nextTick(t.onended),t.counter=1/0),t.ar){for(i=0;u>i;++i)s=l.next(),a[i]*=s,o[i]*=s;t.counter-=t.cellsize}else{for(s=l.next(),i=0;u>i;++i)a[i]*=s,o[i]*=s;t.counter-=1}n.outputSignalAR(this),t.value=s}return this};var l=e.Object.prototype.plot;u.plot=function(e){var t=this._;if(t.plotFlush){var n,i,a,o=new s(128),u=new Float32Array(128);if("set"===t.curve)for(i=100,a=u.length;a>i;++i)u[i]=1;else for(n=r.CurveTypeDict[t.curve],"undefined"==typeof n?o.setNext(1,1e3,r.CurveTypeCurve,t.curve):o.setNext(1,1e3,n),i=0,a=u.length;a>i;++i)u[i]=o.next();t.plotData=u,t.plotRange=[0,1],t.plotFlush=null}return l.call(this,e)},n.register("param",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.freq=e("sin",{freq:1,add:1e3,mul:250}).kr(),i.Q=e(1),i.allpass=[],this.steps=2}var n=e.fn,i=e.modules.Biquad;n.extend(t);var r=t.prototype;Object.defineProperties(r,{freq:{set:function(e){this._.freq=e},get:function(){return this._.freq}},Q:{set:function(t){this._.Q=e(t)},get:function(){return this._.Q}},steps:{set:function(e){if("number"==typeof e){if(e|=0,2===e||4===e||8===e||12===e){var t=this._.allpass;if(t.length<e)for(var n=t.length;e>n;++n)t[n]=new i(this._.samplerate),t[n].setType("allpass")}this._.steps=e}},get:function(){return this._.steps}}}),r.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),!t.bypassed){var i,r=this.cells[1],s=this.cells[2],a=t.freq.process(e).cells[0][0],o=t.Q.process(e).cells[0][0],u=t.steps;for(i=0;u>i;i+=2)t.allpass[i].setParams(a,o,0),t.allpass[i].process(r,s),t.allpass[i+1].setParams(a,o,0),t.allpass[i+1].process(r,s)}n.outputSignalAR(this)}return this},n.register("phaser",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),i.fixAR(this);for(var n=new Uint8Array(5),r=0;5>r;++r)n[r]=(Math.random()*(1<<30)|0)%25;this._.whites=n,this._.key=0}var n=31,i=e.fn;i.extend(t);var r=t.prototype;r.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){this.tickID=e;var r,s,a,o,u,l,c=i.key,f=i.whites,h=i.mul,p=i.add;for(r=0,s=t.length;s>r;++r){for(o=c++,c>n&&(c=0),l=o^c,a=u=0;5>a;++a)l&1<<a&&(f[a]=(Math.random()*(1<<30)|0)%25),u+=f[a];t[r]=(.01666666*u-1)*h+p}i.key=c}return this},i.register("pink",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),this._.freq=440,this._.buffer=null,this._.index=0}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{freq:{set:function(e){"number"==typeof e&&(0>e&&(e=0),this._.freq=e)},get:function(){return this._.freq}}}),i.bang=function(){for(var e=this._,t=e.freq,i=e.samplerate/t+.5|0,r=e.buffer=new n.SignalArray(i),s=0;i>s;++s)r[s]=2*Math.random()-1;return e.index=0,e.emit("bang"),this},i.process=function(e){var t=this.cells[0],n=this._;if(this.tickID!==e){this.tickID=e;var i=n.buffer;if(i){var r,s,a,o=i.length,u=n.index,l=n.mul,c=n.add,f=t.length;for(a=0;f>a;++a)r=u,s=i[u++],u>=o&&(u=0),s=.5*(s+i[u]),i[r]=s,t[a]=s*l+c;n.index=u}}return this},n.register("pluck",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.listener(this),n.fixAR(this);var i=this._;i.timeout=5e3,i.status=r,i.writeIndex=0,i.writeIndexIncr=1,i.currentTime=0,i.currentTimeIncr=1e3/i.samplerate,i.onended=a(this)}var n=e.fn,i=e.timevalue,r=0,s=1;n.extend(t);var a=function(e){return function(){var t=e._,i=new n.SignalArray(t.buffer.subarray(0,0|t.writeIndex));t.status=r,t.writeIndex=0,t.currentTime=0,t.emit("ended",{buffer:i,samplerate:t.samplerate})
}},o=t.prototype;Object.defineProperties(o,{timeout:{set:function(e){"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(this._.timeout=e)},get:function(){return this._.timeout}},samplerate:{set:function(e){"number"==typeof e&&e>0&&e<=this._.samplerate&&(this._.samplerate=e)},get:function(){return this._.samplerate}},currentTime:{get:function(){return this._.currentTime}}}),o.start=function(){var t,i=this._;return i.status===r&&(t=.01*i.timeout*i.samplerate|0,(!i.buffer||i.buffer.length<t)&&(i.buffer=new n.SignalArray(t)),i.writeIndex=0,i.writeIndexIncr=i.samplerate/e.samplerate,i.currentTime=0,i.status=s,i.emit("start"),this.listen()),this},o.stop=function(){var e=this._;return e.status===s&&(e.status=r,e.emit("stop"),n.nextTick(e.onended),this.unlisten()),this},o.bang=function(){return this._.status===r?this.srart():this._.status===s&&this.stop(),this._.emit("bang"),this},o.process=function(e){var t=this._,i=this.cells[0];if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),t.status===s){var r,a=i.length,o=t.buffer,u=t.timeout,l=t.writeIndex,c=t.writeIndexIncr,f=t.currentTime,h=t.currentTimeIncr;for(r=0;a>r;++r)o[0|l]=i[r],l+=c,f+=h,f>=u&&n.nextTick(t.onended);t.writeIndex=l,t.currentTime=f}n.outputSignalAR(this)}return this},n.register("record",t),n.alias("rec","record")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this),this._.reverb=new i(this._.samplerate,this._.cellsize)}var n=e.fn,i=e.modules.Reverb;n.extend(t);var r=t.prototype;Object.defineProperties(r,{room:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.setRoomSize(e))},get:function(){return this._.reverb.roomsize}},damp:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.setDamp(e))},get:function(){return this._.reverb.damp}},mix:{set:function(e){"number"==typeof e&&(e=e>1?1:0>e?0:e,this._.reverb.wet=e)},get:function(){return this._.reverb.wet}}}),r.process=function(e){var t=this._;return this.tickID!==e&&(this.tickID=e,n.inputSignalAR(this),t.bypassed||t.reverb.process(this.cells[1],this.cells[2]),n.outputSignalAR(this)),this},n.register("reverb",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var i=this._;i.queue=[],i.currentTime=0,i.maxRemain=1e3}var n=e.fn,i=e.timevalue;n.extend(t);var r=t.prototype;Object.defineProperties(r,{queue:{get:function(){return this._.queue}},remain:{get:function(){return this._.queue.length}},maxRemain:{set:function(e){"number"==typeof e&&e>0&&(this._.maxRemain=e)},get:function(){return this._.maxRemain}},isEmpty:{get:function(){return 0===this._.queue.length}},currentTime:{get:function(){return this._.currentTime}}}),r.sched=function(e,t,n){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&this.schedAbs(this._.currentTime+e,t,n),this},r.schedAbs=function(t,n,r){if("string"==typeof t&&(t=i(t)),"number"==typeof t){var s=this._,a=s.queue;if(a.length>=s.maxRemain)return this;for(var o=a.length;o--&&!(a[o][0]<t););a.splice(o+1,0,[t,e(n),r])}return this},r.advance=function(e){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&(this._.currentTime+=e),this},r.clear=function(){return this._.queue.splice(0),this},r.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=null,r=t.queue;if(r.length)for(;r[0][0]<t.currentTime;){var s=t.queue.shift();if(s[1].bang(s[2]),i="sched",0===r.length){i="empty";break}}t.currentTime+=n.currentTimeIncr,i&&t.emit(i)}return this},n.register("schedule",t),n.alias("sched","schedule")}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this);var i=this._;i.samples=0,i.writeIndex=0,i.plotFlush=!0,this.once("init",r)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){this._.buffer||(this.size=1024),this._.interval||(this.interval=1e3)},s=t.prototype;Object.defineProperties(s,{size:{set:function(e){var t=this._;if(!t.buffer&&"number"==typeof e){var i=64>e?64:e>2048?2048:e;t.buffer=new n.SignalArray(i),t.reservedinterval&&(this.interval=t.reservedinterval,t.reservedinterval=null)}},get:function(){return this._.buffer.length}},interval:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(t.buffer?(t.interval=e,t.samplesIncr=.001*e*t.samplerate/t.buffer.length,t.samplesIncr<1&&(t.samplesIncr=1)):t.reservedinterval=e)},get:function(){return this._.interval}}}),s.bang=function(){for(var e=this._,t=e.buffer,n=0,i=t.length;i>n;++n)t[n]=0;return e.samples=0,e.writeIndex=0,this._.emit("bang"),this},s.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i,r=this.cells[0],s=t.cellsize,a=t.samples,o=t.samplesIncr,u=t.buffer,l=t.writeIndex,c=!1,f=u.length;for(i=0;s>i;++i)0>=a&&(u[l++]=r[i],l>=f&&(l=0),c=t.plotFlush=!0,a+=o),--a;t.samples=a,t.writeIndex=l,c&&this._.emit("data")}return this};var a=e.Object.prototype.plot;s.plot=function(e){var t=this._;if(t.plotFlush){for(var n=t.buffer,i=n.length-1,r=new Float32Array(n.length),s=t.writeIndex,o=0,u=n.length;u>o;o++)r[o]=n[++s&i];t.plotData=r,t.plotFlush=null}return a.call(this,e)},n.register("scope",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),r.fixAR(this);var n=this._;n.numberOfInputs=0,n.numberOfOutputs=0,n.bufferSize=0,n.bufferMask=0,n.duration=0,n.inputBufferL=null,n.inputBufferR=null,n.outputBufferL=null,n.outputBufferR=null,n.onaudioprocess=null,n.index=0,this.once("init",s)}function n(e,t){this.samplerate=e._.samplerate,this.length=e._.bufferSize,this.duration=e._.duration,this.numberOfChannels=t.length,this.getChannelData=function(e){return t[e]}}function i(t){var i=t._;this.node=t,this.playbackTime=e.currentTime,this.inputBuffer=2===i.numberOfInputs?new n(t,[i.inputBufferL,i.inputBufferR]):new n(t,[i.inputBufferL]),this.outputBuffer=2===i.numberOfOutputs?new n(t,[i.outputBufferL,i.outputBufferR]):new n(t,[i.outputBufferL])}var r=e.fn;r.extend(t);var s=function(){var e=this._;0===e.numberOfInputs&&(this.numberOfInputs=1),0===e.numberOfOutputs&&(this.numberOfOutputs=1),0===e.bufferSize&&(this.bufferSize=1024)},a=t.prototype;Object.defineProperties(a,{numberOfInputs:{set:function(e){var t=this._;0===t.numberOfInputs&&(t.numberOfInputs=2===e?2:1)},get:function(){return this._.numberOfInputs}},numberOfOutputs:{set:function(e){var t=this._;0===t.numberOfOutputs&&(t.numberOfOutputs=2===e?2:1)},get:function(){return this._.numberOfOutputs}},bufferSize:{set:function(e){var t=this._;0===t.bufferSize&&-1!==[256,512,1024,2048,4096,8192,16384].indexOf(e)&&(t.bufferSize=e,t.bufferMask=e-1,t.duration=e/t.samplerate,t.inputBufferL=new r.SignalArray(e),t.inputBufferR=new r.SignalArray(e),t.outputBufferL=new r.SignalArray(e),t.outputBufferR=new r.SignalArray(e))},get:function(){return this._.bufferSize}},onaudioprocess:{set:function(e){"function"==typeof e&&(this._.onaudioprocess=e)},get:function(){return this._.onaudioprocess}}}),a.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var n,s=t.cellsize,a=t.bufferMask,o=t.index,u=o+s,l=this.cells[1],c=this.cells[2];if(r.inputSignalAR(this),2===t.numberOfInputs)t.inputBufferL.set(l,o),t.inputBufferR.set(c,o);else{n=t.inputBufferL;for(var f=0;s>f;f++)n[o+f]=.5*(l[f]+c[f])}l.set(t.outputBufferL.subarray(o,u)),c.set(t.outputBufferR.subarray(o,u)),t.index=u&a,0===t.index&&t.onaudioprocess&&(t.onaudioprocess(new i(this)),1===t.numberOfOutputs&&t.outputBufferR.set(t.outputBufferL)),r.outputSignalAR(this)}return this},r.register("script",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.selected=0,this._.background=!1}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{selected:{set:function(e){"number"==typeof e&&(this._.selected=e,this.cells[1].set(n.emptycell),this.cells[2].set(n.emptycell))},get:function(){return this._.selected}},background:{set:function(e){this._.background=!!e},get:function(){return this._.background}}}),i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r=this.nodes,s=r.length;if(t.background)for(i=0;s>i;++i)r[i].process(e);var a=r[t.selected];a&&(t.background||a.process(e),this.cells[1].set(a.cells[1]),this.cells[2].set(a.cells[2])),n.outputSignalAR(this)}return this},n.register("selector",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.listener(this),n.fixAR(this);var i=this._;i.status=s,i.samples=0,i.samplesIncr=0,i.writeIndex=0,i.plotFlush=!0,i.plotRange=[0,32],i.plotBarStyle=!0,this.once("init",o)}var n=e.fn,i=e.timevalue,r=e.modules.FFT,s=0,a=1;n.extend(t);var o=function(){var e=this._;e.fft||(this.size=512),e.interval||(this.interval=500)},u=t.prototype;Object.defineProperties(u,{size:{set:function(e){var t=this._;if(!t.fft&&"number"==typeof e){var i=256>e?256:e>2048?2048:e;t.fft=new r(i),t.buffer=new n.SignalArray(t.fft.length),t.freqs=new n.SignalArray(t.fft.length>>1),t.reservedwindow&&(t.fft.setWindow(t.reservedwindow),t.reservedwindow=null),t.reservedinterval&&(this.interval=t.reservedinterval,t.reservedinterval=null)}},get:function(){return this._.buffer.length}},window:{set:function(e){this._.fft.setWindow(e)},get:function(){return this._.fft.windowName}},interval:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(t.buffer?(t.interval=e,t.samplesIncr=.001*e*t.samplerate,t.samplesIncr<t.buffer.length&&(t.samplesIncr=t.buffer.length,t.interval=1e3*t.samplesIncr/t.samplerate)):t.reservedinterval=e)},get:function(){return this._.interval}},spectrum:{get:function(){return this._.fft.getFrequencyData(this._.freqs)}},real:{get:function(){return this._.fft.real}},imag:{get:function(){return this._.fft.imag}}}),u.bang=function(){return this._.samples=0,this._.writeIndex=0,this._.emit("bang"),this},u.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e,n.inputSignalAR(this),n.outputSignalAR(this);var i,r,o=this.cells[0],u=o.length,l=t.status,c=t.samples,f=t.samplesIncr,h=t.writeIndex,p=t.buffer,d=p.length;for(i=0;u>i;++i)0>=c&&l===s&&(l=a,h=0,c+=f),l===a&&(p[h++]=o[i],h>=d&&(t.fft.forward(p),r=t.plotFlush=!0,l=s)),--c;t.samples=c,t.status=l,t.writeIndex=h,r&&this._.emit("data")}return this};var l=e.Object.prototype.plot;u.plot=function(e){return this._.plotFlush&&(this._.plotData=this.spectrum,this._.plotFlush=null),l.call(this,e)},n.register("spectrum",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),this._.ar=!1}var n=e.fn;n.extend(t);var i=t.prototype;i.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i,r,s,a,o,u=this.nodes,l=this.cells[0],c=this.cells[1],f=this.cells[2],h=u.length,p=l.length;if(t.ar){if(u.length>0)for(u[0].process(e),a=u[0].cells[1],o=u[0].cells[2],c.set(a),f.set(o),i=1;h>i;++i)for(u[i].process(e),a=u[i].cells[1],o=u[i].cells[2],r=0;p>r;++r)c[r]-=a[r],f[r]-=o[r];else for(r=0;p>r;++r)c[r]=f[i]=0;n.outputSignalAR(this)}else{if(u.length>0)for(s=u[0].process(e).cells[0][0],i=1;h>i;++i)s-=u[i].process(e).cells[0][0];else s=0;l[0]=s,n.outputSignalKR(this)}}return this},n.register("-",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.poly=4,i.genList=[],i.genDict={},i.synthdef=null,i.remGen=s(this),i.onended=n.make_onended(this)}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{def:{set:function(e){"function"==typeof e&&(this._.synthdef=e)},get:function(){return this._.synthdef}},poly:{set:function(e){"number"==typeof e&&e>0&&64>=e&&(this._.poly=e)},get:function(){return this._.poly}}});var r=function(e,t){return function(){e._.remGen(t.gen)}},s=function(e){return function(t){var n=e._,i=n.genList.indexOf(t);-1!==i&&n.genList.splice(i,1),"undefined"!=typeof t.noteNum&&(n.genDict[t.noteNum]=null)}},a=function(t,i,s,a){s|=0,0>=s?this.noteOff(this,t):s>127&&(s=127);var o=this._,u=o.genList,l=o.genDict,c=l[t];c&&o.remGen(c);var f={freq:i,noteNum:t,velocity:s,mul:.0078125*s};if(a)for(var h in a)f[h]=a[h];f.doneAction=r(this,f),c=o.synthdef.call(this,f),c instanceof e.Object&&(c.noteNum=t,u.push(c),l[t]=f.gen=c,this.playbackState=n.PLAYING_STATE,u.length>o.poly&&o.remGen(u[0]))},o=function(){for(var e=new Float32Array(128),t=0;128>t;++t)e[t]=440*Math.pow(2,1*(t-69)/12);return e}(),u=function(e){return e>0?Math.log(1*e/440)*Math.LOG2E*12+69:0};i.noteOn=function(e,t,n){var i=o[e]||440*Math.pow(2,(e-69)/12);return a.call(this,e+.5|0,i,t,n),this},i.noteOff=function(e){var t=this._.genDict[e];return t&&t.release&&t.release(),this},i.noteOnWithFreq=function(e,t,n){var i=u(e);return a.call(this,i+.5|0,e,t,n),this},i.noteOffWithFreq=function(e){var t=u(e);return this.noteOff(t+.5|0)},i.allNoteOff=function(){for(var e=this._.genList,t=0,n=e.length;n>t;++t)e[t].release&&e[t].release()},i.allSoundOff=function(){for(var e=this._,t=e.genList,n=e.genDict;t.length;)delete n[t.shift().noteNum]},i.synth=function(t){var i,s=this._,a=s.genList,o={};if(t)for(var u in t)o[u]=t[u];return o.doneAction=r(this,o),i=s.synthdef.call(this,o),i instanceof e.Object&&(a.push(i),o.gen=i,this.playbackState=n.PLAYING_STATE,a.length>s.poly&&s.remGen(a[0])),this},i.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){if(this.tickID=e,this.playbackState===n.PLAYING_STATE){var r,s,a,o,u,l,c=i.genList,f=this.cells[1],h=this.cells[2],p=t.length;if(c.length)for(r=c[0],r.process(e),f.set(r.cells[1]),h.set(r.cells[2]),s=1,a=c.length;a>s;++s)for(r=c[s],r.process(e),u=r.cells[1],l=r.cells[2],o=0;p>o;++o)f[o]+=u[o],h[o]+=l[o];else n.nextTick(i.onended)}n.outputSignalAR(this)}return this},n.register("SynthDef",t);var l={set:function(t){n.isDictionary(t)?"string"==typeof t.type&&(this._.env=t):t instanceof e.Object&&(this._.env=t)},get:function(){return this._.env}};n.register("OscGen",function(){var n={set:function(t){t instanceof e.Object&&(this._.osc=t)},get:function(){return this._.osc}},i={set:function(e){"string"==typeof e&&(this._.wave=e)},get:function(){return this._.wave}},r=function(t){var n,i,r,s,a=this._;return i=a.osc||null,r=a.env||{},s=r.type||"perc",i instanceof e.Object&&"function"==typeof i.clone&&(i=i.clone()),i||(i=e("osc",{wave:a.wave})),i.freq=t.freq,i.mul=i.mul*t.velocity/128,n=i,r instanceof e.Object?"function"==typeof r.clone&&(n=r.clone().append(n)):n=e(s,r,n),n.on("ended",t.doneAction).bang(),n};return function(e){var s=new t(e);return s._.wave="sin",Object.defineProperties(s,{env:l,osc:n,wave:i}),s.def=r,s}}()),n.register("PluckGen",function(){var n=function(t){var n,i,r,s=this._;return i=s.env||{},r=i.type||"perc",n=e("pluck",{freq:t.freq,mul:t.velocity/128}).bang(),i instanceof e.Object?"function"==typeof i.clone&&(n=i.clone().append(n)):n=e(r,i,n),n.on("ended",t.doneAction).bang(),n};return function(e){var i=new t(e);return Object.defineProperties(i,{env:l}),i.def=n,i}}())}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var i=this._;i.isLooped=!1,i.onended=n.make_onended(this,0)}var n=e.fn,i=e.modules.Scissor,r=i.Tape,s=i.TapeStream,a=n.isSignalArray;n.extend(t);var o=t.prototype;Object.defineProperties(o,{tape:{set:function(t){t instanceof r?(this.playbackState=n.PLAYING_STATE,this._.tape=t,this._.tapeStream=new s(t,this._.samplerate),this._.tapeStream.isLooped=this._.isLooped):(t instanceof e.Object&&t.buffer&&(t=t.buffer),"object"==typeof t&&Array.isArray(t.buffer)&&a(t.buffer[0])&&(this.playbackState=n.PLAYING_STATE,this._.tape=new i(t),this._.tapeStream=new s(this._.tape,this._.samplerate),this._.tapeStream.isLooped=this._.isLooped))},get:function(){return this._.tape}},isLooped:{get:function(){return this._.isLooped}},buffer:{get:function(){return this._.tape?this._.tape.getBuffer():void 0}}}),o.loop=function(e){return this._.isLooped=!!e,this._.tapeStream&&(this._.tapeStream.isLooped=this._.isLooped),this},o.bang=function(){return this.playbackState=n.PLAYING_STATE,this._.tapeStream&&this._.tapeStream.reset(),this._.emit("bang"),this},o.getBuffer=function(){return this._.tape?this._.tape.getBuffer():void 0},o.process=function(e){var t=this._;if(this.tickID!==e){this.tickID=e;var i=t.tapeStream;if(i){var r=this.cells[1],s=this.cells[2],a=i.fetch(r.length);r.set(a[0]),s.set(a[1]),this.playbackState===n.PLAYING_STATE&&i.isEnded&&n.nextTick(t.onended)}n.outputSignalAR(this)}return this},n.register("tape",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.timer(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.task=[],i.i=0,i.j=0,i.imax=0,i.jmax=0,i.wait=0,i.count=0,i.args={},i.doNum=1,i.initFunc=n.nop,i.onended=a(this),this.on("start",s)}var n=e.fn,i=e.timevalue,r=e(function(){}).constructor;n.extend(t);var s=function(){var e,t=this._;this.playbackState=n.PLAYING_STATE,t.task=this.nodes.map(function(e){return e instanceof r?e.func:!1}).filter(function(e){return!!e}),t.i=t.j=0,t.imax=t.doNum,t.jmax=t.task.length,e=t.initFunc(),n.isDictionary(e)||(e={param:e}),t.args=e},a=function(e){return function(){e.playbackState=n.FINISHED_STATE;var t=e._,i=e.cells[0],r=e.cells[1],s=e.cells[2],a=t.args;if("number"==typeof a)for(var o=0,u=r.length;u>o;++o)i[0]=r[o]=s[o]=a;t.emit("ended",t.args)}},o=t.prototype;Object.defineProperties(o,{"do":{set:function(e){"number"==typeof e&&e>0&&(this._.doNum=1/0===e?1/0:0|e)},get:function(){return this._.doNum}},init:{set:function(e){"function"==typeof e&&(this._.initFunc=e)},get:function(){return this._.initFunc}}}),o.bang=function(){var e=this._;return e.count=0,e.emit("bang"),this},o.wait=function(e){return"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>0&&(this._.count+=this._.samplerate*e*.001|0),this},o.process=function(e){var t,i=this.cells[0],r=this._;if(this.tickID!==e&&(this.tickID=e,r.i<r.imax)){for(;r.count<=0;){if(r.j>=r.jmax){if(++r.i,r.i>=r.imax){n.nextTick(r.onended);break}r.j=0}t=r.task[r.j++],t&&t.call(this,r.i,r.args)}r.count-=i.length}return this},n.register("task",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,0,t),n.timer(this),n.fixKR(this);var i=this._;this.playbackState=n.FINISHED_STATE,i.currentTime=0,i.samplesMax=0,i.samples=0,i.onended=n.make_onended(this),this.once("init",r),this.on("start",s)}var n=e.fn,i=e.timevalue;n.extend(t);var r=function(){this._.timeout||(this.timeout=1e3)},s=function(){this.playbackState=n.PLAYING_STATE};Object.defineProperty(s,"unremovable",{value:!0,writable:!1});var a=t.prototype;Object.defineProperties(a,{timeout:{set:function(e){var t=this._;"string"==typeof e&&(e=i(e)),"number"==typeof e&&e>=0&&(this.playbackState=n.PLAYING_STATE,t.timeout=e,t.samplesMax=.001*t.samplerate*e|0,t.samples=t.samplesMax)},get:function(){return this._.timeout}},currentTime:{get:function(){return this._.currentTime}}}),a.bang=function(){var e=this._;return this.playbackState=n.PLAYING_STATE,e.samples=e.samplesMax,e.currentTime=0,e.emit("bang"),this},a.process=function(e){var t=this.cells[0],i=this._;if(this.tickID!==e){if(this.tickID=e,i.samples>0&&(i.samples-=t.length),i.samples<=0){for(var r=this.nodes,s=0,a=r.length;a>s;++s)r[s].bang();n.nextTick(i.onended)}i.currentTime+=n.currentTimeIncr}return this},n.register("timeout",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t),n.fixAR(this),this._.curve=null}var n=e.fn;n.extend(t);var i=t.prototype;Object.defineProperties(i,{curve:{set:function(e){n.isSignalArray(e)&&(this._.curve=e)},get:function(){return this._.curve}}}),i.process=function(e){var t=this._;if(this.tickID!==e){if(this.tickID=e,n.inputSignalAR(this),t.curve){var i,r,s=this.cells[0],a=t.curve,o=a.length,u=t.cellsize;for(r=0;u>r;++r)i=.5*(s[r]+1)*o+.5|0,0>i?i=0:i>=o-1&&(i=o-1),s[r]=a[i]}n.outputSignalAR(this)}return this},n.register("waveshaper",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,1,t);var n=this._;n.inMin=0,n.inMax=1,n.outMin=0,n.outMax=1,n.ar=!1,this.once("init",i)}var n=e.fn;n.extend(t);var i=function(){this._.warp||(this.warp="linlin")},r=t.prototype;Object.defineProperties(r,{inMin:{set:function(e){"number"==typeof e&&(this._.inMin=e)},get:function(){return this._.inMin}},inMax:{set:function(e){"number"==typeof e&&(this._.inMax=e)},get:function(){return this._.inMax}},outMin:{set:function(e){"number"==typeof e&&(this._.outMin=e)},get:function(){return this._.outMin}},outMax:{set:function(e){"number"==typeof e&&(this._.outMax=e)},get:function(){return this._.outMax}},warp:{set:function(e){if("string"==typeof e){var t=s[e];t&&(this._.warp=t,this._.warpName=e)}},get:function(){return this._.warpName}}}),r.process=function(e){var t=this._,i=this.cells[0];if(this.tickID!==e){this.tickID=e;var r,s=t.inMin,a=t.inMax,o=t.outMin,u=t.outMax,l=t.warp,c=this.nodes.length,f=t.mul,h=t.add,p=i.length;if(t.ar&&c){for(n.inputSignalAR(this),r=0;p>r;++r)i[r]=l(i[r],s,a,o,u)*f+h;n.outputSignalAR(this)}else{var d=this.nodes.length?n.inputSignalKR(this):0,m=l(d,s,a,o,u)*f+h;for(r=0;p>r;++r)i[r]=m}}return this};var s={linlin:function(e,t,n,i,r){return t>e?i:e>n?r:n===t?i:(e-t)/(n-t)*(r-i)+i},linexp:function(e,t,n,i,r){return t>e?i:e>n?r:0===i?0:n===t?r:Math.pow(r/i,(e-t)/(n-t))*i},explin:function(e,t,n,i,r){return t>e?i:e>n?r:0===t?r:Math.log(e/t)/Math.log(n/t)*(r-i)+i},expexp:function(e,t,n,i,r){return t>e?i:e>n?r:0===t||0===i?0:Math.pow(r/i,Math.log(e/t)/Math.log(n/t))*i}};n.register("zmap",t)}(timbre),function(e){"use strict";function t(t){e.Object.call(this,2,t),n.fixAR(this);var s=this._;s.mode="",s.bufferL=new n.SignalArray(r<<2),s.bufferR=new n.SignalArray(r<<2),s.buffermask=s.bufferL.length-1,s.node=null,s.script=i.createJavaScriptNode(r,2,2),s.writeIndex=0,s.readIndex=0,s.totalRead=0,s.totalWrite=0}if("webkit"===e.env){var n=e.fn,i=n._audioContext,r=1024;n.extend(t);var s=t.prototype;Object.defineProperties(s,{context:{get:function(){return i}},mode:{get:function(){return this._.mode}}}),s.cancel=function(){for(var e=this._,t=this.cells[0],n=0,i=t.length;i>n;++n)t[n]=0;e.node=null},function(){function e(e){t.call(this,e);var n=this._;n.mode="recv",n.script.onaudioprocess=r(this),n.gain=i.createGainNode(),n.gain.gain.value=0,n.script.connect(n.gain)}n.extend(e,t);var r=function(e){return function(t){var n=e._,i=t.inputBuffer,r=i.getChannelData(0),s=i.getChannelData(1),a=i.length,o=n.writeIndex;n.bufferL.set(r,o),n.bufferR.set(s,o),n.writeIndex=o+a&n.buffermask,n.totalWrite+=a}},s=e.prototype;s.cancel=function(){t.prototype.cancel.call(this),this._.gain.disconnect(),this._.node&&this._.node.disconnect()},s.recv=function(e){var t=this._;try{t.node=e,t.node.connect(t.script),t.gain.connect(i.destination)}catch(n){t.node=null}return t.writeIndex=0,t.readIndex=0,t.totalWrite=0,t.totalRead=0,this},s.process=function(e){var t=this._;if(null===t.node)return this;if(this.tickID!==e){this.tickID=e;var i=t.cellsize,r=t.bufferL,s=t.bufferR;if(t.totalWrite>t.totalRead+i){var a=t.readIndex,o=a+i;this.cells[1].set(r.subarray(a,o)),this.cells[2].set(s.subarray(a,o)),t.readIndex=o&t.buffermask,t.totalRead+=i}n.outputSignalAR(this)}return this},n.register("WebAudioAPI:recv",e)}(),function(){function e(e){t.call(this,e),n.listener(this);var r=this._;r.mode="send",r.script.onaudioprocess=i(this),r.connectIndex=null}n.extend(e,t);var i=function(e){return function(t){var n=e._,i=t.outputBuffer,r=i.length;if(n.totalWrite>n.totalRead+r){var s=n.readIndex,a=s+r;i.getChannelData(0).set(n.bufferL.subarray(s,a)),i.getChannelData(1).set(n.bufferR.subarray(s,a)),n.readIndex=a&n.buffermask,n.totalRead+=r}}},r=e.prototype;r.cancel=function(){t.prototype.cancel.call(this);var e=this._;null!==e.connectIndex?e.script.disconnect(e.connectIndex):e.script.disconnect(),this.unlisten()},r.send=function(e,t){var n=this._;try{n.node=e,"number"==typeof t?(n.script.connect(n.node,t),n.connectIndex=t):(n.script.connect(n.node),n.connectIndex=null),this.listen()}catch(i){n.node=null}return n.writeIndex=0,n.readIndex=0,n.totalWrite=0,n.totalRead=0,this},r.process=function(e){var t=this._;if(null===t.script)return this;if(this.tickID!==e){this.tickID=e;var i=this.cells[1],r=this.cells[2],s=t.cellsize,a=t.writeIndex;n.inputSignalAR(this),t.bufferL.set(i,a),t.bufferR.set(r,a),t.writeIndex=a+s&t.buffermask,t.totalWrite+=s,n.outputSignalAR(this)}return this},n.register("WebAudioAPI:send",e)}()}}(timbre);var context=new webkitAudioContext,oscillator,gain,now=context.currentTime,oscillatorCounter=0,api=T("WebAudioAPI:recv"),context=api.context,synth=T("+sin",{freq:2,mul:.5},api),send=T("WebAudioAPI:send",synth).send(context.destination);timbre.once("reset",function(){send.cancel()});var A=T("sin",{freq:220,mul:.5}),B=T("sin",{freq:246.942,mul:.5}),cSharp=T("sin",{freq:277.183,mul:.5}),D=T("sin",{freq:293.665,mul:.5}),E=T("sin",{freq:329.628,mul:.5}),fSharp=T("sin",{freq:369.994,mul:.5}),gSharp=T("sin",{freq:415.305,mul:.5}),highA=T("sin",{freq:440,mul:.5});$(document).ready(function(){$("#1").on("mousedown",function(){startOsc(220)}),$("#1").on("mouseup",function(){off()}),$("#2").on("click",function(){T("perc",{r:1e3},B).on("ended",function(){this.pause()}).bang().play()}),$("#3").on("click",function(){T("perc",{r:1e3},cSharp).on("ended",function(){this.pause()}).bang().play()}),$("#4").on("click",function(){T("perc",{r:1e3},D).on("ended",function(){this.pause()}).bang().play()}),$("#5").on("click",function(){T("perc",{r:1e3},E).on("ended",function(){this.pause()}).bang().play()}),$("#6").on("click",function(){T("perc",{r:1e3},fSharp).on("ended",function(){this.pause()}).bang().play()}),$("#7").on("click",function(){T("perc",{r:1e3},gSharp).on("ended",function(){this.pause()}).bang().play()}),$("#8").on("click",function(){T("perc",{r:1e3},highA).on("ended",function(){this.pause()}).bang().play()})});